{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4c2b20e20714442674c1","webpack:///./index.js","webpack:///./src/Context.js","webpack:///./src/Events.js","webpack:///./src/Status.js","webpack:///./src/Collector/Dnd.js","webpack:///./src/Collector/Paste.js","webpack:///./src/Collector/Picker.js","webpack:///external \"jQuery\"","webpack:///./src/Emitter.js","webpack:///./src/Errors.js","webpack:///./src/FileRequest.js","webpack:///./src/Html5/Runtime.js","webpack:///./src/File.js","webpack:///./src/Flash/Runtime.js","webpack:///./src/Runtime.js","webpack:///./src/Html5/Transport.js","webpack:///./src/Flash/Transport.js"],"names":[],"mappings":"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","file":"uploader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UXUploader\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"UXUploader\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4c2b20e20714442674c1\n **/","import Context from './src/Context';\nimport Events from './src/Events';\nimport Status from './src/Status';\nimport DndCollector from './src/Collector/Dnd';\nimport PasteCollector from './src/Collector/Paste';\nimport PickerCollector from './src/Collector/Picker';\n\nexport default Context;\nexport { Events, Status, DndCollector, PasteCollector, PickerCollector };\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import Emitter from './Emitter';\nimport Events from './Events';\nimport Status from './Status';\nimport {QueueLimitError, DuplicateError, FileExtensionError, FileSizeError} from './Errors';\nimport FileRequest from './FileRequest';\nimport DndCollector from './Collector/Dnd';\nimport PasteCollector from './Collector/Paste';\nimport PickerCollector from './Collector/Picker';\n\nexport default class Context extends Emitter {\n\n    constructor(options) {\n        super();\n\n        let {processThreads, autoPending, queueCapcity, accept, sizeLimit, preventDuplicate, multiple} = options;\n\n        this.stat = new Stat;\n        this.limiter = new Limiter;\n        this.filter = new Filter;\n        this.accept = accept;\n        this.autoPending = autoPending;\n        this.multiple = multiple == null ? true : multiple;\n        this.pending = new Pending(processThreads);\n\n        if (queueCapcity && queueCapcity > 0) {\n            this.addLimit(() => this.stat.getTotal() >= queueCapcity);\n        }\n\n        if (accept && accept.length > 0) {\n            this.addFilter((file) => {\n                if (!accept) {\n                    return;\n                }\n                let allowed = accept.some((item) => {\n                    return item.extensions && item.extensions.split(',').indexOf(file.ext) > -1\n                });\n                if (allowed) {\n                    return;\n                }\n                return new FileExtensionError(file, file.ext + ' is not allowed.');\n            });\n        }\n\n        if (sizeLimit && sizeLimit > 0) {\n            this.addFilter((file) => {\n                if (file.size > sizeLimit) {\n                    return new FileSizeError(file, file.size + ' is greater than limit:' + sizeLimit);\n                }\n            });\n        }\n\n        if (preventDuplicate) {\n            this.addFilter((file) => {\n                let has = this.stat.getFiles().some((item) => item.name === file.name && item.size === file.size);\n                if (has) {\n                    return new DuplicateError(file, file.name + ' already in queue');\n                }\n            });\n        }\n\n        this.requestOptions = options.request || {};\n    }\n\n    createFileRequest(file) {\n        return new FileRequest(file, this.requestOptions);\n    }\n\n    isLimit() {\n        return this.limiter.isLimit();\n    }\n\n    addLimit(limit) {\n        return this.limiter.add(limit);\n    }\n\n    addFilter(filter) {\n        return this.filter.add(filter);\n    }\n\n    isAllow(file) {\n        return this.filter.filter(file);\n    }\n\n    add(file) {\n        if (this.isLimit()) {\n            this.emit(Events.QUEUE_ERROR, new QueueLimitError);\n            return false;\n        }\n\n        if (!this.isAllow(file)) {\n            this.emit(Events.QUEUE_ERROR, this.filter.getError());\n            return false;\n        }\n\n        if (!this.stat.add(file)) {\n            this.emit(Events.QUEUE_ERROR, new DuplicateError(file, file.name + ' already in queue'));\n            return false;\n        }\n\n        file.setContext(this);\n        file.setStatus(Status.QUEUED);\n\n        file.on(Events.FILE_STATUS_CHANGE, (status) => {\n            if (status === Status.CANCELLED) {\n                this.stat.remove(file);\n            } else if (status === Status.PENDING) {\n                setTimeout(() => {\n                    if (this.pending.add(file) && this.pending.size() === 1) {\n                        this.emit(Events.QUEUE_UPLOAD_START);\n                    }\n                }, 1);\n            }\n\n            this.emit(Events.QUEUE_STAT_CHANGE, this.stat);\n\n            if (this.stat.getFiles(Status.PROCESS).length < 1) {\n                this.emit(Events.QUEUE_UPLOAD_END);\n            }\n        });\n\n        file.on(Events.FILE_UPLOAD_PROGRESS, () => {\n            this.emit(Events.QUEUE_UPLOAD_PROGRESS);\n        });\n\n        this.emit(Events.QUEUE_ADD, file);\n\n        this.emit(Events.QUEUE_STAT_CHANGE, this.stat);\n\n        if (this.autoPending) {\n            file.pending();\n        }\n\n        return true;\n    }\n\n    /**\n     * 设置自动上传\n     *\n     * @param {Boolean} flag\n     */\n    setAutoPending(flag) {\n        this.autoPending = flag;\n        if (this.autoPending) {\n            this.stat.getFiles(Status.QUEUED).forEach((file) => file.pending());\n        }\n    }\n\n    /**\n     * 设置是否多选上传\n     *\n     * @param {Boolean} flag\n     */\n    setMultiple(flag) {\n        this.multiple = flag;\n    }\n\n    isMultiple() {\n        return this.multiple;\n    }\n\n    getAccept() {\n        return this.accept;\n    }\n\n    getStat() {\n        return this.stat;\n    }\n\n    setSWF(url) {\n        PickerCollector.setSWF(url);\n    }\n\n    getPickerCollector() {\n        if (!this.picker) {\n            this.picker = new PickerCollector(this);\n        }\n        return this.picker;\n    }\n\n    getDndCollector() {\n        if (!this.dnd) {\n            this.dnd = new DndCollector(this);\n        }\n        return this.dnd;\n    }\n\n    getPasteCollector() {\n        if (!this.paster) {\n            this.paster = new PasteCollector(this);\n        }\n        return this.paster;\n    }\n}\n\n\nclass Set {\n    constructor() {\n        this._set = [];\n    }\n\n    /**\n     * 项目总数\n     *\n     * @returns {Number}\n     */\n    get size() {\n        return this._set.length;\n    }\n\n    /**\n     * 从头部取出一项\n     *\n     * @returns {*}\n     */\n    shift() {\n        return this._set.shift();\n    }\n\n    /**\n     * 从尾部取出一项\n     *\n     * @returns {*}\n     */\n    pop() {\n        return this._set.pop();\n    }\n\n    /**\n     * 获得所有项\n     *\n     * @returns {Array}\n     */\n    toArray() {\n        return this._set.slice(0);\n    }\n\n    /**\n     * 添加一项\n     *\n     * @param item\n     * @returns {boolean} success if true\n     */\n    add(item) {\n        if (this.has(item)) {\n            return false;\n        }\n        this._set.push(item);\n        return true;\n    }\n\n    /**\n     * 是否存在该项\n     *\n     * @param item\n     * @returns {boolean}\n     */\n    has(item) {\n        return this._set.indexOf(item) > -1;\n    }\n\n    /**\n     * 删除某项\n     *\n     * @returns {boolean} success if true\n     */\n    remove(item) {\n        var i = this._set.indexOf(item);\n        if (i > -1) {\n            this._set.splice(i, 1);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * 清空\n     */\n    clear() {\n        this._set = [];\n    }\n}\n\nclass Stat {\n    constructor() {\n        this.files = new Set;\n    }\n    add(file) {\n        return this.files.add(file);\n    }\n    remove(file) {\n        this.files.remove(file);\n    }\n    getTotal() {\n        return this.files.size;\n    }\n    getFiles(flag) {\n        var files = this.files.toArray();\n        if (!flag) {\n            return files;\n        }\n        return files.filter((file) => {\n            return !!(file.getStatus() & flag);\n        });\n    }\n    stat(flag) {\n        let stat = {}, files = this.getFiles(flag);\n\n        files.forEach((file) => {\n            let status = file.getStatus();\n            stat[status] = (status in stat) ?  (stat[status] + 1) : 1;\n        });\n\n        stat['sum'] = files.length;\n\n        return stat;\n    }\n}\n\nclass Limiter {\n    constructor() {\n        this.limits = new Set;\n    }\n\n    add(limit) {\n        this.limits.add(limit);\n        return this;\n    }\n\n    remove(limit) {\n        this.limits.remove(limit);\n        return this;\n    }\n\n    isLimit() {\n        return this.limits.toArray().some((fn) => fn.call(this));\n    }\n}\n\nclass Filter {\n    constructor() {\n        this.filters = new Set;\n    }\n\n    add(filter) {\n        this.filters.add(filter);\n        return this;\n    }\n\n    remove(filter) {\n        this.filters.remove(filter);\n        return this;\n    }\n\n    filter(file) {\n        this.error = null;\n        return this.filters.toArray().every((filter) => {\n            let ret;\n            try {\n                ret = filter(file);\n            } catch (e) {\n                ret = e;\n            }\n            if (typeof ret === 'string') {\n                this.error = new FilterError(file, ret);\n                return false;\n            } else if (ret instanceof Error) {\n                this.error = ret instanceof FilterError ? ret : new FilterError(file, ret.toString());\n                return false;\n            }\n            return true;\n        });\n    }\n\n    getError() {\n        return this.error;\n    }\n}\n\nclass Pending {\n    constructor(threads) {\n        this.threads = threads || 2;\n        this.heading = new Set;\n        this.pending = new Set;\n    }\n\n    add(file) {\n        if (!this.pending.add(file)) return false;\n\n        file.session().always(() => this.pending.remove(file));\n\n        this.load();\n\n        return true;\n    }\n\n    size() {\n        return this.pending.size + this.heading.size;\n    }\n\n    process(file) {\n        if (!this.heading.add(file)) return;\n\n        file.session().always(() => {\n            this.heading.remove(file);\n            this.load();\n        });\n    }\n\n    load () {\n        var file;\n        while (this.heading.size < this.threads && (file = this.pending.shift())) {\n            if (file.prepare()) {\n                this.process(file);\n            }\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Context.js\n **/","export default {\n    QUEUE_UPLOAD_START: 'queueuploadstart', // 队列上传开始\n    QUEUE_UPLOAD_PROGRESS: 'queueuploadprogress', // 队列上传中\n    QUEUE_UPLOAD_END: 'queueuploadend', // 队列上传结束\n    QUEUE_ADD: 'queueadd', // 队列添加了一个文件\n    QUEUE_ERROR: 'queueerror', // 队列错误\n    QUEUE_STAT_CHANGE: 'statchange', // 统计发生变化\n\n    FILE_UPLOAD_START: 'fileuploadstart', // 文件上传开始\n    FILE_UPLOAD_PREPARING: 'fileuploadpreparing', // 文件上传准备时\n    FILE_UPLOAD_PREPARED: 'fileuploadprepared', // 文件上传准备好了\n    CHUNK_UPLOAD_PREPARING: 'chunkuploadpreparing', // 分块上传准备时\n    CHUNK_UPLOAD_COMPLETING: 'chunkuploadcompleting', // 分块上传结束时\n    FILE_UPLOAD_PROGRESS: 'fileuploadprogress', // 文件上传进度中\n    FILE_UPLOAD_END: 'fileuploadend', // 文件上传结束\n    FILE_UPLOAD_COMPLETING: 'fileuploadcompleting', // 文件上传结束时\n    FILE_UPLOAD_SUCCESS: 'fileuploadsuccess', // 文件上传成功\n    FILE_UPLOAD_ERROR: 'fileuploaderror', // 文件上传失败\n    FILE_UPLOAD_COMPLETED: 'fileuploadcompleted', // 文件上传完成了\n\n    FILE_CANCEL: 'filecancel', // 文件退出\n    FILE_STATUS_CHANGE: 'filestatuschange' // 文件状态发生变化\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Events.js\n **/","export default {\n    ALL: 255, // 所有状态\n\n    PROCESS: 31, // INITED -> END\n    INITED: 1, // 初始状态\n    QUEUED: 2, // 进入队列\n    PENDING: 4, // 队列中等待\n    PROGRESS: 8, // 上传中\n    END: 16, // 上传完成, 等待后续处理\n\n    SUCCESS: 32,  // 上传成功\n    ERROR: 64, // 上传出错\n    CANCELLED: 128  // 上传取消 和 queued 相反, 退出队列\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Status.js\n **/","import $ from 'jquery';\nimport Emitter from '../Emitter';\nimport Runtime from '../Html5/Runtime';\nimport File from '../File';\n\nfunction createReader(collector) {\n    function reader(dataTransfer, responders) {\n        var items = dataTransfer.items,\n            files = dataTransfer.files,\n            item;\n\n        for (let i = 0, l = files.length; i < l; i++) {\n            item = items && items[i];\n\n            let entry = item && item.webkitGetAsEntry && item.webkitGetAsEntry();\n\n            if (entry && entry.isDirectory) {\n                readEntry(entry, responders);\n            } else {\n                collector(files[i], responders);\n            }\n        }\n    }\n    function readEntry(entry, responders) {\n        if (entry.isFile) {\n            entry.file((file) => collector(file, responders));\n        } else if (entry.isDirectory) {\n            entry.createReader().readEntries((entries) => {\n                for (let i = 0, l = entries.length; i < l; i++) {\n                    readEntry(entries[i], responders);\n                }\n            });\n        }\n    }\n    return reader;\n}\n\nclass Area extends Emitter {\n    constructor(area) {\n        super();\n\n        this.areaElement = area;\n    }\n\n    contains(target) {\n        return this.areaElement.contains(target);\n    }\n\n    start(e, allowed) {\n        this.emit('start', e, allowed);\n    }\n\n    response(e, allowed) {\n        allowed = allowed && this.contains(e.target);\n        this.emit('response', e, allowed);\n        return allowed;\n    }\n\n    end(e) {\n        this.emit('end', e);\n    }\n}\n\nconst Collectors = [];\n\nfunction prepare() {\n    const $doc = $(document),\n        runtime = Runtime.getInstance();\n\n    let started = 0, enter = 0, endTimer;\n    const dataTransferReader = createReader((file, responders) => {\n        if (!responders || responders.length < 1) {\n            return;\n        }\n        file = new File(runtime, file);\n        responders.some((responder) => responder.recieve(file));\n    });\n\n    const start = (e) => {\n        started = 1;\n        Collectors.forEach((responder) => responder.start(e));\n    };\n\n    const move = (e) => {\n        var allowed = Collectors.filter((responder) => responder.response(e));\n\n        var dataTransfer = (e.originalEvent || e).dataTransfer;\n\n        if (dataTransfer) {\n            dataTransfer.dropEffect = allowed.length ? 'copy' : 'none';\n        }\n        e.preventDefault();\n    };\n\n    const end = (e) => {\n        started = 0;\n        enter = 0;\n        Collectors.forEach((responder) => responder.end(e));\n    };\n\n    const drag = (e) => {\n        clearTimeout(endTimer);\n        let isLeave = e.type === 'dragleave';\n        if (!isLeave && !started) {\n            start(e);\n        }\n        move(e);\n        if (isLeave) {\n            endTimer = setTimeout(() => end(e), 100);\n        }\n    };\n    const drop = (e) => {\n        e.preventDefault();\n\n        clearTimeout(endTimer);\n        end(e);\n\n        const responders = Collectors.filter((responder) => responder.contains(e.target));\n\n        if (responders.length < 1) {\n            return;\n        }\n\n        let dataTransfer = (e.originalEvent || e).dataTransfer;\n\n        try {\n            if (dataTransfer.getData('text/html')) {\n                return;\n            }\n        } catch (ex) {}\n\n        dataTransferReader(dataTransfer, responders);\n    };\n\n    $doc.on('dragenter dragover dragleave', drag);\n    $doc.on('drop', drop);\n}\n\nexport default class DndCollector {\n    static isSupport() {\n        return ('DataTransfer' in window) && ('FileList' in window);\n    }\n\n    constructor(context) {\n        if (Collectors.length < 1) {\n            prepare();\n        }\n        Collectors.push(this);\n\n        this.context = context;\n        this.areas = [];\n    }\n\n    addArea(area) {\n        area = new Area(area);\n        this.areas.push(area);\n        area.destroy = () => {\n            area.removeAllListeners();\n            let i = this.areas.indexOf(area);\n            if (i > -1) {\n                this.areas.splice(i, 1);\n            }\n        };\n\n        return area;\n    }\n\n    contains(target) {\n        return this.areas.some((area) => area.contains(target));\n    }\n\n    start(e) {\n        const allowed = !this.context.isLimit();\n        this.areas.forEach((area) => area.start(e, allowed));\n    }\n\n    response(e) {\n        const allowed = !this.context.isLimit(),\n            res = this.areas.map((area) => area.response(e, allowed));\n        return allowed && res.some((r) => !!r);\n    }\n\n    recieve(file) {\n        return this.context.add(file);\n    }\n\n    end(e) {\n        this.areas.forEach((area) => area.end(e));\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Collector/Dnd.js\n **/","import $ from 'jquery';\nimport Emitter from '../Emitter';\nimport Runtime from '../Html5/Runtime';\nimport File from '../File';\n\nexport default class PasteCollector {\n    static isSupport() {\n        return ('DataTransfer' in window) && ('FileList' in window);\n    }\n\n    constructor(context) {\n        this.context = context;\n        this.runtime = Runtime.getInstance();\n    }\n\n    addArea(area) {\n        area = area.on ? area : $(area);\n\n        const context = this.context,\n            runtime = this.runtime,\n            emitter = new Emitter;\n\n        const paste = (e) => {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            const clipboardData = (e.originalEvent || e).clipboardData,\n                items = clipboardData.items,\n                files = clipboardData.files;\n\n            try {\n                if ((!items && !files) || clipboardData.getData('text/html')) {\n                    return;\n                }\n            } catch (ex) {}\n\n            let prevent, i, l, file, item;\n\n            if (files && files.length) {\n                // safari has files\n                prevent = files.length > 0;\n                for (i = 0, l = files.length; i < l && !context.isLimit(); i++) {\n                    file = new File(runtime, files[i]);\n\n                    prevent = 1;\n\n                    if (context.add(file) && !context.isMultiple()) {\n                        break;\n                    }\n                }\n            } else if (items && items.length) {\n                // chrome has items\n                let filename = clipboardData.getData('text/plain');\n                for (i = 0, l = items.length; i < l && !context.isLimit(); i++) {\n                    item = items[i];\n\n                    if (item.kind !== 'file' || !(file = item.getAsFile())) {\n                        continue;\n                    }\n\n                    file = new File(runtime, file, filename);\n                    filename = null;\n\n                    prevent = 1;\n\n                    if (context.add(file) && !context.isMultiple()) {\n                        break;\n                    }\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n                e.stopPropagation();\n                emitter.emit('paste', clipboardData);\n            }\n        };\n\n        area.on('paste', paste);\n\n        emitter.destroy = () => {\n            emitter.removeAllListeners();\n            area.off('paste', paste);\n        };\n\n        return emitter;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Collector/Paste.js\n **/","import $ from 'jquery';\nimport Emitter from '../Emitter';\nimport Html5Runtime from '../Html5/Runtime';\nimport FlashRuntime from '../Flash/Runtime';\nimport File from '../File';\n\nlet SWF_URL = '';\n\nclass FlashTriggerCollection {\n    constructor(context, onFiles) {\n        let overlay = $('<label></label>');\n        overlay.css({\n            position: 'fixed',\n            opacity: 0,\n            left: -100,\n            top: -100,\n            width: 50,\n            height: 50,\n            display: 'block',\n            cursor: 'pointer',\n            background: '#fff',\n            overflow: 'hidden',\n            zIndex: 99999\n        });\n        const runtime = new FlashRuntime(overlay, SWF_URL, () => {\n                return {\n                    accept: context.getAccept(),\n                    multiple: context.isMultiple()\n                };\n            });\n\n        runtime.on('select', (e) => {\n            onFiles(e.files, runtime);\n            this.current && this.current.emit('files', e.files, runtime);\n        });\n\n        runtime.on('rollOut', () => this.hideOverlay());\n        this.overlay = overlay.appendTo(document.body);\n    }\n\n    hideOverlay() {\n        this.overlay.css({\n            left: -100,\n            top: -100,\n            width: 50,\n            height: 50\n        });\n        if (this.current) {\n            this.current.emit('rollOut');\n            this.current = null;\n        }\n    }\n\n\n    add(trigger) {\n        const overlay = this.overlay, emitter = new Emitter;\n        trigger = trigger.on ? trigger : $(trigger);\n        trigger.on('mouseover.flashpicker', function () {\n            let rect = this.getBoundingClientRect();\n            overlay.css({\n                left: rect.left,\n                top: rect.top,\n                width: rect.width,\n                height: rect.height\n            });\n            emitter.emit('rollOver');\n            if (this.current && this.current !== emitter) {\n                this.current.emit('rollOut');\n            }\n            this.current = emitter;\n        });\n\n        emitter.destroy = () => {\n            if (this.current === emitter) {\n                this.hideOverlay();\n            }\n            emitter.removeAllListeners();\n            trigger.off('mouseover.flashpicker');\n        };\n\n        return emitter;\n    }\n}\n\nclass Html5TriggerCollection {\n    constructor(context, onFiles) {\n        const runtime = Html5Runtime.getInstance();\n\n        this._createInput = (label) => {\n            let input = $(document.createElement('input'));\n\n            input.attr('type', 'file');\n            input.css({\n                position:'absolute',\n                clip: 'rect(1px 1px 1px 1px)'\n            });\n\n            let accept = context.getAccept();\n            if (accept && accept.length > 0) {\n                accept = accept.map(function (item) {\n                    return item.mimeTypes;\n                });\n\n                input.attr('accept', accept.join(','));\n            }\n            if (context.isMultiple()) {\n                input.attr('multiple', 'multiple');\n            }\n\n            input.on('change', (e) => {\n                onFiles(e.target.files, runtime);\n                input.remove();\n                this._createInput(label);\n            });\n            label.html(input);\n        };\n    }\n\n    add(trigger) {\n        const label = $('<label></label>'), emitter = new Emitter;\n        label.css({\n            position: 'absolute',\n            opacity: 0,\n            top:0,left:0,\n            width: '100%',\n            height: '100%',\n            display: 'inline-block',\n            cursor: 'pointer',\n            background: '#fff',\n            overflow: 'hidden'\n        });\n        this._createInput(label);\n        trigger = trigger.append ? trigger : $(trigger);\n        trigger.append(label);\n\n        emitter.destroy = () => {\n            emitter.removeAllListeners();\n            label.remove();\n        };\n\n        return emitter;\n    }\n}\n\nexport default class PickerCollector {\n    static setSWF(url) {\n        SWF_URL = url;\n    }\n    constructor(context) {\n\n        const onFiles = (files, runtime) => {\n            for (let i = 0, l = files.length; i < l && !context.isLimit(); i++) {\n                context.add(new File(runtime, files[i]));\n            }\n        };\n\n        if (('DataTransfer' in window) && ('FileList' in window)) {\n            this.triggerCollection = new Html5TriggerCollection(context, onFiles);\n        } else {\n            this.triggerCollection = new FlashTriggerCollection(context, onFiles);\n        }\n    }\n\n    addArea(area) {\n        return this.triggerCollection.add(area);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Collector/Picker.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 7\n ** module chunks = 0\n **/","export {Deferred} from 'jquery';\n\nexport default class Emitter {\n\n    on(event, listener) {\n        event = event.toLowerCase();\n        if (!this._events) {\n            this._events = {};\n        }\n\n        if (!this._events[event]) {\n            this._events[event] = [];\n        }\n\n        this._events[event].push(listener);\n\n        return this;\n    }\n\n    once(event, listener) {\n        event = event.toLowerCase();\n\n        let that = this;\n\n        function fn() {\n            that.off(event, fn);\n            listener.apply(this, arguments);\n        }\n\n        fn.listener = listener;\n\n        this.on(event, fn);\n\n        return this;\n    }\n\n    off(event, listener) {\n        event = event.toLowerCase();\n\n        let listeners;\n\n        if (!this._events || !(listeners = this._events[event])) {\n            return this;\n        }\n\n        let i = listeners.length;\n        while (i-- > 0) {\n            if (listeners[i] === listener || listeners[i].listener === listener) {\n                listeners.splice(i, 1);\n                break;\n            }\n        }\n\n        if (listeners.length === 0) {\n            delete this._events[event];\n        }\n\n        return this;\n    }\n\n    removeAllListeners(event) {\n        if (!event) {\n            this._events = [];\n        } else {\n            delete this._events[event.toLowerCase()];\n        }\n\n        return this;\n    }\n\n    setPropagationTarget(emitter) {\n        if (emitter instanceof Emitter) {\n            this.propagationTarget = emitter;\n        }\n    }\n\n    emit(event, ...args) {\n        this.applyEmit(event, args);\n\n        return this;\n    }\n\n    applyEmit(event, args) {\n        event = event.toLowerCase();\n\n        let listeners;\n\n        if (!this._events || !(listeners = this._events[event])) {\n            return this;\n        }\n\n        listeners = listeners.slice(0);\n\n        listeners.forEach(fn => fn.apply(this, args));\n\n        if (this.propagationTarget) {\n            const pArgs = args.slice(0);\n            pArgs.unshift(this);\n            this.propagationTarget.applyEmit(event, pArgs);\n        }\n\n        return this;\n    }\n\n    revoke(event, data) {\n        event = event.toLowerCase();\n\n        let listeners;\n\n        if (!this._events || !(listeners = this._events[event])) {\n            return this;\n        }\n\n        return HookRevoker(listeners.slice(0), data, this);\n    }\n}\n\nfunction HookRevoker(hooks, initialData, context) {\n    let _data = initialData;\n    let _error = null;\n    let _aborted;\n\n    const i = Deferred();\n    const ret = i.promise();\n\n    ret.abort = () => {\n        _aborted = true;\n    };\n\n    const fail = (e) => {\n        if (_aborted) return;\n        if (e) {\n            _error = e instanceof Error ? e : new Error(e);\n        }\n        i.reject(_error || new Error('Unknown'));\n    };\n\n    const done = () => {\n        if (_aborted) return;\n        if (_error != null) {\n            fail();\n        } else {\n            i.resolve(_data);\n        }\n    };\n\n    const setData = (data) => {\n        if (data != null && (_data == null || data.constructor === _data.constructor)) {\n            _data = data;\n        }\n    };\n\n    const next = (data) => {\n        if (_aborted) return;\n\n        if (data instanceof Error) {\n            _error = data;\n        }\n\n        if (_error != null) {\n            return fail();\n        }\n\n        setData(data);\n\n        const hook = hooks.shift();\n        if (!hook) {\n            return done();\n        }\n        let res;\n        try {\n            res = hook.call(context, _data);\n        } catch (e) {\n            return fail(e);\n        }\n\n        if (res && res.then) {\n            res.then(next, fail);\n        } else {\n            next(res);\n        }\n    };\n\n    setTimeout(next, 1);\n\n    return ret;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Emitter.js\n **/","export class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'AbortError';\n    }\n}\n\nexport class TimeoutError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'TimeoutError';\n    }\n}\n\nexport class NetworkError extends Error {\n    constructor(status, message) {\n        super(message);\n        this.name = 'NetworkError';\n        this.status = status;\n    }\n}\n\nexport class QueueLimitError extends Error {\n    constructor() {\n        super('queue limit');\n        this.name = 'QueueLimitError';\n    }\n}\n\nexport class FilterError extends Error {\n    constructor(file, message) {\n        super(message);\n        this.name = 'FilterError';\n        this.file = file;\n    }\n}\n\nexport class DuplicateError extends FilterError {\n    constructor(file, message) {\n        super(file, message);\n        this.name = 'DuplicateError';\n    }\n}\n\nexport class FileExtensionError extends FilterError {\n    constructor(file, message) {\n        super(file, message);\n        this.name = 'FileExtensionError';\n    }\n}\n\nexport class FileSizeError extends FilterError {\n    constructor(file, message) {\n        super(file, message);\n        this.name = 'FileSizeError';\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Errors.js\n **/","\nclass ChunkResponse {\n    constructor(rawResponse, chunkRequest) {\n        this.rawResponse = rawResponse;\n        this.chunkRequest = chunkRequest;\n    }\n\n    getChunkRequest() {\n        return this.chunkRequest;\n    }\n\n    getRawResponse() {\n        return this.rawResponse;\n    }\n\n    getResponse() {\n        return this.response || this.rawResponse;\n    }\n\n    setResponse(response) {\n        this.response = response;\n        return this;\n    }\n}\n\nclass ChunkRequest {\n    /**\n     *\n     * @param {int} index\n     * @param {Blob} blob\n     * @param {FileRequest} fileRequest\n     */\n    constructor(index, blob, fileRequest) {\n        this.index = index;\n        this.blob = blob;\n        this.fileRequest = fileRequest;\n    }\n\n    getName() {\n        return this.fileRequest.getName();\n    }\n\n    getFile() {\n        return this.fileRequest.getFile();\n    }\n\n    getBlob() {\n        return this.blob;\n    }\n\n    getIndex() {\n        return this.index;\n    }\n\n    isMultiChunk() {\n        return this.getFile().source !== this.blob;\n    }\n\n    getParams() {\n        if (!this.params) {\n            this.params = this.fileRequest.getParams().clone();\n        }\n        return this.params;\n    }\n\n    getParam(name) {\n        return this.getParams().getParam(name);\n    }\n\n    setParam(name, value) {\n        this.getParams().setParam(name, value);\n\n        return this;\n    }\n\n    getFileRequest() {\n        return this.fileRequest;\n    }\n\n    getUrl() {\n        return this.url || this.fileRequest.getUrl();\n    }\n\n    setUrl(url) {\n        this.url = url;\n        return this;\n    }\n\n    getHeaders() {\n        if (!this.headers) {\n            this.headers = this.fileRequest.getHeaders().slice(0);\n        }\n        return this.headers;\n    }\n\n    setHeader(name, value) {\n        var headers = this.getHeaders();\n        headers.push({name: name, value: value});\n        return this;\n    }\n\n    isWithCredentials() {\n        return this.fileRequest.isWithCredentials();\n    }\n\n    getTimeout() {\n        return this.fileRequest.getTimeout();\n    }\n\n    createChunkResponse(response) {\n        return new ChunkResponse(response, this);\n    }\n}\n\nclass FileResponse {\n    /**\n     * @param {string|ChunkResponse} rawResponse\n     * @param {FileRequest} fileRequest\n     */\n    constructor(rawResponse, fileRequest) {\n        this.rawResponse = rawResponse;\n        if (rawResponse instanceof ChunkResponse) {\n            this.response = rawResponse.getResponse();\n            this.fromChunkResponse = true;\n        }\n        this.fileRequest = fileRequest;\n    }\n\n    isFromMultiChunkResponse() {\n        if (this.fromChunkResponse) {\n            return this.rawResponse.getChunkRequest().isMultiChunk();\n        }\n        return false;\n    }\n\n    getFileRequest() {\n        return this.fileRequest;\n    }\n\n    getRawResponse() {\n        return this.rawResponse;\n    }\n\n    getResponse() {\n        return this.response || this.rawResponse;\n    }\n\n    setResponse(response) {\n        this.response = response;\n        return this;\n    }\n}\n\nclass Params {\n    constructor(params) {\n        if (Array.isArray(params)) {\n            this.params = params.slice(0);\n        } else if (typeof params === 'object') {\n            this.params = [];\n            for (let name in params) {\n                if (params.hasOwnProperty(name)) {\n                    this.params.push({name, value: params[name]});\n                }\n            }\n        } else {\n            this.params = [];\n        }\n    }\n\n    setParam(name, value) {\n        this.removeParam(name);\n        this.addParam(name, value);\n    }\n\n    addParam(name, value) {\n        this.params.push({name, value});\n    }\n\n    removeParam(name) {\n        this.params = this.params.filter((param) => param.name !== name);\n    }\n\n    getParam(name, single) {\n        let ret = this.params.filter((param) => param.name === name)\n            .map((param) => param.value);\n\n        if (single) {\n            return ret.shift();\n        }\n\n        return ret;\n    }\n\n    clone() {\n        return new Params(this.params);\n    }\n\n    toArray() {\n        return this.params;\n    }\n\n    toString() {\n        const params = this.params.map((param) => {\n            return encodeURIComponent(param.name) + '=' + (param.value == null ? '' : encodeURIComponent(param.value));\n        });\n\n        return params.join('&'); //.replace( /%20/g, '+');\n    }\n}\n\nconst MIN_CHUNK_SIZE = 256 * 1024; // 256K\n\nexport default class FileRequest {\n    constructor(file, options = {}) {\n        this.file = file;\n        this.name = options.name || 'file';\n        this.url = options.url;\n        this.params = new Params(options.params);\n        this.headers = options.headers || [];\n        this.withCredentials = options.withCredentials;\n        this.timeout = options.timeout || 0;\n        this.chunkSize = options.chunkSize || 0;\n        this.chunkRetries = options.chunkRetries || 0;\n        this.chunkEnable = options.chunkEnable || false;\n        this.chunkProcessThreads = options.chunkProcessThreads || 0;\n    }\n    \n    getFile() {\n        return this.file;\n    }\n\n    getUrl() {\n        return this.url || '';\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    setName(name) {\n        this.name = name;\n        return this;\n    }\n\n    setUrl(url) {\n        this.url = url;\n        return this;\n    }\n\n    getParams() {\n        return this.params;\n    }\n\n    getParam(name) {\n        return this.getParams().getParam(name);\n    }\n\n    setParam(name, value) {\n        this.params.setParam(name, value);\n        return this;\n    }\n\n    getHeaders() {\n        return this.headers;\n    }\n\n    setHeader(name, value) {\n        this.headers.push({name: name, value: value});\n    }\n\n    isWithCredentials() {\n        return this.withCredentials;\n    }\n\n    setWithCredentials(flag) {\n        this.withCredentials = flag;\n        return this;\n    }\n\n    getTimeout() {\n        return this.timeout;\n    }\n\n    setTimeout(timeout) {\n        this.timeout = timeout;\n        return this;\n    }\n\n    getChunkSize() {\n        return this.chunkSize;\n    }\n\n    setChunkSize(chunkSize) {\n        this.chunkSize = chunkSize;\n        return this;\n    }\n\n    getChunkRetries() {\n        return this.chunkRetries;\n    }\n\n    setChunkRetries(retries) {\n        this.chunkRetries = retries;\n        return 0;\n    }\n\n    isChunkEnable() {\n        return this.chunkEnable && this.chunkSize > MIN_CHUNK_SIZE\n            && this.file.getRuntime().canSlice() && this.file.size > this.chunkSize;\n    }\n\n    setChunkEnable(flag) {\n        this.chunkEnable = flag;\n        return this;\n    }\n\n    getChunkProcessThreads() {\n        return this.chunkProcessThreads;\n    }\n\n    setChunkProcessThreads(threads) {\n        this.chunkProcessThreads = threads;\n        return this;\n    }\n\n    createChunkRequest(index, blob) {\n        return new ChunkRequest(index, blob, this);\n    }\n\n    createFileResponse(response) {\n        return new FileResponse(response, this);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/FileRequest.js\n **/","import {Deferred} from 'jquery';\nimport Runtime from '../Runtime';\nimport Transport from './Transport';\n\nlet instance;\n\nexport default class Html5Runtime extends Runtime {\n    static getInstance() {\n        if (!instance) {\n            instance = new Html5Runtime;\n        }\n        return instance;\n    }\n\n    getAsDataUrl(blob, timeout) {\n        let i = Deferred(),\n            fr = new FileReader, timer;\n\n        fr.onloadend = () => {\n            if (fr.readyState == FileReader.DONE) {\n                i.resolve(fr.result);\n            } else {\n                i.reject();\n            }\n            clearTimeout(timer);\n            fr.onloadend = null;\n        };\n        fr.readAsDataURL(blob);\n\n        let abort = () => {\n            fr && fr.abort();\n            fr = null;\n        };\n        if (timeout) {\n            timer = setTimeout(abort, timeout);\n        }\n\n        let ret = i.promise();\n        ret.abort = abort;\n\n        return ret;\n    }\n\n    getTransport() {\n        if (!this.transport) {\n            this.transport = new Transport(this);\n        }\n        return this.transport;\n    }\n\n    canSlice() {\n        return !!(Blob.prototype.slice || Blob.prototype.mozSlice || Blob.prototype.webkitSlice);\n    }\n\n    slice(blob, start, end) {\n        let blobSlice = blob.slice || blob.mozSlice || blob.webkitSlice;\n\n        return blobSlice.call(blob, start, end);\n    }\n\n    md5(blob) {\n        const i = Deferred();\n\n        if (!window.SparkMD5) {\n            i.reject();\n            return i.promise();\n        }\n\n        let chunkSize = 2 * 1024 * 1024,\n            chunks = Math.ceil(blob.size / chunkSize),\n            chunk = 0,\n            spark = new SparkMD5.ArrayBuffer(),\n            blobSlice = blob.mozSlice || blob.webkitSlice || blob.slice;\n\n        let fr = new FileReader;\n\n        var loadNext = () => {\n            if (!fr) return;\n            let start, end;\n\n            start = chunk * chunkSize;\n            end = Math.min(start + chunkSize, blob.size);\n\n            fr.onload = () => {\n                spark && spark.append(fr.result);\n            };\n\n            fr.onloadend = () => {\n                if (!fr) return;\n                if (fr.readyState == FileReader.DONE) {\n                    if (++chunk < chunks) {\n                        setTimeout(loadNext, 1);\n                    } else {\n                        setTimeout(() => {\n                            spark && i.resolve(spark.end());\n                            loadNext = blob = spark = null;\n                        }, 50);\n                    }\n                } else {\n                    i.reject();\n                }\n                fr.onloadend = fr.onload = null;\n            };\n\n            fr.readAsArrayBuffer(blobSlice.call(blob, start, end));\n        };\n\n        loadNext();\n\n        let ret = i.promise();\n        ret.abort = function () {\n            fr && fr.abort();\n            spark = null;\n            fr = null;\n        };\n\n        return ret;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Html5/Runtime.js\n **/","import Emitter from './Emitter';\nimport Events from './Events';\nimport Status from './Status';\nimport {Deferred} from 'jquery';\n\nlet uid = 0;\nfunction guid() {\n    return 'FILE-' + (uid++).toString(16).toUpperCase();\n}\n\nconst RE_EXT = /\\.([^.]+)$/, RE_IMAGE = /\\/(jpg|jpeg|png|gif|bmp)$/i;\nfunction guessExt(blob) {\n    let m = blob.name && RE_EXT.exec(blob.name);\n    if (m) {\n        return m[1];\n    }\n    m = blob.type && RE_IMAGE.exec(blob.type);\n    if (m) {\n        return m[1];\n    }\n    return '';\n}\n\nfunction guessType(ext) {\n    if (['jpg','jpeg','png','gif','bmp'].indexOf(ext.toLowerCase())) {\n        return 'image/' + (ext === 'jpg' ? 'jpeg' : ext);\n    }\n    return null;\n}\n\nexport default class Progress {\n    constructor(total, loaded) {\n        this.total = total;\n        this.loaded = loaded;\n    }\n\n    get percentage() {\n        return this.loaded === this.total ? 100 : Math.ceil(this.loaded / this.total * 100);\n    }\n}\n\nexport default class File extends Emitter {\n    constructor(runtime, source, filename) {\n        super();\n\n        this.id = guid();\n\n        this.name = source.name || filename || this.id;\n\n        var ext = guessExt(source).toLowerCase();\n\n        if (ext && !RE_EXT.test(this.name)) {\n            this.name += '.' + ext;\n        }\n\n        this.ext = ext;\n\n        this.type = source.type || guessType(this.ext) || 'application/octet-stream';\n\n        this.lastModified = source.lastModified || (+new Date);\n\n        this.size = source.size || 0;\n\n        this.runtime = runtime;\n\n        this.source = source;\n\n        this.status = Status.INITED;\n\n        this.progress = new Progress(this.size, 0);\n    }\n\n    getContext() {\n        return this.context;\n    }\n\n    setContext(context) {\n        this.context = context;\n        this.setPropagationTarget(context);\n    }\n\n    getRuntime() {\n        return this.runtime;\n    }\n\n    isImage() {\n        return RE_IMAGE.test(this.type);\n    }\n\n    setStatus(status) {\n        let prevStatus = this.status;\n\n        if (prevStatus !== Status.CANCELLED && status !== prevStatus) {\n            this.status = status;\n            this.emit(Events.FILE_STATUS_CHANGE, status, prevStatus);\n        }\n    }\n\n    getStatus() {\n        return this.status;\n    }\n\n    getSource() {\n        return this.source;\n    }\n\n    getAsDataUrl(timeout) {\n        if (!this._dataUrlPromise) {\n            this._dataUrlPromise = this.runtime.getAsDataUrl(this.source, timeout);\n        }\n        return this._dataUrlPromise;\n    }\n\n    md5() {\n        if (!this._md5Promise) {\n            this._md5Promise = this.runtime.md5(this.source);\n        }\n        return this._md5Promise;\n    }\n\n    session() {\n        if (this._sessionPromise) {\n            return this._sessionPromise;\n        }\n\n        let session = Deferred();\n\n        session.progress((progress) => {\n            this.setStatus(Status.PROGRESS);\n            this.emit(Events.FILE_UPLOAD_PROGRESS, progress);\n        }).done((response) => {\n            this.response = response;\n            this._session = null;\n            this._sessionPromise = null;\n            this._flows = [];\n            this.setStatus(Status.SUCCESS);\n            this.emit(Events.FILE_UPLOAD_SUCCESS, response);\n        }).fail((error) => {\n            this._session = null;\n            this._sessionPromise = null;\n            let flow;\n            while (flow = this._flows.shift()) {\n                flow.abort();\n            }\n\n            if (error instanceof Error) {\n                this.setStatus(Status.ERROR);\n                this.emit(Events.FILE_UPLOAD_ERROR, error);\n            }\n        }).always(() => {\n            this.emit(Events.FILE_UPLOAD_COMPLETED, this.getStatus());\n        });\n\n        this._flows = [];\n        this._session = session;\n        this._sessionPromise = session.promise();\n\n        return this._sessionPromise;\n    }\n\n    prepare() {\n        if (this.status !== Status.PENDING || !this.context) {\n            return false;\n        }\n\n        this.session();\n        this.setStatus(Status.PROGRESS);\n\n        this.emit(Events.FILE_UPLOAD_START);\n\n        this.request = this.context.createFileRequest(this);\n\n        const prepare = this.context.invoke(Events.FILE_UPLOAD_PREPARING, this.request);\n\n        this._flows.push(prepare);\n\n        prepare.then((request) => {\n            this.emit(Events.FILE_UPLOAD_PREPARED, request);\n\n            const upload = this.runtime.getUploading().generate(request);\n\n            this._flows.push(upload);\n\n            upload.progress((e) => {\n                this.progress.total = e.total;\n                this.progress.loaded = e.loaded;\n                this._session.notify(this.progress);\n            });\n\n            return upload;\n        }).then((response) => this.complete(response), this._session.reject);\n\n        return true;\n    }\n\n    complete(response) {\n        if (this.status !== Status.PROGRESS) return;\n\n        let flow;\n        while (flow = this._flows.shift()) {\n            flow.abort();\n        }\n\n        this.progress.loaded = this.progress.total;\n        this._session.notify(this.progress);\n\n        response = this.request.createFileResponse(response);\n\n        this.setStatus(Status.END);\n        this.emit(Events.FILE_UPLOAD_END);\n\n        const complete = this.context.revoke(Events.FILE_UPLOAD_COMPLETING, response);\n\n        this._flows.push(complete);\n\n        complete.then(this._session.resolve, this._session.reject);\n    }\n\n    pending() {\n        if (this.status === Status.ERROR || this.status === Status.QUEUED) {\n            this.progress.total = this.size;\n            this.progress.loaded = 0;\n            this.setStatus(Status.PENDING);\n        }\n    }\n\n    abort() {\n        this._session && this._session.reject();\n        this._session = null;\n        this._sessionPromise = null;\n    }\n\n    cancel() {\n        this.setStatus(Status.CANCELLED);\n        this.emit(Events.FILE_CANCEL);\n        this.abort();\n        this.runtime.cancel(this.source);\n        this._dataUrlPromise && this._dataUrlPromise.abort();\n        this._md5Promise && this._md5Promise.abort && this._md5Promise.abort();\n        this.removeAllListeners();\n    }\n\n    destroy() {\n        this.cancel();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/File.js\n **/","import Runtime from '../Runtime';\nimport Transport from './Transport';\n\nfunction getFlashVersion() {\n    let version;\n\n    try {\n        version = navigator.plugins['Shockwave Flash'];\n        version = version.description;\n    } catch (e1) {\n        try {\n            version = new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');\n        } catch (e2) {\n            version = '0.0';\n        }\n    }\n    version = version.match(/\\d+/g);\n    return parseFloat(version[0] + '.' + version[1]);\n}\n\nfunction callFlash(movie, functionName, argumentArray) {\n    try {\n        movie.CallFunction('<invoke name=\"' + functionName + '\" returntype=\"javascript\">' + __flash__argumentsToXML(argumentArray || [], 0) + '</invoke>');\n    } catch (ex) {\n        throw \"Call to \" + functionName + \" failed\";\n    }\n}\n\nfunction createFlash(swf, callInterface) {\n    if (getFlashVersion() < 11.4) {\n        throw 'flash player is not available';\n    }\n    const div = document.createElement('div');\n    let url = swf + (swf.indexOf('?') > 0 ? '&' : '?') + 'callInterface=' + encodeURIComponent(callInterface);\n    let attrs = [\n        'id=\"' + callInterface + '-Picker\"',\n        'type=\"application/x-shockwave-flash\"',\n        'data=\"' + url + '\"',\n        'width=\"100%\" height=\"100%\"',\n        'style=\"position:absolute;left:0;top:0;display:block;z-index:1;outline:0\"'\n    ];\n    if (window.ActiveXObject) {\n        attrs.push('classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"');\n    }\n    div.innerHTML = '<object ' + attrs.join(' ') + '>' +\n        '<param name=\"movie\" value=\"' + url + '\" />' +\n        '<param name=\"wmode\" value=\"transparent\" />' +\n        '<param name=\"allowscriptaccess\" value=\"always\" />' +\n    '</object>';\n\n    return div.firstChild;\n}\n\nlet _guid = +new Date;\nfunction guid(prefix) {\n    let ret = prefix + (_guid++).toString(16);\n    if (ret in window) {\n        return guid(prefix);\n    }\n    return ret;\n}\n\nexport default class FlashRuntime extends Runtime {\n    constructor(trigger, swf, options) {\n        super();\n\n        const callInterface = guid('FlashRuntime');\n\n        this.callInterface = callInterface;\n        window[callInterface] = this;\n\n        this.options = options;\n\n        const display = () => {\n            let w = trigger[0].offsetWidth, h = trigger[0].offsetHeight, flash;\n            if (!w || !h || !(flash = createFlash(swf, callInterface))) {\n                setTimeout(display, 1000);\n                return;\n            }\n\n            trigger.append(this.flash = flash);\n        };\n\n        display();\n    }\n    getOptions() {\n        let options = this.options;\n        if (typeof options === 'function') {\n            options = options();\n        }\n        return options;\n    }\n    getTransport(name, blob, options) {\n        return new Transport(this, name, blob, options);\n    }\n    send(name, blob, url, params) {\n        callFlash(this.flash, 'exec', ['send', name, blob.id, url, params]);\n    }\n    abort(blob) {\n        try {\n            callFlash(this.flash, 'exec', ['abort', blob.id]);\n        } catch (e) {}\n    }\n    cancel(blob) {\n        callFlash(this.flash, 'exec', ['cancel', blob.id]);\n    }\n    ping() {\n        callFlash(this.flash, 'exec', ['pang']);\n    }\n    destroy() {\n        delete window[this.callInterface];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Flash/Runtime.js\n **/","import Emitter from './Emitter';\nimport Events from './Events';\nimport {NetworkError} from './Errors';\nexport {Deferred} from 'jquery';\n\nexport default class Runtime extends Emitter {\n    md5(blob) {\n        var i = Deferred();\n        i.reject();\n        return i.promise();\n    }\n    getAsDataUrl(file, timeout) {\n        var i = Deferred();\n        i.reject();\n        return i.promise();\n    }\n    getTransport() {\n        return null;\n    }\n    getUploading() {\n        if (!this.uploading) {\n            this.uploading = new Uploading(this);\n        }\n        return this.uploading;\n    }\n    canSlice() {\n        return false;\n    }\n    slice(blob) {\n        throw new Error('this runtime current not support slice');\n    }\n\n    cancel(blob) {\n\n    }\n}\n\n\nclass Uploading {\n    constructor(runtime) {\n        this.runtime = runtime;\n    }\n\n    /**\n     * @param {FileRequest} request\n     * @returns {*}\n     */\n    generate(request) {\n        const i = Deferred(),\n            file = request.getFile(),\n            runtime = this.runtime;\n\n        let source = file.getSource(), size = file.size,\n            chunkSize = request.getChunkSize(),\n            useChunk = request.isChunkEnable(),\n            threads = request.getChunkProcessThreads(),\n            start = 0, end = 0, slots = [];\n\n        const getActives = () => {\n            return slots.reduce((sum, slot) => sum + (slot.state() === 'pending' ? 1 : 0), 0);\n        };\n\n        const readChunk = () => {\n            let slot, req, blob;\n            while (end < size && getActives() < threads) {\n                start = end;\n                end = Math.min(end + chunkSize, size);\n                blob = runtime.slice(source, start, end);\n                req = request.createChunkRequest(slots.length, blob);\n                slot = this.slot(req, request.getChunkRetries());\n                slot.progress(progress).done(done).fail(fail);\n                slots.push(slot);\n            }\n        };\n\n        const progress = () => {\n            let total = size - end, loaded = 0;\n            slots.forEach((slot) => {\n                total += slot.total;\n                loaded += slot.loaded;\n            });\n            i.notify({total, loaded});\n        };\n\n        const done = (res) => {\n            useChunk && readChunk();\n\n            if (end >= size && slots.every((slot) => slot.state() === 'resolved')) {\n                i.resolve(res);\n            }\n        };\n\n        const abort = () => {\n            slots.forEach((slot) => slot.abort());\n        };\n\n        const fail = (error) => {\n            i.reject(error);\n            abort();\n        };\n\n        if (useChunk) {\n            readChunk();\n        } else {\n            end = size;\n            let slot = this.slot(request.createChunkRequest(0, source), 0);\n            slot.progress(progress).done(done).fail(fail);\n            slots.push(slot);\n        }\n\n        let ret = i.promise();\n        ret.abort = abort;\n\n        return ret;\n    }\n\n    slot(request, retries) {\n        let i = Deferred(),\n            runtime = this.runtime,\n            context = request.getFile().getContext();\n\n        let slot = i.promise();\n\n        const progress = (e) => {\n            if (e.total) {\n                slot.total = e.total;\n            }\n            if (e.loaded) {\n                slot.loaded = e.loaded;\n            }\n            i.notify(e);\n        };\n\n        const process = () => {\n            var prepare, transport, completion;\n            slot.abort = function () {\n                prepare && prepare.abort();\n                transport && transport.abort();\n                completion && completion.abort();\n            };\n            slot.total = request.getBlob().size;\n            slot.loaded = 0;\n\n            prepare = context.invoke(Events.CHUNK_UPLOAD_PREPARING, request);\n\n            prepare.then((request) => {\n                transport = runtime.getTransport().generate(request);\n                transport.progress(progress);\n                return transport;\n            }).then((response) => {\n                completion = context.invoke(Events.CHUNK_UPLOAD_COMPLETING, request.createChunkResponse(response));\n                return completion;\n            }).done(i.resolve).fail(error);\n        };\n\n        const error = (e) => {\n            if (e instanceof NetworkError && retries-- > 0) {\n                // retry\n                setTimeout(process, 500);\n            } else {\n                i.reject(e);\n            }\n            slot.abort();\n        };\n\n        process();\n\n        return slot;\n    }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Runtime.js\n **/","import {TimeoutError, AbortError, NetworkError} from '../Errors';\nimport {Deferred} from 'jquery';\n\nexport default class Html5Transport {\n    /**\n     * @param {ChunkRequest} request\n     * @returns {*}\n     */\n    generate(request) {\n        const i = Deferred();\n\n        let timeoutTimer, withCredentials = false;\n        let xhr = new XMLHttpRequest;\n\n        if (request.isWithCredentials && !('withCredentials' in xhr) && ('XDomainRequest' in window)) {\n            xhr = new XDomainRequest;\n            withCredentials = true;\n        }\n\n        const clean = () => {\n            xhr.onload = xhr.onerror = null;\n            if (xhr.upload) {\n                xhr.upload.onprogress = null;\n            }\n            if (timeoutTimer) {\n                clearTimeout(timeoutTimer);\n            }\n        };\n\n        const abort = () => {\n            clean();\n            try {\n                xhr.abort();\n            } catch (e) {}\n        };\n\n        const complete = (e) => {\n            clean();\n            if (!xhr.status && e.type === 'error') {\n                return i.reject(new AbortError(e.message));\n            }\n            if (xhr.status === 0 || xhr.status === 304 || xhr.status >= 200 && xhr.status < 300) {\n                return i.resolve(xhr.responseText);\n            }\n            return i.reject(new NetworkError(xhr.status, xhr.statusText));\n        };\n\n        if (xhr.upload) {\n            xhr.upload.onprogress = (e) => i.notify(e);\n        }\n        xhr.onerror = complete;\n        xhr.onload = complete;\n\n        // Timeout\n        const timeout = request.getTimeout();\n        if (timeout > 0) {\n            timeoutTimer = setTimeout(() => {\n                abort();\n                i.reject(new TimeoutError('timeout:'+timeout));\n            }, timeout);\n        }\n\n        try {\n            if (withCredentials) {\n                xhr.open('POST', request.getUrl(), true);\n                xhr.withCredentials = true;\n            } else {\n                xhr.open('POST', request.getUrl());\n            }\n\n            request.getHeaders().forEach((header) => xhr.setRequestHeader(header.name, header.value));\n\n            const formData = new FormData, blob = request.getBlob();\n\n            request.getParams().toArray().forEach((param) => formData.append(param.name, param.value));\n\n            formData.append(request.getName(), blob, blob.name || 'blob');\n\n            xhr.send(formData);\n        } catch (e) {\n            abort();\n            i.reject(new AbortError(e.message));\n        }\n\n        const ret = i.promise();\n        ret.abort = abort;\n\n        return ret;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Html5/Transport.js\n **/","import {TimeoutError, AbortError, NetworkError} from '../Errors';\nimport {Deferred} from 'jquery';\n\nexport default class FlashTransport {\n    constructor(flashRuntime) {\n        this.flashRuntime = flashRuntime;\n    }\n\n    /**\n     * @param {ChunkRequest} request\n     * @returns {*}\n     */\n    generate(request) {\n        const i = Deferred(), flashRuntime = this.flashRuntime, blob = request.getBlob();\n\n        let timeoutTimer;\n\n        const clean = () => {\n            flashRuntime.off('uploadprogress', progress);\n            flashRuntime.off('uploadcomplete', complete);\n            flashRuntime.off('uploaderror', error);\n            if (timeoutTimer) {\n                clearTimeout(timeoutTimer);\n            }\n        };\n        const abort = () => {\n            clean();\n            flashRuntime.abort(blob.id);\n        };\n\n        const progress = (e) => {\n            if (e.id !== blob.id) return;\n            i.notify(e);\n        };\n\n        const complete = (e) => {\n            if (e.id !== blob.id) return;\n            clean();\n            if (e.status === 304 || e.status >= 200 && e.status < 300) {\n                flashRuntime.cancel(blob);\n                return i.resolve(e.response);\n            }\n            return i.reject(new NetworkError(e.status, e.response));\n        };\n\n        const error = (e) => {\n            if (e.id !== blob.id) return;\n            clean();\n            i.reject(new AbortError(e.message));\n        };\n        flashRuntime.on('uploadprogress', progress);\n        flashRuntime.on('uploadcomplete', complete);\n        flashRuntime.on('uploaderror', error);\n\n        // Timeout\n        const timeout = request.getTimeout();\n        if (timeout > 0) {\n            timeoutTimer = setTimeout(() => {\n                abort();\n                i.reject(new TimeoutError('timeout:'+timeout));\n            }, timeout);\n        }\n\n        try {\n            flashRuntime.send(request.getName(), blob, request.getUrl(), request.getParams().toString());\n        } catch (e) {\n            abort();\n            i.reject(new AbortError(e.message));\n        }\n\n        const ret = i.promise();\n        ret.abort = abort;\n\n        return ret;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Flash/Transport.js\n **/"],"sourceRoot":""}