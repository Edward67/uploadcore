{"name":"uxcore-uploadcore","tagline":"Uxcore UploadCore","body":"### Quick Start\r\n\r\n**引入资源**\r\n\r\n```html\r\n<script type=\"text/javascript\" src=\"path/to/jquery.js\" />\r\n<script type=\"text/javascript\" src=\"path/to/uxuploader.js\" />\r\n```\r\n\r\n**一个按钮的上传**\r\n\r\n```javascript\r\nimport jQuery from 'jquery';\r\nimport Uploader, {Events, Status} from 'uxuploader';\r\nconst up = new Uploader({\r\n    request: {\r\n        name: 'file',\r\n        url: 'http://test.yanbingbing.com/upload.php'\r\n    }\r\n});\r\n\r\n// 事件监听\r\nup.on(Events.FILE_UPLOAD_COMPLETED, (file) => {\r\n\tif (file.getStatusName() === Status.SUCCESS) {\r\n\t\talert('上传成功');\r\n\t\tconsole.info(file.response.getJson());\r\n\t} else {\r\n\t\talert('上传失败');\r\n\t}\r\n});\r\n\r\n// 添加触发区域\r\nconst picker = up.getPickerCollector();\r\npicker.addArea(document.getElementById('clickarea'));\r\n```\r\n\r\n### 拖拽上传\r\n\r\n```js\r\nconst dnd = up.getDndCollector();\r\nconst elem = document.getElementById('droparea');\r\nconst area = dnd.addArea(elem);\r\n\r\narea.on('start', () => {\r\n    elem.classList.add('highlight');\r\n}).on('end', () => {\r\n    elem.classList.remove('highlight');\r\n});\r\n```\r\n\r\n### 粘贴上传\r\n\r\n```js\r\nconst paster = up.getPasteCollector();\r\n\r\npaster.addArea(document.getElementById('pastearea'));\r\n``` \r\n\r\n### 多触发区域\r\n\r\n```js\r\nconst picker = up.getPickerCollector();\r\npicker.addArea(document.getElementById('clickarea1'));\r\npicker.addArea(document.getElementById('clickarea2'));\r\n```\r\n\r\n### 上传准备时：获取token\r\n\r\n```js\r\nup.on(Events.FILE_UPLOAD_PREPARING, (request) => {\r\n    const i = jQuery.Defferd();\r\n    jQuery.getJSON(\"http://test.yanbingbing.com/token.php\", (json) => {\r\n        request.setParam('token', json.token);\r\n        i.resolve();\r\n    });\r\n    return i;\r\n});\r\n```\r\n\r\n### 上传完成时：数据修正\r\n\r\n```js\r\nup.on(Events.FILE_UPLOAD_COMPLETING, (response) => {\r\n    const json = response.getJson();\r\n    if (json.code !== 0) {\r\n        return new Error(json.msg || 'error');\r\n    }\r\n});\r\n```\r\n\r\n### 分片上传\r\n\r\n```js\r\n// 这里是代码\r\n```\r\n\r\n### 妙传例子\r\n\r\n```js\r\n// 这里是代码\r\n```\r\n\r\n### 事件监听\r\n\r\n```javascript\r\n// 队列上传开始\r\nup.on(Events.QUEUE_UPLOAD_START, () => {\r\n   console.info('queueuploadstart');\r\n})\r\n// 队列上传结束\r\n.on(Events.QUEUE_UPLOAD_END, () => {\r\n    console.info('queueuploadend');\r\n})\r\n// 队列错误\r\n.on(Events.QUEUE_ERROR, (error) => {\r\n    console.info('queueerror', error)\r\n})\r\n// 队列添加\r\n.on(Events.QUEUE_ADD, (file) => {\r\n    console.info('queueadd', file)\r\n})\r\n// 队列统计变化\r\n.on(Events.QUEUE_STAT_CHANGE, (stat) => {\r\n    console.info('statchange', stat.stat());\r\n})\r\n// 文件上传开始\r\n.on(Events.FILE_UPLOAD_START, (file) => {\r\n    console.info('fileuploadstart', file);\r\n})\r\n// 文件上传准备中\r\n.on(Events.FILE_UPLOAD_PREPARING, (request) => {\r\n    console.info('fileuploadpreparing', request);\r\n})\r\n// 文件上传准备完毕\r\n.on(Events.FILE_UPLOAD_PREPARED, (file) => {\r\n    console.info('fileuploadprepared', file);\r\n})\r\n// 文件块上传准备中\r\n.on(Events.CHUNK_UPLOAD_PREPARING, (request) => {\r\n    console.info('chunkuploadpreparing', request);\r\n})\r\n// 文件块上传完成中\r\n.on(Events.CHUNK_UPLOAD_COMPLETING, (response) => {\r\n    console.info('chunkuploadcompleting', response);\r\n})\r\n// 文件上传进度\r\n.on(Events.FILE_UPLOAD_PROGRESS, (file, progress) => {\r\n    console.info('fileuploadprogress', file, progress);\r\n})\r\n// 文件上传结束\r\n.on(Events.FILE_UPLOAD_END, (file) => {\r\n    console.info('fileuploadend', file);\r\n})\r\n// 文件上传完成中\r\n.on(Events.FILE_UPLOAD_COMPLETING, (response) => {\r\n    console.info('fileuploadcompleting', response);\r\n})\r\n// 文件上传成功\r\n.on(Events.FILE_UPLOAD_SUCCESS, (file, response) => {\r\n    console.info('fileuploadsuccess', file, response);\r\n})\r\n// 文件上传错误\r\n.on(Events.FILE_UPLOAD_ERROR, (file, error) => {\r\n    console.info('fileuploaderror', file, error);\r\n})\r\n// 文件上传完成\r\n.on(Events.FILE_UPLOAD_COMPLETED, (file, status) => {\r\n    console.info('fileuploadcompleted', file, status);\r\n})\r\n// 文件取消\r\n.on(Events.FILE_CANCEL, (file) => {\r\n    console.info('filecancel', file);\r\n})\r\n// 文件状态变化\r\n.on(Events.FILE_STATUS_CHANGE, (file, status) => {\r\n    console.info('filestatuschange', file, status, file.getStatusName());\r\n});\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}