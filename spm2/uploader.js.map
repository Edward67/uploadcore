{"version":3,"sources":["uploader.js"],"names":["define","require","exports","module","jQuery","SparkMD5","UXUploader","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_srcContext","_srcContext2","_srcEvents","_srcEvents2","_srcStatus","_srcStatus2","Events","Status","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_emitter","_emitter2","_events","_events2","_status","_status2","_errors","_filerequest","_filerequest2","_collectorDnd","_collectorDnd2","_collectorPaste","_collectorPaste2","_collectorPicker","_collectorPicker2","Context","_Emitter","options","_this","this","processThreads","autoPending","queueCapcity","accept","sizeLimit","preventDuplicate","multiple","stat","Stat","limiter","Limiter","filter","Filter","pending","Pending","addLimit","getTotal","addFilter","file","allowed","some","item","extensions","split","indexOf","ext","FileExtensionError","size","FileSizeError","has","getFiles","name","DuplicateError","requestOptions","request","isLimit","limit","add","_this2","emit","QUEUE_ERROR","QueueLimitError","isAllow","setContext","setStatus","QUEUED","on","FILE_STATUS_CHANGE","status","CANCELLED","remove","PENDING","setTimeout","QUEUE_UPLOAD_START","QUEUE_STAT_CHANGE","PROCESS","QUEUE_UPLOAD_END","QUEUE_ADD","getError","flag","forEach","picker","dnd","paster","url","setSWF","Set","_set","shift","pop","slice","push","splice","files","toArray","getStatus","limits","_this3","fn","filters","_this4","error","every","ret","e","FilterError","Error","toString","threads","heading","_this5","session","always","load","_this6","prepare","process","HookInvoker","hooks","initialData","context","_data","_error","_aborted","_jquery","Deferred","promise","abort","fail","reject","done","resolve","setData","data","next","hook","res","then","Emitter","event","listener","toLowerCase","that","off","apply","arguments","listeners","emitter","propagationTarget","_len","args","Array","_key","applyEmit","pArgs","unshift","FILE_UPLOAD_START","FILE_UPLOAD_PREPARING","FILE_UPLOAD_PREPARED","CHUNK_UPLOAD_PREPARING","CHUNK_UPLOAD_COMPLETING","FILE_UPLOAD_PROGRESS","FILE_UPLOAD_END","FILE_UPLOAD_COMPLETING","FILE_UPLOAD_SUCCESS","FILE_UPLOAD_ERROR","FILE_UPLOAD_COMPLETED","FILE_CANCEL","ALL","INITED","PROGRESS","END","SUCCESS","ERROR","StatusName",1,2,4,8,16,32,64,128,"AbortError","_Error","message","TimeoutError","_Error2","NetworkError","_Error3","_Error4","_Error5","_FilterError","_FilterError2","_FilterError3","ChunkResponse","rawResponse","chunkRequest","response","getResponse","getJson","JSON","parse","ChunkRequest","index","blob","fileRequest","getName","getFile","source","params","getParams","clone","getParam","setParam","getUrl","headers","getHeaders","isWithCredentials","getTimeout","FileResponse","getChunkRequest","isMultiChunk","Params","isArray","_name","hasOwnProperty","removeParam","addParam","param","single","map","encodeURIComponent","join","MIN_CHUNK_SIZE","FileRequest","withCredentials","timeout","chunkSize","chunkRetries","chunkEnable","chunkProcessThreads","retries","getRuntime","canSlice","createReader","collector","reader","dataTransfer","responders","items","l","entry","webkitGetAsEntry","isDirectory","readEntry","isFile","readEntries","entries","$doc","_jquery2","document","runtime","_html5Runtime2","getInstance","started","enter","endTimer","dataTransferReader","_file2","responder","recieve","start","Collectors","move","originalEvent","dropEffect","preventDefault","end","drag","clearTimeout","isLeave","type","drop","contains","getData","ex","_html5Runtime","_file","Area","area","areaElement","DndCollector","areas","window","destroy","removeAllListeners","r","_runtime","_runtime2","_transport","_transport2","Html5Runtime","_Runtime","fr","FileReader","timer","onloadend","readyState","DONE","result","readAsDataURL","transport","Blob","mozSlice","webkitSlice","blobSlice","chunks","Math","ceil","chunk","spark","ArrayBuffer","_loadNext","min","onload","append","readAsArrayBuffer","Runtime","uploading","Uploading","getSource","getChunkSize","useChunk","isChunkEnable","getChunkProcessThreads","slots","getActives","reduce","sum","slot","state","readChunk","req","createChunkRequest","getChunkRetries","progress","total","notify","getContext","completion","getBlob","invoke","getTransport","generate","createChunkResponse","Html5Transport","timeoutTimer","xhr","XMLHttpRequest","XDomainRequest","clean","onerror","upload","onprogress","complete","responseText","statusText","open","header","setRequestHeader","formData","FormData","send","guid","uid","toUpperCase","guessExt","RE_EXT","exec","RE_IMAGE","guessType","Progress","File","filename","test","lastModified","Date","setPropagationTarget","prevStatus","_dataUrlPromise","getAsDataUrl","_md5Promise","md5","_sessionPromise","_session","_flows","flow","createFileRequest","getUploading","createFileResponse","cancel","PasteCollector","paste","isDefaultPrevented","clipboardData","prevent","isMultiple","kind","getAsFile","stopPropagation","_flashRuntime","_flashRuntime2","SWF_URL","FlashTriggerCollection","onFiles","overlay","css","position","opacity","left","top","width","height","display","cursor","background","overflow","zIndex","getAccept","current","hideOverlay","appendTo","body","trigger","rect","getBoundingClientRect","Html5TriggerCollection","_createInput","label","input","createElement","attr","clip","mimeTypes","html","PickerCollector","triggerCollection","getFlashVersion","version","navigator","plugins","description","e1","ActiveXObject","GetVariable","e2","match","parseFloat","callFlash","movie","functionName","argumentArray","CallFunction","__flash__argumentsToXML","createFlash","swf","callInterface","div","attrs","innerHTML","firstChild","_x4","_again2","prefix","_guid","FlashRuntime","w","offsetWidth","h","offsetHeight","flash","FlashTransport","flashRuntime"],"mappings":"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","file":"uploader.js","sourcesContent":["define(\"alinw/uxcore-uploader/2.0.0/uploader\", [\"jquery\", \"spark-md5\"], function(require, exports, module) {\n    var jQuery = require(\"jquery\");\n    var SparkMD5 = require(\"spark-md5\");\n    var UXUploader = function(modules) {\n        var installedModules = {};\n\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                exports: {},\n                id: moduleId,\n                loaded: false\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.loaded = true;\n            return module.exports\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.p = \"\";\n        return __webpack_require__(0)\n    }([function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n        var _srcContext = __webpack_require__(1);\n        var _srcContext2 = _interopRequireDefault(_srcContext);\n        var _srcEvents = __webpack_require__(4);\n        var _srcEvents2 = _interopRequireDefault(_srcEvents);\n        var _srcStatus = __webpack_require__(5);\n        var _srcStatus2 = _interopRequireDefault(_srcStatus);\n        exports[\"default\"] = _srcContext2[\"default\"];\n        exports.Events = _srcEvents2[\"default\"];\n        exports.Status = _srcStatus2[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _errors = __webpack_require__(6);\n        var _filerequest = __webpack_require__(7);\n        var _filerequest2 = _interopRequireDefault(_filerequest);\n        var _collectorDnd = __webpack_require__(8);\n        var _collectorDnd2 = _interopRequireDefault(_collectorDnd);\n        var _collectorPaste = __webpack_require__(13);\n        var _collectorPaste2 = _interopRequireDefault(_collectorPaste);\n        var _collectorPicker = __webpack_require__(14);\n        var _collectorPicker2 = _interopRequireDefault(_collectorPicker);\n        var Context = function(_Emitter) {\n            _inherits(Context, _Emitter);\n\n            function Context(options) {\n                var _this = this;\n                _classCallCheck(this, Context);\n                _get(Object.getPrototypeOf(Context.prototype), \"constructor\", this).call(this);\n                var processThreads = options.processThreads;\n                var autoPending = options.autoPending;\n                var queueCapcity = options.queueCapcity;\n                var accept = options.accept;\n                var sizeLimit = options.sizeLimit;\n                var preventDuplicate = options.preventDuplicate;\n                var multiple = options.multiple;\n                this.stat = new Stat;\n                this.limiter = new Limiter;\n                this.filter = new Filter;\n                this.accept = accept;\n                this.autoPending = autoPending;\n                this.multiple = multiple == null ? true : multiple;\n                this.pending = new Pending(processThreads);\n                if (queueCapcity && queueCapcity > 0) {\n                    this.addLimit(function() {\n                        return _this.stat.getTotal() >= queueCapcity\n                    })\n                }\n                if (accept && accept.length > 0) {\n                    this.addFilter(function(file) {\n                        if (!accept) {\n                            return\n                        }\n                        var allowed = accept.some(function(item) {\n                            return item.extensions && item.extensions.split(\",\").indexOf(file.ext) > -1\n                        });\n                        if (allowed) {\n                            return\n                        }\n                        return new _errors.FileExtensionError(file, file.ext + \" is not allowed.\")\n                    })\n                }\n                if (sizeLimit && sizeLimit > 0) {\n                    this.addFilter(function(file) {\n                        if (file.size > sizeLimit) {\n                            return new _errors.FileSizeError(file, file.size + \" is greater than limit:\" + sizeLimit)\n                        }\n                    })\n                }\n                if (preventDuplicate) {\n                    this.addFilter(function(file) {\n                        var has = _this.stat.getFiles().some(function(item) {\n                            return item.name === file.name && item.size === file.size\n                        });\n                        if (has) {\n                            return new _errors.DuplicateError(file, file.name + \" already in queue\")\n                        }\n                    })\n                }\n                this.requestOptions = options.request || {}\n            }\n            _createClass(Context, [{\n                key: \"createFileRequest\",\n                value: function createFileRequest(file) {\n                    return new _filerequest2[\"default\"](file, this.requestOptions)\n                }\n            }, {\n                key: \"isLimit\",\n                value: function isLimit() {\n                    return this.limiter.isLimit()\n                }\n            }, {\n                key: \"addLimit\",\n                value: function addLimit(limit) {\n                    return this.limiter.add(limit)\n                }\n            }, {\n                key: \"addFilter\",\n                value: function addFilter(filter) {\n                    return this.filter.add(filter)\n                }\n            }, {\n                key: \"isAllow\",\n                value: function isAllow(file) {\n                    return this.filter.filter(file)\n                }\n            }, {\n                key: \"add\",\n                value: function add(file) {\n                    var _this2 = this;\n                    if (this.isLimit()) {\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, new _errors.QueueLimitError);\n                        return false\n                    }\n                    if (!this.isAllow(file)) {\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, this.filter.getError());\n                        return false\n                    }\n                    if (!this.stat.add(file)) {\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, new _errors.DuplicateError(file, file.name + \" already in queue\"));\n                        return false\n                    }\n                    file.setContext(this);\n                    file.setStatus(_status2[\"default\"].QUEUED);\n                    file.on(_events2[\"default\"].FILE_STATUS_CHANGE, function(status) {\n                        if (status === _status2[\"default\"].CANCELLED) {\n                            _this2.stat.remove(file)\n                        } else if (status === _status2[\"default\"].PENDING) {\n                            setTimeout(function() {\n                                if (_this2.pending.add(file) && _this2.pending.size() === 1) {\n                                    _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_START)\n                                }\n                            }, 1)\n                        }\n                        _this2.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, _this2.stat);\n                        if (_this2.stat.getFiles(_status2[\"default\"].PROCESS).length < 1) {\n                            _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_END)\n                        }\n                    });\n                    this.emit(_events2[\"default\"].QUEUE_ADD, file);\n                    this.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, this.stat);\n                    if (this.autoPending) {\n                        file.pending()\n                    }\n                    return true\n                }\n            }, {\n                key: \"setAutoPending\",\n                value: function setAutoPending(flag) {\n                    this.autoPending = flag;\n                    if (this.autoPending) {\n                        this.stat.getFiles(_status2[\"default\"].QUEUED).forEach(function(file) {\n                            return file.pending()\n                        })\n                    }\n                }\n            }, {\n                key: \"setMultiple\",\n                value: function setMultiple(flag) {\n                    this.multiple = flag\n                }\n            }, {\n                key: \"isMultiple\",\n                value: function isMultiple() {\n                    return this.multiple\n                }\n            }, {\n                key: \"getAccept\",\n                value: function getAccept() {\n                    return this.accept\n                }\n            }, {\n                key: \"getStat\",\n                value: function getStat() {\n                    return this.stat\n                }\n            }, {\n                key: \"getPickerCollector\",\n                value: function getPickerCollector() {\n                    if (!this.picker) {\n                        this.picker = new _collectorPicker2[\"default\"](this)\n                    }\n                    return this.picker\n                }\n            }, {\n                key: \"getDndCollector\",\n                value: function getDndCollector() {\n                    if (!this.dnd) {\n                        this.dnd = new _collectorDnd2[\"default\"](this)\n                    }\n                    return this.dnd\n                }\n            }, {\n                key: \"getPasteCollector\",\n                value: function getPasteCollector() {\n                    if (!this.paster) {\n                        this.paster = new _collectorPaste2[\"default\"](this)\n                    }\n                    return this.paster\n                }\n            }], [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    _collectorPicker2[\"default\"].setSWF(url)\n                }\n            }]);\n            return Context\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Context;\n        var Set = function() {\n            function Set() {\n                _classCallCheck(this, Set);\n                this._set = []\n            }\n            _createClass(Set, [{\n                key: \"shift\",\n                value: function shift() {\n                    return this._set.shift()\n                }\n            }, {\n                key: \"pop\",\n                value: function pop() {\n                    return this._set.pop()\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this._set.slice(0)\n                }\n            }, {\n                key: \"add\",\n                value: function add(item) {\n                    if (this.has(item)) {\n                        return false\n                    }\n                    this._set.push(item);\n                    return true\n                }\n            }, {\n                key: \"has\",\n                value: function has(item) {\n                    return this._set.indexOf(item) > -1\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(item) {\n                    var i = this._set.indexOf(item);\n                    if (i > -1) {\n                        this._set.splice(i, 1);\n                        return true\n                    }\n                    return false\n                }\n            }, {\n                key: \"clear\",\n                value: function clear() {\n                    this._set = []\n                }\n            }, {\n                key: \"size\",\n                get: function get() {\n                    return this._set.length\n                }\n            }]);\n            return Set\n        }();\n        var Stat = function() {\n            function Stat() {\n                _classCallCheck(this, Stat);\n                this.files = new Set\n            }\n            _createClass(Stat, [{\n                key: \"add\",\n                value: function add(file) {\n                    return this.files.add(file)\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(file) {\n                    this.files.remove(file)\n                }\n            }, {\n                key: \"getTotal\",\n                value: function getTotal() {\n                    return this.files.size\n                }\n            }, {\n                key: \"getFiles\",\n                value: function getFiles(flag) {\n                    var files = this.files.toArray();\n                    if (!flag) {\n                        return files\n                    }\n                    return files.filter(function(file) {\n                        return !!(file.getStatus() & flag)\n                    })\n                }\n            }, {\n                key: \"stat\",\n                value: function stat(flag) {\n                    var stat = {},\n                        files = this.getFiles(flag);\n                    files.forEach(function(file) {\n                        var status = file.getStatus();\n                        stat[status] = status in stat ? stat[status] + 1 : 1\n                    });\n                    stat[\"sum\"] = files.length;\n                    return stat\n                }\n            }]);\n            return Stat\n        }();\n        var Limiter = function() {\n            function Limiter() {\n                _classCallCheck(this, Limiter);\n                this.limits = new Set\n            }\n            _createClass(Limiter, [{\n                key: \"add\",\n                value: function add(limit) {\n                    this.limits.add(limit);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(limit) {\n                    this.limits.remove(limit);\n                    return this\n                }\n            }, {\n                key: \"isLimit\",\n                value: function isLimit() {\n                    var _this3 = this;\n                    return this.limits.toArray().some(function(fn) {\n                        return fn.call(_this3)\n                    })\n                }\n            }]);\n            return Limiter\n        }();\n        var Filter = function() {\n            function Filter() {\n                _classCallCheck(this, Filter);\n                this.filters = new Set\n            }\n            _createClass(Filter, [{\n                key: \"add\",\n                value: function add(filter) {\n                    this.filters.add(filter);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(filter) {\n                    this.filters.remove(filter);\n                    return this\n                }\n            }, {\n                key: \"filter\",\n                value: function filter(file) {\n                    var _this4 = this;\n                    this.error = null;\n                    return this.filters.toArray().every(function(filter) {\n                        var ret = undefined;\n                        try {\n                            ret = filter(file)\n                        } catch (e) {\n                            ret = e\n                        }\n                        if (typeof ret === \"string\") {\n                            _this4.error = new FilterError(file, ret);\n                            return false\n                        } else if (ret instanceof Error) {\n                            _this4.error = ret instanceof FilterError ? ret : new FilterError(file, ret.toString());\n                            return false\n                        }\n                        return true\n                    })\n                }\n            }, {\n                key: \"getError\",\n                value: function getError() {\n                    return this.error\n                }\n            }]);\n            return Filter\n        }();\n        var Pending = function() {\n            function Pending(threads) {\n                _classCallCheck(this, Pending);\n                this.threads = threads || 2;\n                this.heading = new Set;\n                this.pending = new Set\n            }\n            _createClass(Pending, [{\n                key: \"add\",\n                value: function add(file) {\n                    var _this5 = this;\n                    if (!this.pending.add(file)) return false;\n                    file.session().always(function() {\n                        return _this5.pending.remove(file)\n                    });\n                    this.load();\n                    return true\n                }\n            }, {\n                key: \"size\",\n                value: function size() {\n                    return this.pending.size + this.heading.size\n                }\n            }, {\n                key: \"process\",\n                value: function process(file) {\n                    var _this6 = this;\n                    if (!this.heading.add(file)) return;\n                    file.session().always(function() {\n                        _this6.heading.remove(file);\n                        _this6.load()\n                    })\n                }\n            }, {\n                key: \"load\",\n                value: function load() {\n                    var file;\n                    while (this.heading.size < this.threads && (file = this.pending.shift())) {\n                        if (file.prepare()) {\n                            this.process(file)\n                        }\n                    }\n                }\n            }]);\n            return Pending\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var Emitter = function() {\n            function Emitter() {\n                _classCallCheck(this, Emitter)\n            }\n            _createClass(Emitter, [{\n                key: \"on\",\n                value: function on(event, listener) {\n                    event = event.toLowerCase();\n                    if (!this._events) {\n                        this._events = {}\n                    }\n                    if (!this._events[event]) {\n                        this._events[event] = []\n                    }\n                    this._events[event].push(listener);\n                    return this\n                }\n            }, {\n                key: \"once\",\n                value: function once(event, listener) {\n                    event = event.toLowerCase();\n                    var that = this;\n\n                    function fn() {\n                        that.off(event, fn);\n                        listener.apply(this, arguments)\n                    }\n                    fn.listener = listener;\n                    this.on(event, fn);\n                    return this\n                }\n            }, {\n                key: \"off\",\n                value: function off(event, listener) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        return this\n                    }\n                    var i = listeners.length;\n                    while (i-- > 0) {\n                        if (listeners[i] === listener || listeners[i].listener === listener) {\n                            listeners.splice(i, 1);\n                            break\n                        }\n                    }\n                    if (listeners.length === 0) {\n                        delete this._events[event]\n                    }\n                    return this\n                }\n            }, {\n                key: \"removeAllListeners\",\n                value: function removeAllListeners(event) {\n                    if (!event) {\n                        this._events = []\n                    } else {\n                        delete this._events[event.toLowerCase()]\n                    }\n                    return this\n                }\n            }, {\n                key: \"setPropagationTarget\",\n                value: function setPropagationTarget(emitter) {\n                    if (emitter instanceof Emitter) {\n                        this.propagationTarget = emitter\n                    }\n                }\n            }, {\n                key: \"emit\",\n                value: function emit(event) {\n                    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                        args[_key - 1] = arguments[_key]\n                    }\n                    this.applyEmit(event, args);\n                    return this\n                }\n            }, {\n                key: \"applyEmit\",\n                value: function applyEmit(event, args) {\n                    var _this = this;\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (this._events && (listeners = this._events[event])) {\n                        listeners.slice(0).forEach(function(fn) {\n                            return fn.apply(_this, args)\n                        })\n                    }\n                    if (this.propagationTarget) {\n                        var pArgs = args.slice(0);\n                        pArgs.unshift(this);\n                        this.propagationTarget.applyEmit(event, pArgs)\n                    }\n                    return this\n                }\n            }, {\n                key: \"invoke\",\n                value: function invoke(event, data) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        listeners = []\n                    }\n                    return HookInvoker(listeners.slice(0), data, this)\n                }\n            }]);\n            return Emitter\n        }();\n        exports[\"default\"] = Emitter;\n\n        function HookInvoker(hooks, initialData, context) {\n            var _data = initialData;\n            var _error = null;\n            var _aborted = undefined;\n            var i = (0, _jquery.Deferred)();\n            var ret = i.promise();\n            ret.abort = function() {\n                _aborted = true\n            };\n            var fail = function fail(e) {\n                if (_aborted) return;\n                if (e) {\n                    _error = e instanceof Error ? e : new Error(e)\n                }\n                i.reject(_error || new Error(\"Unknown\"))\n            };\n            var done = function done() {\n                if (_aborted) return;\n                if (_error != null) {\n                    fail()\n                } else {\n                    i.resolve(_data)\n                }\n            };\n            var setData = function setData(data) {\n                if (data != null && (_data == null || data.constructor === _data.constructor)) {\n                    _data = data\n                }\n            };\n            var next = function next(data) {\n                if (_aborted) return;\n                if (data instanceof Error) {\n                    _error = data\n                }\n                if (_error != null) {\n                    return fail()\n                }\n                setData(data);\n                var hook = hooks.shift();\n                if (!hook) {\n                    return done()\n                }\n                var res = undefined;\n                try {\n                    res = hook.call(context, _data)\n                } catch (e) {\n                    return fail(e)\n                }\n                if (res && res.then) {\n                    res.then(next, fail)\n                } else {\n                    next(res)\n                }\n            };\n            setTimeout(next, 1);\n            return ret\n        }\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        module.exports = jQuery\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            QUEUE_UPLOAD_START: \"queueuploadstart\",\n            QUEUE_UPLOAD_END: \"queueuploadend\",\n            QUEUE_ADD: \"queueadd\",\n            QUEUE_ERROR: \"queueerror\",\n            QUEUE_STAT_CHANGE: \"statchange\",\n            FILE_UPLOAD_START: \"fileuploadstart\",\n            FILE_UPLOAD_PREPARING: \"fileuploadpreparing\",\n            FILE_UPLOAD_PREPARED: \"fileuploadprepared\",\n            CHUNK_UPLOAD_PREPARING: \"chunkuploadpreparing\",\n            CHUNK_UPLOAD_COMPLETING: \"chunkuploadcompleting\",\n            FILE_UPLOAD_PROGRESS: \"fileuploadprogress\",\n            FILE_UPLOAD_END: \"fileuploadend\",\n            FILE_UPLOAD_COMPLETING: \"fileuploadcompleting\",\n            FILE_UPLOAD_SUCCESS: \"fileuploadsuccess\",\n            FILE_UPLOAD_ERROR: \"fileuploaderror\",\n            FILE_UPLOAD_COMPLETED: \"fileuploadcompleted\",\n            FILE_CANCEL: \"filecancel\",\n            FILE_STATUS_CHANGE: \"filestatuschange\"\n        };\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            ALL: 255,\n            PROCESS: 31,\n            INITED: 1,\n            QUEUED: 2,\n            PENDING: 4,\n            PROGRESS: 8,\n            END: 16,\n            SUCCESS: 32,\n            ERROR: 64,\n            CANCELLED: 128\n        };\n        var StatusName = {\n            1: \"inited\",\n            2: \"queued\",\n            4: \"pending\",\n            8: \"progress\",\n            16: \"end\",\n            32: \"success\",\n            64: \"error\",\n            128: \"cancelled\"\n        };\n        exports.StatusName = StatusName\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var AbortError = function(_Error) {\n            _inherits(AbortError, _Error);\n\n            function AbortError(message) {\n                _classCallCheck(this, AbortError);\n                _get(Object.getPrototypeOf(AbortError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"AbortError\"\n            }\n            return AbortError\n        }(Error);\n        exports.AbortError = AbortError;\n        var TimeoutError = function(_Error2) {\n            _inherits(TimeoutError, _Error2);\n\n            function TimeoutError(message) {\n                _classCallCheck(this, TimeoutError);\n                _get(Object.getPrototypeOf(TimeoutError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"TimeoutError\"\n            }\n            return TimeoutError\n        }(Error);\n        exports.TimeoutError = TimeoutError;\n        var NetworkError = function(_Error3) {\n            _inherits(NetworkError, _Error3);\n\n            function NetworkError(status, message) {\n                _classCallCheck(this, NetworkError);\n                _get(Object.getPrototypeOf(NetworkError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"NetworkError\";\n                this.status = status\n            }\n            return NetworkError\n        }(Error);\n        exports.NetworkError = NetworkError;\n        var QueueLimitError = function(_Error4) {\n            _inherits(QueueLimitError, _Error4);\n\n            function QueueLimitError() {\n                _classCallCheck(this, QueueLimitError);\n                _get(Object.getPrototypeOf(QueueLimitError.prototype), \"constructor\", this).call(this, \"queue limit\");\n                this.name = \"QueueLimitError\"\n            }\n            return QueueLimitError\n        }(Error);\n        exports.QueueLimitError = QueueLimitError;\n        var FilterError = function(_Error5) {\n            _inherits(FilterError, _Error5);\n\n            function FilterError(file, message) {\n                _classCallCheck(this, FilterError);\n                _get(Object.getPrototypeOf(FilterError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"FilterError\";\n                this.file = file\n            }\n            return FilterError\n        }(Error);\n        exports.FilterError = FilterError;\n        var DuplicateError = function(_FilterError) {\n            _inherits(DuplicateError, _FilterError);\n\n            function DuplicateError(file, message) {\n                _classCallCheck(this, DuplicateError);\n                _get(Object.getPrototypeOf(DuplicateError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"DuplicateError\"\n            }\n            return DuplicateError\n        }(FilterError);\n        exports.DuplicateError = DuplicateError;\n        var FileExtensionError = function(_FilterError2) {\n            _inherits(FileExtensionError, _FilterError2);\n\n            function FileExtensionError(file, message) {\n                _classCallCheck(this, FileExtensionError);\n                _get(Object.getPrototypeOf(FileExtensionError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileExtensionError\"\n            }\n            return FileExtensionError\n        }(FilterError);\n        exports.FileExtensionError = FileExtensionError;\n        var FileSizeError = function(_FilterError3) {\n            _inherits(FileSizeError, _FilterError3);\n\n            function FileSizeError(file, message) {\n                _classCallCheck(this, FileSizeError);\n                _get(Object.getPrototypeOf(FileSizeError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileSizeError\"\n            }\n            return FileSizeError\n        }(FilterError);\n        exports.FileSizeError = FileSizeError\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var ChunkResponse = function() {\n            function ChunkResponse(rawResponse, chunkRequest) {\n                _classCallCheck(this, ChunkResponse);\n                this.rawResponse = rawResponse;\n                this.chunkRequest = chunkRequest\n            }\n            _createClass(ChunkResponse, [{\n                key: \"getChunkRequest\",\n                value: function getChunkRequest() {\n                    return this.chunkRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    return this.response || this.rawResponse\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return ChunkResponse\n        }();\n        var ChunkRequest = function() {\n            function ChunkRequest(index, blob, fileRequest) {\n                _classCallCheck(this, ChunkRequest);\n                this.index = index;\n                this.blob = blob;\n                this.fileRequest = fileRequest\n            }\n            _createClass(ChunkRequest, [{\n                key: \"getName\",\n                value: function getName() {\n                    return this.fileRequest.getName()\n                }\n            }, {\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.fileRequest.getFile()\n                }\n            }, {\n                key: \"getBlob\",\n                value: function getBlob() {\n                    return this.blob\n                }\n            }, {\n                key: \"getIndex\",\n                value: function getIndex() {\n                    return this.index\n                }\n            }, {\n                key: \"isMultiChunk\",\n                value: function isMultiChunk() {\n                    return this.getFile().source !== this.blob\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    if (!this.params) {\n                        this.params = this.fileRequest.getParams().clone()\n                    }\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.getParams().setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || this.fileRequest.getUrl()\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    if (!this.headers) {\n                        this.headers = this.fileRequest.getHeaders().slice(0)\n                    }\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    var headers = this.getHeaders();\n                    headers.push({\n                        name: name,\n                        value: value\n                    });\n                    return this\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.fileRequest.isWithCredentials()\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.fileRequest.getTimeout()\n                }\n            }, {\n                key: \"createChunkResponse\",\n                value: function createChunkResponse(response) {\n                    return new ChunkResponse(response, this)\n                }\n            }]);\n            return ChunkRequest\n        }();\n        var FileResponse = function() {\n            function FileResponse(rawResponse, fileRequest) {\n                _classCallCheck(this, FileResponse);\n                this.rawResponse = rawResponse;\n                this.fileRequest = fileRequest\n            }\n            _createClass(FileResponse, [{\n                key: \"isFromMultiChunkResponse\",\n                value: function isFromMultiChunkResponse() {\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getChunkRequest().isMultiChunk()\n                    }\n                    return false\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    if (this.response != null) {\n                        return this.response\n                    }\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getResponse()\n                    } else {\n                        return this.rawResponse\n                    }\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return FileResponse\n        }();\n        var Params = function() {\n            function Params(params) {\n                _classCallCheck(this, Params);\n                if (Array.isArray(params)) {\n                    this.params = params.slice(0)\n                } else if (typeof params === \"object\") {\n                    this.params = [];\n                    for (var _name in params) {\n                        if (params.hasOwnProperty(_name)) {\n                            this.params.push({\n                                name: _name,\n                                value: params[_name]\n                            })\n                        }\n                    }\n                } else {\n                    this.params = []\n                }\n            }\n            _createClass(Params, [{\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.removeParam(name);\n                    this.addParam(name, value)\n                }\n            }, {\n                key: \"addParam\",\n                value: function addParam(name, value) {\n                    this.params.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"removeParam\",\n                value: function removeParam(name) {\n                    this.params = this.params.filter(function(param) {\n                        return param.name !== name\n                    })\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name, single) {\n                    var ret = this.params.filter(function(param) {\n                        return param.name === name\n                    }).map(function(param) {\n                        return param.value\n                    });\n                    if (single) {\n                        return ret.shift()\n                    }\n                    return ret\n                }\n            }, {\n                key: \"clone\",\n                value: function clone() {\n                    return new Params(this.params)\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this.params\n                }\n            }, {\n                key: \"toString\",\n                value: function toString() {\n                    var params = this.params.map(function(param) {\n                        return encodeURIComponent(param.name) + \"=\" + (param.value == null ? \"\" : encodeURIComponent(param.value))\n                    });\n                    return params.join(\"&\")\n                }\n            }]);\n            return Params\n        }();\n        var MIN_CHUNK_SIZE = 256 * 1024;\n        var FileRequest = function() {\n            function FileRequest(file) {\n                var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n                _classCallCheck(this, FileRequest);\n                this.file = file;\n                this.name = options.name || \"file\";\n                this.url = options.url;\n                this.params = new Params(options.params);\n                this.headers = options.headers || [];\n                this.withCredentials = options.withCredentials;\n                this.timeout = options.timeout || 0;\n                this.chunkSize = options.chunkSize || 0;\n                this.chunkRetries = options.chunkRetries || 0;\n                this.chunkEnable = options.chunkEnable || false;\n                this.chunkProcessThreads = options.chunkProcessThreads || 0\n            }\n            _createClass(FileRequest, [{\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.file\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || \"\"\n                }\n            }, {\n                key: \"getName\",\n                value: function getName() {\n                    return this.name\n                }\n            }, {\n                key: \"setName\",\n                value: function setName(name) {\n                    this.name = name;\n                    return this\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.params.setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    this.headers.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.withCredentials\n                }\n            }, {\n                key: \"setWithCredentials\",\n                value: function setWithCredentials(flag) {\n                    this.withCredentials = flag;\n                    return this\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.timeout\n                }\n            }, {\n                key: \"setTimeout\",\n                value: function setTimeout(timeout) {\n                    this.timeout = timeout;\n                    return this\n                }\n            }, {\n                key: \"getChunkSize\",\n                value: function getChunkSize() {\n                    return this.chunkSize\n                }\n            }, {\n                key: \"setChunkSize\",\n                value: function setChunkSize(chunkSize) {\n                    this.chunkSize = chunkSize;\n                    return this\n                }\n            }, {\n                key: \"getChunkRetries\",\n                value: function getChunkRetries() {\n                    return this.chunkRetries\n                }\n            }, {\n                key: \"setChunkRetries\",\n                value: function setChunkRetries(retries) {\n                    this.chunkRetries = retries;\n                    return 0\n                }\n            }, {\n                key: \"isChunkEnable\",\n                value: function isChunkEnable() {\n                    return this.chunkEnable && this.chunkSize > MIN_CHUNK_SIZE && this.file.getRuntime().canSlice() && this.file.size > this.chunkSize\n                }\n            }, {\n                key: \"setChunkEnable\",\n                value: function setChunkEnable(flag) {\n                    this.chunkEnable = flag;\n                    return this\n                }\n            }, {\n                key: \"getChunkProcessThreads\",\n                value: function getChunkProcessThreads() {\n                    return this.chunkProcessThreads\n                }\n            }, {\n                key: \"setChunkProcessThreads\",\n                value: function setChunkProcessThreads(threads) {\n                    this.chunkProcessThreads = threads;\n                    return this\n                }\n            }, {\n                key: \"createChunkRequest\",\n                value: function createChunkRequest(index, blob) {\n                    return new ChunkRequest(index, blob, this)\n                }\n            }, {\n                key: \"createFileResponse\",\n                value: function createFileResponse(response) {\n                    return new FileResponse(response, this)\n                }\n            }]);\n            return FileRequest\n        }();\n        exports[\"default\"] = FileRequest;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n\n        function createReader(collector) {\n            function reader(dataTransfer, responders) {\n                var items = dataTransfer.items,\n                    files = dataTransfer.files,\n                    item;\n                for (var i = 0, l = files.length; i < l; i++) {\n                    item = items && items[i];\n                    var entry = item && item.webkitGetAsEntry && item.webkitGetAsEntry();\n                    if (entry && entry.isDirectory) {\n                        readEntry(entry, responders)\n                    } else {\n                        collector(files[i], responders)\n                    }\n                }\n            }\n\n            function readEntry(entry, responders) {\n                if (entry.isFile) {\n                    entry.file(function(file) {\n                        return collector(file, responders)\n                    })\n                } else if (entry.isDirectory) {\n                    entry.createReader().readEntries(function(entries) {\n                        for (var i = 0, l = entries.length; i < l; i++) {\n                            readEntry(entries[i], responders)\n                        }\n                    })\n                }\n            }\n            return reader\n        }\n        var Area = function(_Emitter) {\n            _inherits(Area, _Emitter);\n\n            function Area(area) {\n                _classCallCheck(this, Area);\n                _get(Object.getPrototypeOf(Area.prototype), \"constructor\", this).call(this);\n                this.areaElement = area\n            }\n            _createClass(Area, [{\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areaElement.contains(target)\n                }\n            }, {\n                key: \"start\",\n                value: function start(e, allowed) {\n                    this.emit(\"start\", e, allowed)\n                }\n            }, {\n                key: \"response\",\n                value: function response(e, allowed) {\n                    allowed = allowed && this.contains(e.target);\n                    this.emit(\"response\", e, allowed);\n                    return allowed\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.emit(\"end\", e)\n                }\n            }]);\n            return Area\n        }(_emitter2[\"default\"]);\n        var Collectors = [];\n\n        function prepare() {\n            var $doc = (0, _jquery2[\"default\"])(document),\n                runtime = _html5Runtime2[\"default\"].getInstance();\n            var started = 0,\n                enter = 0,\n                endTimer = undefined;\n            var dataTransferReader = createReader(function(file, responders) {\n                if (!responders || responders.length < 1) {\n                    return\n                }\n                file = new _file2[\"default\"](runtime, file);\n                responders.some(function(responder) {\n                    return responder.recieve(file)\n                })\n            });\n            var start = function start(e) {\n                started = 1;\n                Collectors.forEach(function(responder) {\n                    return responder.start(e)\n                })\n            };\n            var move = function move(e) {\n                var allowed = Collectors.filter(function(responder) {\n                    return responder.response(e)\n                });\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                if (dataTransfer) {\n                    dataTransfer.dropEffect = allowed.length ? \"copy\" : \"none\"\n                }\n                e.preventDefault()\n            };\n            var end = function end(e) {\n                started = 0;\n                enter = 0;\n                Collectors.forEach(function(responder) {\n                    return responder.end(e)\n                })\n            };\n            var drag = function drag(e) {\n                clearTimeout(endTimer);\n                var isLeave = e.type === \"dragleave\";\n                if (!isLeave && !started) {\n                    start(e)\n                }\n                move(e);\n                if (isLeave) {\n                    endTimer = setTimeout(function() {\n                        return end(e)\n                    }, 100)\n                }\n            };\n            var drop = function drop(e) {\n                e.preventDefault();\n                clearTimeout(endTimer);\n                end(e);\n                var responders = Collectors.filter(function(responder) {\n                    return responder.contains(e.target)\n                });\n                if (responders.length < 1) {\n                    return\n                }\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                try {\n                    if (dataTransfer.getData(\"text/html\")) {\n                        return\n                    }\n                } catch (ex) {}\n                dataTransferReader(dataTransfer, responders)\n            };\n            $doc.on(\"dragenter dragover dragleave\", drag);\n            $doc.on(\"drop\", drop)\n        }\n        var DndCollector = function() {\n            _createClass(DndCollector, null, [{\n                key: \"isSupport\",\n                value: function isSupport() {\n                    return \"DataTransfer\" in window && \"FileList\" in window\n                }\n            }]);\n\n            function DndCollector(context) {\n                _classCallCheck(this, DndCollector);\n                if (Collectors.length < 1) {\n                    prepare()\n                }\n                Collectors.push(this);\n                this.context = context;\n                this.areas = []\n            }\n            _createClass(DndCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    var _this = this;\n                    area = new Area(area);\n                    this.areas.push(area);\n                    area.destroy = function() {\n                        area.removeAllListeners();\n                        var i = _this.areas.indexOf(area);\n                        if (i > -1) {\n                            _this.areas.splice(i, 1)\n                        }\n                    };\n                    return area\n                }\n            }, {\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areas.some(function(area) {\n                        return area.contains(target)\n                    })\n                }\n            }, {\n                key: \"start\",\n                value: function start(e) {\n                    var allowed = !this.context.isLimit();\n                    this.areas.forEach(function(area) {\n                        return area.start(e, allowed)\n                    })\n                }\n            }, {\n                key: \"response\",\n                value: function response(e) {\n                    var allowed = !this.context.isLimit(),\n                        res = this.areas.map(function(area) {\n                            return area.response(e, allowed)\n                        });\n                    return allowed && res.some(function(r) {\n                        return !!r\n                    })\n                }\n            }, {\n                key: \"recieve\",\n                value: function recieve(file) {\n                    return this.context.add(file)\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.areas.forEach(function(area) {\n                        return area.end(e)\n                    })\n                }\n            }]);\n            return DndCollector\n        }();\n        exports[\"default\"] = DndCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _runtime = __webpack_require__(10);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(11);\n        var _transport2 = _interopRequireDefault(_transport);\n        var instance = undefined;\n        var Html5Runtime = function(_Runtime) {\n            _inherits(Html5Runtime, _Runtime);\n\n            function Html5Runtime() {\n                _classCallCheck(this, Html5Runtime);\n                _get(Object.getPrototypeOf(Html5Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Html5Runtime, [{\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(blob, timeout) {\n                    var i = (0, _jquery.Deferred)(),\n                        fr = new FileReader,\n                        timer = undefined;\n                    fr.onloadend = function() {\n                        if (fr.readyState == FileReader.DONE) {\n                            i.resolve(fr.result)\n                        } else {\n                            i.reject()\n                        }\n                        clearTimeout(timer);\n                        fr.onloadend = null\n                    };\n                    fr.readAsDataURL(blob);\n                    var abort = function abort() {\n                        fr && fr.abort();\n                        fr = null\n                    };\n                    if (timeout) {\n                        timer = setTimeout(abort, timeout)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    if (!this.transport) {\n                        this.transport = new _transport2[\"default\"](this)\n                    }\n                    return this.transport\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return !!(Blob.prototype.slice || Blob.prototype.mozSlice || Blob.prototype.webkitSlice)\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob, start, end) {\n                    var blobSlice = blob.slice || blob.mozSlice || blob.webkitSlice;\n                    return blobSlice.call(blob, start, end)\n                }\n            }, {\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    if (!window.SparkMD5) {\n                        i.reject();\n                        return i.promise()\n                    }\n                    var chunkSize = 2 * 1024 * 1024,\n                        chunks = Math.ceil(blob.size / chunkSize),\n                        chunk = 0,\n                        spark = new SparkMD5.ArrayBuffer,\n                        blobSlice = blob.mozSlice || blob.webkitSlice || blob.slice;\n                    var fr = new FileReader;\n                    var _loadNext = function loadNext() {\n                        if (!fr) return;\n                        var start = undefined,\n                            end = undefined;\n                        start = chunk * chunkSize;\n                        end = Math.min(start + chunkSize, blob.size);\n                        fr.onload = function() {\n                            spark && spark.append(fr.result)\n                        };\n                        fr.onloadend = function() {\n                            if (!fr) return;\n                            if (fr.readyState == FileReader.DONE) {\n                                if (++chunk < chunks) {\n                                    setTimeout(_loadNext, 1)\n                                } else {\n                                    setTimeout(function() {\n                                        spark && i.resolve(spark.end());\n                                        _loadNext = blob = spark = null\n                                    }, 50)\n                                }\n                            } else {\n                                i.reject()\n                            }\n                            fr.onloadend = fr.onload = null\n                        };\n                        fr.readAsArrayBuffer(blobSlice.call(blob, start, end))\n                    };\n                    _loadNext();\n                    var ret = i.promise();\n                    ret.abort = function() {\n                        fr && fr.abort();\n                        spark = null;\n                        fr = null\n                    };\n                    return ret\n                }\n            }], [{\n                key: \"getInstance\",\n                value: function getInstance() {\n                    if (!instance) {\n                        instance = new Html5Runtime\n                    }\n                    return instance\n                }\n            }]);\n            return Html5Runtime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = Html5Runtime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Runtime = function(_Emitter) {\n            _inherits(Runtime, _Emitter);\n\n            function Runtime() {\n                _classCallCheck(this, Runtime);\n                _get(Object.getPrototypeOf(Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Runtime, [{\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(file, timeout) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    return null\n                }\n            }, {\n                key: \"getUploading\",\n                value: function getUploading() {\n                    if (!this.uploading) {\n                        this.uploading = new Uploading(this)\n                    }\n                    return this.uploading\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return false\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob) {\n                    throw new Error(\"this runtime current not support slice\")\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {}\n            }]);\n            return Runtime\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Runtime;\n        var Uploading = function() {\n            function Uploading(runtime) {\n                _classCallCheck(this, Uploading);\n                this.runtime = runtime\n            }\n            _createClass(Uploading, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var _this = this;\n                    var i = (0, _jquery.Deferred)(),\n                        file = request.getFile(),\n                        runtime = this.runtime;\n                    var source = file.getSource(),\n                        size = file.size,\n                        chunkSize = request.getChunkSize(),\n                        useChunk = request.isChunkEnable(),\n                        threads = request.getChunkProcessThreads(),\n                        start = 0,\n                        end = 0,\n                        slots = [];\n                    var getActives = function getActives() {\n                        return slots.reduce(function(sum, slot) {\n                            return sum + (slot.state() === \"pending\" ? 1 : 0)\n                        }, 0)\n                    };\n                    var readChunk = function readChunk() {\n                        var slot = undefined,\n                            req = undefined,\n                            blob = undefined;\n                        while (end < size && getActives() < threads) {\n                            start = end;\n                            end = Math.min(end + chunkSize, size);\n                            blob = runtime.slice(source, start, end);\n                            req = request.createChunkRequest(slots.length, blob);\n                            slot = _this.slot(req, request.getChunkRetries());\n                            slot.progress(progress).done(done).fail(fail);\n                            slots.push(slot)\n                        }\n                    };\n                    var progress = function progress() {\n                        var total = size - end,\n                            loaded = 0;\n                        slots.forEach(function(slot) {\n                            total += slot.total;\n                            loaded += slot.loaded\n                        });\n                        i.notify({\n                            total: total,\n                            loaded: loaded\n                        })\n                    };\n                    var done = function done(res) {\n                        useChunk && readChunk();\n                        if (end >= size && slots.every(function(slot) {\n                                return slot.state() === \"resolved\"\n                            })) {\n                            i.resolve(res)\n                        }\n                    };\n                    var abort = function abort() {\n                        slots.forEach(function(slot) {\n                            return slot.abort()\n                        })\n                    };\n                    var fail = function fail(error) {\n                        i.reject(error);\n                        abort()\n                    };\n                    if (useChunk) {\n                        readChunk()\n                    } else {\n                        end = size;\n                        var slot = this.slot(request.createChunkRequest(0, source), 0);\n                        slot.progress(progress).done(done).fail(fail);\n                        slots.push(slot)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"slot\",\n                value: function slot(request, retries) {\n                    var i = (0, _jquery.Deferred)(),\n                        runtime = this.runtime,\n                        context = request.getFile().getContext();\n                    var slot = i.promise();\n                    var progress = function progress(e) {\n                        if (e.total) {\n                            slot.total = e.total\n                        }\n                        if (e.loaded) {\n                            slot.loaded = e.loaded\n                        }\n                        i.notify(e)\n                    };\n                    var process = function process() {\n                        var prepare, transport, completion;\n                        slot.abort = function() {\n                            prepare && prepare.abort();\n                            transport && transport.abort();\n                            completion && completion.abort()\n                        };\n                        slot.total = request.getBlob().size;\n                        slot.loaded = 0;\n                        prepare = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_PREPARING, request);\n                        prepare.then(function(request) {\n                            transport = runtime.getTransport().generate(request);\n                            transport.progress(progress);\n                            return transport\n                        }).then(function(response) {\n                            completion = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_COMPLETING, request.createChunkResponse(response));\n                            return completion\n                        }).done(i.resolve).fail(error)\n                    };\n                    var error = function error(e) {\n                        if (e instanceof _errors.NetworkError && retries-- > 0) {\n                            setTimeout(process, 500)\n                        } else {\n                            i.reject(e)\n                        }\n                        slot.abort()\n                    };\n                    process();\n                    return slot\n                }\n            }]);\n            return Uploading\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Html5Transport = function() {\n            function Html5Transport() {\n                _classCallCheck(this, Html5Transport)\n            }\n            _createClass(Html5Transport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)();\n                    var timeoutTimer = undefined,\n                        withCredentials = false;\n                    var xhr = new XMLHttpRequest;\n                    if (request.isWithCredentials && !(\"withCredentials\" in xhr) && \"XDomainRequest\" in window) {\n                        xhr = new XDomainRequest;\n                        withCredentials = true\n                    }\n                    var clean = function clean() {\n                        xhr.onload = xhr.onerror = null;\n                        if (xhr.upload) {\n                            xhr.upload.onprogress = null\n                        }\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        try {\n                            xhr.abort()\n                        } catch (e) {}\n                    };\n                    var complete = function complete(e) {\n                        clean();\n                        if (!xhr.status && e.type === \"error\") {\n                            return i.reject(new _errors.AbortError(e.message))\n                        }\n                        if (xhr.status === 0 || xhr.status === 304 || xhr.status >= 200 && xhr.status < 300) {\n                            return i.resolve(xhr.responseText)\n                        }\n                        return i.reject(new _errors.NetworkError(xhr.status, xhr.statusText))\n                    };\n                    if (xhr.upload) {\n                        xhr.upload.onprogress = function(e) {\n                            return i.notify(e)\n                        }\n                    }\n                    xhr.onerror = complete;\n                    xhr.onload = complete;\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        (function() {\n                            if (withCredentials) {\n                                xhr.open(\"POST\", request.getUrl(), true);\n                                xhr.withCredentials = true\n                            } else {\n                                xhr.open(\"POST\", request.getUrl())\n                            }\n                            request.getHeaders().forEach(function(header) {\n                                return xhr.setRequestHeader(header.name, header.value)\n                            });\n                            var formData = new FormData,\n                                blob = request.getBlob();\n                            request.getParams().toArray().forEach(function(param) {\n                                return formData.append(param.name, param.value)\n                            });\n                            formData.append(request.getName(), blob, blob.name || \"blob\");\n                            xhr.send(formData)\n                        })()\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return Html5Transport\n        }();\n        exports[\"default\"] = Html5Transport;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _jquery = __webpack_require__(3);\n        var uid = 0;\n\n        function guid() {\n            return \"FILE-\" + (uid++).toString(16).toUpperCase()\n        }\n        var RE_EXT = /\\.([^.]+)$/,\n            RE_IMAGE = /\\/(jpg|jpeg|png|gif|bmp)$/i;\n\n        function guessExt(blob) {\n            var m = blob.name && RE_EXT.exec(blob.name);\n            if (m) {\n                return m[1]\n            }\n            m = blob.type && RE_IMAGE.exec(blob.type);\n            if (m) {\n                return m[1]\n            }\n            return \"\"\n        }\n\n        function guessType(ext) {\n            if ([\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\"].indexOf(ext.toLowerCase())) {\n                return \"image/\" + (ext === \"jpg\" ? \"jpeg\" : ext)\n            }\n            return null\n        }\n        var Progress = function() {\n            function Progress(total, loaded) {\n                _classCallCheck(this, Progress);\n                this.total = total;\n                this.loaded = loaded\n            }\n            _createClass(Progress, [{\n                key: \"percentage\",\n                get: function get() {\n                    return this.loaded === this.total ? 100 : Math.ceil(this.loaded / this.total * 100)\n                }\n            }]);\n            return Progress\n        }();\n        exports[\"default\"] = Progress;\n        var File = function(_Emitter) {\n            _inherits(File, _Emitter);\n\n            function File(runtime, source, filename) {\n                _classCallCheck(this, File);\n                _get(Object.getPrototypeOf(File.prototype), \"constructor\", this).call(this);\n                this.id = guid();\n                this.name = source.name || filename || this.id;\n                var ext = guessExt(source).toLowerCase();\n                if (ext && !RE_EXT.test(this.name)) {\n                    this.name += \".\" + ext\n                }\n                this.ext = ext;\n                this.type = source.type || guessType(this.ext) || \"application/octet-stream\";\n                this.lastModified = source.lastModified || +new Date;\n                this.size = source.size || 0;\n                this.runtime = runtime;\n                this.source = source;\n                this.status = _status2[\"default\"].INITED;\n                this.progress = new Progress(this.size, 0)\n            }\n            _createClass(File, [{\n                key: \"getContext\",\n                value: function getContext() {\n                    return this.context\n                }\n            }, {\n                key: \"setContext\",\n                value: function setContext(context) {\n                    this.context = context;\n                    this.setPropagationTarget(context)\n                }\n            }, {\n                key: \"getRuntime\",\n                value: function getRuntime() {\n                    return this.runtime\n                }\n            }, {\n                key: \"isImage\",\n                value: function isImage() {\n                    return RE_IMAGE.test(this.type)\n                }\n            }, {\n                key: \"setStatus\",\n                value: function setStatus(status) {\n                    var prevStatus = this.status;\n                    if (prevStatus !== _status2[\"default\"].CANCELLED && status !== prevStatus) {\n                        this.status = status;\n                        this.emit(_events2[\"default\"].FILE_STATUS_CHANGE, status, prevStatus)\n                    }\n                }\n            }, {\n                key: \"getStatus\",\n                value: function getStatus() {\n                    return this.status\n                }\n            }, {\n                key: \"getStatusName\",\n                value: function getStatusName() {\n                    if (this.status in _status.StatusName) {\n                        return _status.StatusName[this.status]\n                    } else {\n                        return \"unknow\"\n                    }\n                }\n            }, {\n                key: \"getSource\",\n                value: function getSource() {\n                    return this.source\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(timeout) {\n                    if (!this._dataUrlPromise) {\n                        this._dataUrlPromise = this.runtime.getAsDataUrl(this.source, timeout)\n                    }\n                    return this._dataUrlPromise\n                }\n            }, {\n                key: \"md5\",\n                value: function md5() {\n                    if (!this._md5Promise) {\n                        this._md5Promise = this.runtime.md5(this.source)\n                    }\n                    return this._md5Promise\n                }\n            }, {\n                key: \"session\",\n                value: function session() {\n                    var _this = this;\n                    if (this._sessionPromise) {\n                        return this._sessionPromise\n                    }\n                    var session = (0, _jquery.Deferred)();\n                    session.progress(function(progress) {\n                        _this.setStatus(_status2[\"default\"].PROGRESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_PROGRESS, progress)\n                    }).done(function(response) {\n                        _this.response = response;\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        _this._flows = [];\n                        _this.setStatus(_status2[\"default\"].SUCCESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_SUCCESS, response)\n                    }).fail(function(error) {\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        var flow = undefined;\n                        while (flow = _this._flows.shift()) {\n                            flow.abort()\n                        }\n                        if (error instanceof Error) {\n                            _this.setStatus(_status2[\"default\"].ERROR);\n                            _this.emit(_events2[\"default\"].FILE_UPLOAD_ERROR, error)\n                        }\n                    }).always(function() {\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_COMPLETED, _this.getStatus())\n                    });\n                    this._flows = [];\n                    this._session = session;\n                    this._sessionPromise = session.promise();\n                    return this._sessionPromise\n                }\n            }, {\n                key: \"prepare\",\n                value: function prepare() {\n                    var _this2 = this;\n                    if (this.status !== _status2[\"default\"].PENDING || !this.context) {\n                        return false\n                    }\n                    this.session();\n                    this.setStatus(_status2[\"default\"].PROGRESS);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_START);\n                    this.request = this.context.createFileRequest(this);\n                    var prepare = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_PREPARING, this.request);\n                    this._flows.push(prepare);\n                    prepare.then(function(request) {\n                        _this2.emit(_events2[\"default\"].FILE_UPLOAD_PREPARED, request);\n                        var upload = _this2.runtime.getUploading().generate(request);\n                        _this2._flows.push(upload);\n                        upload.progress(function(e) {\n                            _this2.progress.total = e.total;\n                            _this2.progress.loaded = e.loaded;\n                            _this2._session.notify(_this2.progress)\n                        });\n                        return upload\n                    }).then(function(response) {\n                        return _this2.complete(response)\n                    }, this._session.reject);\n                    return true\n                }\n            }, {\n                key: \"complete\",\n                value: function complete(response) {\n                    if (this.status !== _status2[\"default\"].PROGRESS) return;\n                    var flow = undefined;\n                    while (flow = this._flows.shift()) {\n                        flow.abort()\n                    }\n                    this.progress.loaded = this.progress.total;\n                    this._session.notify(this.progress);\n                    response = this.request.createFileResponse(response);\n                    this.setStatus(_status2[\"default\"].END);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_END);\n                    var complete = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_COMPLETING, response);\n                    this._flows.push(complete);\n                    complete.then(this._session.resolve, this._session.reject)\n                }\n            }, {\n                key: \"pending\",\n                value: function pending() {\n                    if (this.status === _status2[\"default\"].ERROR || this.status === _status2[\"default\"].QUEUED) {\n                        this.progress.total = this.size;\n                        this.progress.loaded = 0;\n                        this.setStatus(_status2[\"default\"].PENDING)\n                    }\n                }\n            }, {\n                key: \"abort\",\n                value: function abort() {\n                    this._session && this._session.reject();\n                    this._session = null;\n                    this._sessionPromise = null\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel() {\n                    this.setStatus(_status2[\"default\"].CANCELLED);\n                    this.emit(_events2[\"default\"].FILE_CANCEL);\n                    this.abort();\n                    this.runtime.cancel(this.source);\n                    this._dataUrlPromise && this._dataUrlPromise.abort();\n                    this._md5Promise && this._md5Promise.abort && this._md5Promise.abort();\n                    this.removeAllListeners()\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    this.cancel()\n                }\n            }]);\n            return File\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = File;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n        var PasteCollector = function() {\n            _createClass(PasteCollector, null, [{\n                key: \"isSupport\",\n                value: function isSupport() {\n                    return \"DataTransfer\" in window && \"FileList\" in window\n                }\n            }]);\n\n            function PasteCollector(context) {\n                _classCallCheck(this, PasteCollector);\n                this.context = context;\n                this.runtime = _html5Runtime2[\"default\"].getInstance()\n            }\n            _createClass(PasteCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    area = area.on ? area : (0, _jquery2[\"default\"])(area);\n                    var context = this.context,\n                        runtime = this.runtime,\n                        emitter = new _emitter2[\"default\"];\n                    var paste = function paste(e) {\n                        if (e.isDefaultPrevented()) {\n                            return\n                        }\n                        var clipboardData = (e.originalEvent || e).clipboardData,\n                            items = clipboardData.items,\n                            files = clipboardData.files;\n                        try {\n                            if (!items && !files || clipboardData.getData(\"text/html\")) {\n                                return\n                            }\n                        } catch (ex) {}\n                        var prevent = undefined,\n                            i = undefined,\n                            l = undefined,\n                            file = undefined,\n                            item = undefined;\n                        if (files && files.length) {\n                            prevent = files.length > 0;\n                            for (i = 0, l = files.length; i < l && !context.isLimit(); i++) {\n                                file = new _file2[\"default\"](runtime, files[i]);\n                                prevent = 1;\n                                if (context.add(file) && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        } else if (items && items.length) {\n                            var filename = clipboardData.getData(\"text/plain\");\n                            for (i = 0, l = items.length; i < l && !context.isLimit(); i++) {\n                                item = items[i];\n                                if (item.kind !== \"file\" || !(file = item.getAsFile())) {\n                                    continue\n                                }\n                                file = new _file2[\"default\"](runtime, file, filename);\n                                filename = null;\n                                prevent = 1;\n                                if (context.add(file) && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        }\n                        if (prevent) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            emitter.emit(\"paste\", clipboardData)\n                        }\n                    };\n                    area.on(\"paste\", paste);\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        area.off(\"paste\", paste)\n                    };\n                    return emitter\n                }\n            }]);\n            return PasteCollector\n        }();\n        exports[\"default\"] = PasteCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _flashRuntime = __webpack_require__(15);\n        var _flashRuntime2 = _interopRequireDefault(_flashRuntime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n        var SWF_URL = \"\";\n        var FlashTriggerCollection = function() {\n            function FlashTriggerCollection(context, onFiles) {\n                var _this = this;\n                _classCallCheck(this, FlashTriggerCollection);\n                var overlay = (0, _jquery2[\"default\"])(\"<label></label>\");\n                overlay.css({\n                    position: \"fixed\",\n                    opacity: 0,\n                    left: -100,\n                    top: -100,\n                    width: 50,\n                    height: 50,\n                    display: \"block\",\n                    cursor: \"pointer\",\n                    background: \"#fff\",\n                    overflow: \"hidden\",\n                    zIndex: 99999\n                });\n                var runtime = new _flashRuntime2[\"default\"](overlay, SWF_URL, function() {\n                    return {\n                        accept: context.getAccept(),\n                        multiple: context.isMultiple()\n                    }\n                });\n                runtime.on(\"select\", function(e) {\n                    onFiles(e.files, runtime);\n                    _this.current && _this.current.emit(\"files\", e.files, runtime)\n                });\n                runtime.on(\"rollOut\", function() {\n                    return _this.hideOverlay()\n                });\n                this.overlay = overlay.appendTo(document.body)\n            }\n            _createClass(FlashTriggerCollection, [{\n                key: \"hideOverlay\",\n                value: function hideOverlay() {\n                    this.overlay.css({\n                        left: -100,\n                        top: -100,\n                        width: 50,\n                        height: 50\n                    });\n                    if (this.current) {\n                        this.current.emit(\"rollOut\");\n                        this.current = null\n                    }\n                }\n            }, {\n                key: \"add\",\n                value: function add(trigger) {\n                    var _this2 = this;\n                    var overlay = this.overlay,\n                        emitter = new _emitter2[\"default\"];\n                    trigger = trigger.on ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.on(\"mouseover.flashpicker\", function() {\n                        var rect = this.getBoundingClientRect();\n                        overlay.css({\n                            left: rect.left,\n                            top: rect.top,\n                            width: rect.width,\n                            height: rect.height\n                        });\n                        emitter.emit(\"rollOver\");\n                        if (this.current && this.current !== emitter) {\n                            this.current.emit(\"rollOut\")\n                        }\n                        this.current = emitter\n                    });\n                    emitter.destroy = function() {\n                        if (_this2.current === emitter) {\n                            _this2.hideOverlay()\n                        }\n                        emitter.removeAllListeners();\n                        trigger.off(\"mouseover.flashpicker\")\n                    };\n                    return emitter\n                }\n            }]);\n            return FlashTriggerCollection\n        }();\n        var Html5TriggerCollection = function() {\n            function Html5TriggerCollection(context, onFiles) {\n                var _this3 = this;\n                _classCallCheck(this, Html5TriggerCollection);\n                var runtime = _html5Runtime2[\"default\"].getInstance();\n                this._createInput = function(label) {\n                    var input = (0, _jquery2[\"default\"])(document.createElement(\"input\"));\n                    input.attr(\"type\", \"file\");\n                    input.css({\n                        position: \"absolute\",\n                        clip: \"rect(1px 1px 1px 1px)\"\n                    });\n                    var accept = context.getAccept();\n                    if (accept && accept.length > 0) {\n                        accept = accept.map(function(item) {\n                            return item.mimeTypes\n                        });\n                        input.attr(\"accept\", accept.join(\",\"))\n                    }\n                    if (context.isMultiple()) {\n                        input.attr(\"multiple\", \"multiple\")\n                    }\n                    input.on(\"change\", function(e) {\n                        onFiles(e.target.files, runtime);\n                        input.remove();\n                        _this3._createInput(label)\n                    });\n                    label.html(input)\n                }\n            }\n            _createClass(Html5TriggerCollection, [{\n                key: \"add\",\n                value: function add(trigger) {\n                    var label = (0, _jquery2[\"default\"])(\"<label></label>\"),\n                        emitter = new _emitter2[\"default\"];\n                    label.css({\n                        position: \"absolute\",\n                        opacity: 0,\n                        top: 0,\n                        left: 0,\n                        width: \"100%\",\n                        height: \"100%\",\n                        display: \"inline-block\",\n                        cursor: \"pointer\",\n                        background: \"#fff\",\n                        overflow: \"hidden\"\n                    });\n                    this._createInput(label);\n                    trigger = trigger.append ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.append(label);\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        label.remove()\n                    };\n                    return emitter\n                }\n            }]);\n            return Html5TriggerCollection\n        }();\n        var PickerCollector = function() {\n            _createClass(PickerCollector, null, [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    SWF_URL = url\n                }\n            }]);\n\n            function PickerCollector(context) {\n                _classCallCheck(this, PickerCollector);\n                var onFiles = function onFiles(files, runtime) {\n                    for (var i = 0, l = files.length; i < l && !context.isLimit(); i++) {\n                        context.add(new _file2[\"default\"](runtime, files[i]))\n                    }\n                };\n                if (\"DataTransfer\" in window && \"FileList\" in window) {\n                    this.triggerCollection = new Html5TriggerCollection(context, onFiles)\n                } else {\n                    this.triggerCollection = new FlashTriggerCollection(context, onFiles)\n                }\n            }\n            _createClass(PickerCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    return this.triggerCollection.add(area)\n                }\n            }]);\n            return PickerCollector\n        }();\n        exports[\"default\"] = PickerCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _runtime = __webpack_require__(10);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(16);\n        var _transport2 = _interopRequireDefault(_transport);\n\n        function getFlashVersion() {\n            var version = undefined;\n            try {\n                version = navigator.plugins[\"Shockwave Flash\"];\n                version = version.description\n            } catch (e1) {\n                try {\n                    version = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\")\n                } catch (e2) {\n                    version = \"0.0\"\n                }\n            }\n            version = version.match(/\\d+/g);\n            return parseFloat(version[0] + \".\" + version[1])\n        }\n\n        function callFlash(movie, functionName, argumentArray) {\n            try {\n                movie.CallFunction('<invoke name=\"' + functionName + '\" returntype=\"javascript\">' + __flash__argumentsToXML(argumentArray || [], 0) + \"</invoke>\")\n            } catch (ex) {\n                throw \"Call to \" + functionName + \" failed\"\n            }\n        }\n\n        function createFlash(swf, callInterface) {\n            if (getFlashVersion() < 11.4) {\n                throw \"flash player is not available\"\n            }\n            var div = document.createElement(\"div\");\n            var url = swf + (swf.indexOf(\"?\") > 0 ? \"&\" : \"?\") + \"callInterface=\" + encodeURIComponent(callInterface);\n            var attrs = ['id=\"' + callInterface + '-Picker\"', 'type=\"application/x-shockwave-flash\"', 'data=\"' + url + '\"', 'width=\"100%\" height=\"100%\"', 'style=\"position:absolute;left:0;top:0;display:block;z-index:1;outline:0\"'];\n            if (window.ActiveXObject) {\n                attrs.push('classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"')\n            }\n            div.innerHTML = \"<object \" + attrs.join(\" \") + \">\" + '<param name=\"movie\" value=\"' + url + '\" />' + '<param name=\"wmode\" value=\"transparent\" />' + '<param name=\"allowscriptaccess\" value=\"always\" />' + \"</object>\";\n            return div.firstChild\n        }\n        var _guid = +new Date;\n\n        function guid(_x4) {\n            var _again2 = true;\n            _function2: while (_again2) {\n                var prefix = _x4;\n                ret = undefined;\n                _again2 = false;\n                var ret = prefix + (_guid++).toString(16);\n                if (ret in window) {\n                    _x4 = prefix;\n                    _again2 = true;\n                    continue _function2\n                }\n                return ret\n            }\n        }\n        var FlashRuntime = function(_Runtime) {\n            _inherits(FlashRuntime, _Runtime);\n\n            function FlashRuntime(trigger, swf, options) {\n                var _this = this;\n                _classCallCheck(this, FlashRuntime);\n                _get(Object.getPrototypeOf(FlashRuntime.prototype), \"constructor\", this).call(this);\n                var callInterface = guid(\"FlashRuntime\");\n                this.callInterface = callInterface;\n                window[callInterface] = this;\n                this.options = options;\n                var display = function display() {\n                    var w = trigger[0].offsetWidth,\n                        h = trigger[0].offsetHeight,\n                        flash = undefined;\n                    if (!w || !h || !(flash = createFlash(swf, callInterface))) {\n                        setTimeout(display, 1e3);\n                        return\n                    }\n                    trigger.append(_this.flash = flash)\n                };\n                display()\n            }\n            _createClass(FlashRuntime, [{\n                key: \"getOptions\",\n                value: function getOptions() {\n                    var options = this.options;\n                    if (typeof options === \"function\") {\n                        options = options()\n                    }\n                    return options\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport(name, blob, options) {\n                    return new _transport2[\"default\"](this, name, blob, options)\n                }\n            }, {\n                key: \"send\",\n                value: function send(name, blob, url, params) {\n                    callFlash(this.flash, \"exec\", [\"send\", name, blob.id, url, params])\n                }\n            }, {\n                key: \"abort\",\n                value: function abort(blob) {\n                    try {\n                        callFlash(this.flash, \"exec\", [\"abort\", blob.id])\n                    } catch (e) {}\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {\n                    callFlash(this.flash, \"exec\", [\"cancel\", blob.id])\n                }\n            }, {\n                key: \"ping\",\n                value: function ping() {\n                    callFlash(this.flash, \"exec\", [\"pang\"])\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    delete window[this.callInterface]\n                }\n            }]);\n            return FlashRuntime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = FlashRuntime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var FlashTransport = function() {\n            function FlashTransport(flashRuntime) {\n                _classCallCheck(this, FlashTransport);\n                this.flashRuntime = flashRuntime\n            }\n            _createClass(FlashTransport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)(),\n                        flashRuntime = this.flashRuntime,\n                        blob = request.getBlob();\n                    var timeoutTimer = undefined;\n                    var clean = function clean() {\n                        flashRuntime.off(\"uploadprogress\", progress);\n                        flashRuntime.off(\"uploadcomplete\", complete);\n                        flashRuntime.off(\"uploaderror\", error);\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        flashRuntime.abort(blob.id)\n                    };\n                    var progress = function progress(e) {\n                        if (e.id !== blob.id) return;\n                        i.notify(e)\n                    };\n                    var complete = function complete(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        if (e.status === 304 || e.status >= 200 && e.status < 300) {\n                            flashRuntime.cancel(blob);\n                            return i.resolve(e.response)\n                        }\n                        return i.reject(new _errors.NetworkError(e.status, e.response))\n                    };\n                    var error = function error(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        i.reject(new _errors.AbortError(e.message))\n                    };\n                    flashRuntime.on(\"uploadprogress\", progress);\n                    flashRuntime.on(\"uploadcomplete\", complete);\n                    flashRuntime.on(\"uploaderror\", error);\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        flashRuntime.send(request.getName(), blob, request.getUrl(), request.getParams().toString())\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return FlashTransport\n        }();\n        exports[\"default\"] = FlashTransport;\n        module.exports = exports[\"default\"]\n    }]);\n    UXUploader[\"default\"].setSWF(require.resolve(\"./flashpicker.swf#\"));\n    UXUploader[\"default\"].Status = UXUploader.Status;\n    UXUploader[\"default\"].Events = UXUploader.Events;\n    module.exports = UXUploader[\"default\"]\n});"],"sourceRoot":"/source/"}