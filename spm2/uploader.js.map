{"version":3,"sources":["uploader.js"],"names":["define","require","exports","module","jQuery","SparkMD5","UXUploader","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_srcContext","_srcContext2","_srcEvents","_srcEvents2","_srcStatus","_srcStatus2","Uploader","Events","Status","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_emitter","_emitter2","_events","_events2","_status","_status2","_errors","_util","_filerequest","_filerequest2","_collectorDnd","_collectorDnd2","_collectorPaste","_collectorPaste2","_collectorPicker","_collectorPicker2","Context","_Emitter","options","_this","this","processThreads","autoPending","queueCapcity","accept","sizeLimit","preventDuplicate","multiple","stat","Stat","constraints","Constraints","filters","Filters","normalizeAccept","pending","Pending","addConstraint","getTotal","addFilter","file","some","item","extensions","indexOf","ext","FileExtensionError","parseSize","size","FileSizeError","formatSize","getFiles","name","DuplicateError","requestOptions","request","constraint","add","filter","_this2","isLimit","emit","QUEUE_ERROR","QueueLimitError","error","QUEUE_FILE_FILTERED","setStatus","QUEUED","on","FILE_STATUS_CHANGE","status","CANCELLED","remove","PENDING","setTimeout","QUEUE_UPLOAD_START","QUEUE_STAT_CHANGE","PROCESS","QUEUE_UPLOAD_END","setContext","QUEUE_FILE_ADDED","picker","dnd","paster","url","setSWF","Set","_set","shift","pop","slice","has","push","splice","files","flag","toArray","getStatus","forEach","_this3","fn","every","ret","e","FilterError","Error","toString","threads","heading","_this4","session","always","load","_this5","prepare","process","HookInvoker","hooks","initialData","context","_data","_error","_aborted","_jquery","Deferred","promise","abort","fail","reject","done","resolve","setData","data","next","hook","res","then","Emitter","event","listener","toLowerCase","that","off","apply","arguments","listeners","emitter","propagationTarget","_len","args","Array","_key","applyEmit","pArgs","unshift","FILE_UPLOAD_START","FILE_UPLOAD_PREPARING","FILE_UPLOAD_PREPARED","CHUNK_UPLOAD_PREPARING","CHUNK_UPLOAD_COMPLETING","FILE_UPLOAD_PROGRESS","FILE_UPLOAD_END","FILE_UPLOAD_COMPLETING","FILE_UPLOAD_SUCCESS","FILE_UPLOAD_ERROR","FILE_UPLOAD_COMPLETED","FILE_CANCEL","ALL","INITED","PROGRESS","END","SUCCESS","ERROR","StatusName",1,2,4,8,16,32,64,128,"_Error","_Error2","message","AbortError","_Error3","TimeoutError","_Error4","NetworkError","_Error5","_Error6","_Error7","_FilterError","_FilterError2","_FilterError3","parseFloat","prefixesSI","base","index","Math","floor","log","min","powedPrecision","pow","round","units","t","g","k","exec","u","hasOwnProperty","normalizeExtensions","split","map","accepts","isArray","ACCEPTs","title","mimeTypes","images","audios","videos","ChunkResponse","rawResponse","chunkRequest","response","getResponse","getJson","JSON","parse","ChunkRequest","blob","fileRequest","getName","getFile","source","params","getParams","clone","getParam","setParam","getUrl","headers","getHeaders","isWithCredentials","getTimeout","FileResponse","getChunkRequest","isMultiChunk","Params","_name","removeParam","addParam","param","single","encodeURIComponent","join","MIN_CHUNK_SIZE","FileRequest","withCredentials","timeout","chunkSize","chunkRetries","chunkEnable","chunkProcessThreads","retries","getChunkSize","getRuntime","canSlice","createReader","collector","reader","dataTransfer","responders","items","l","_break","entry","webkitGetAsEntry","isDirectory","readEntry","isFile","readEntries","entries","window","$doc","_jquery2","document","runtime","_html5Runtime2","getInstance","started","enter","endTimer","dataTransferReader","_file2","total","responder","recieve","start","Collectors","move","originalEvent","dropEffect","preventDefault","end","drag","clearTimeout","isLeave","type","drop","contains","getData","ex","_html5Runtime","_file","Area","area","areaElement","allowed","DndCollector","areas","destroy","removeAllListeners","r","isMultiple","_runtime","_runtime2","_transport","_transport2","Html5Runtime","_Runtime","fr","FileReader","timer","onloadend","readyState","DONE","result","readAsDataURL","transport","Blob","mozSlice","webkitSlice","blobSlice","chunks","ceil","chunk","spark","ArrayBuffer","_loadNext","onload","append","readAsArrayBuffer","Runtime","uploading","Uploading","getSource","useChunk","isChunkEnable","getChunkProcessThreads","slots","getActives","reduce","sum","slot","state","readChunk","req","createChunkRequest","getChunkRetries","progress","notify","getContext","completion","getBlob","invoke","getTransport","generate","createChunkResponse","Html5Transport","timeoutTimer","xhr","XMLHttpRequest","XDomainRequest","clean","onerror","upload","onprogress","complete","responseText","statusText","open","header","setRequestHeader","formData","FormData","send","guid","uid","toUpperCase","guessExt","RE_EXT","RE_IMAGE","guessType","Progress","change","percentage","File","filename","test","lastModified","Date","setPropagationTarget","prevStatus","_dataUrlPromise","getAsDataUrl","_md5Promise","md5","_sessionPromise","_session","_flows","flow","createFileRequest","getUploading","createFileResponse","cancel","PasteCollector","paste","isDefaultPrevented","clipboardData","prevent","addRet","kind","getAsFile","stopPropagation","_flashRuntime","_flashRuntime2","SWF_URL","FlashTriggerCollection","onFiles","overlay","css","position","opacity","left","top","width","height","display","cursor","background","overflow","zIndex","getAccept","current","hideOverlay","appendTo","body","trigger","rect","currentTarget","getBoundingClientRect","right","bottom","Html5TriggerCollection","_createInput","label","input","createElement","attr","clip","html","PickerCollector","triggerCollection","getFlashVersion","version","navigator","plugins","description","e1","ActiveXObject","GetVariable","e2","match","callFlash","movie","functionName","argumentArray","CallFunction","__flash__argumentsToXML","createFlash","swf","callInterface","div","attrs","innerHTML","firstChild","_x4","_again2","prefix","_guid","FlashRuntime","w","offsetWidth","h","offsetHeight","flash","FlashTransport","flashRuntime"],"mappings":"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","file":"uploader.js","sourcesContent":["define(\"alinw/uxuploader/2.0.0-beta.1/uploader\", [\"jquery\", \"spark-md5\"], function(require, exports, module) {\n    var jQuery = require(\"jquery\");\n    var SparkMD5 = require(\"spark-md5\");\n    var UXUploader = function(modules) {\n        var installedModules = {};\n\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                exports: {},\n                id: moduleId,\n                loaded: false\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.loaded = true;\n            return module.exports\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.p = \"\";\n        return __webpack_require__(0)\n    }([function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n        var _srcContext = __webpack_require__(1);\n        var _srcContext2 = _interopRequireDefault(_srcContext);\n        var _srcEvents = __webpack_require__(4);\n        var _srcEvents2 = _interopRequireDefault(_srcEvents);\n        var _srcStatus = __webpack_require__(5);\n        var _srcStatus2 = _interopRequireDefault(_srcStatus);\n        exports[\"default\"] = _srcContext2[\"default\"];\n        exports.Uploader = _srcContext2[\"default\"];\n        exports.Events = _srcEvents2[\"default\"];\n        exports.Status = _srcStatus2[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _errors = __webpack_require__(6);\n        var _util = __webpack_require__(7);\n        var _filerequest = __webpack_require__(8);\n        var _filerequest2 = _interopRequireDefault(_filerequest);\n        var _collectorDnd = __webpack_require__(9);\n        var _collectorDnd2 = _interopRequireDefault(_collectorDnd);\n        var _collectorPaste = __webpack_require__(14);\n        var _collectorPaste2 = _interopRequireDefault(_collectorPaste);\n        var _collectorPicker = __webpack_require__(15);\n        var _collectorPicker2 = _interopRequireDefault(_collectorPicker);\n        var Context = function(_Emitter) {\n            _inherits(Context, _Emitter);\n\n            function Context(options) {\n                var _this = this;\n                _classCallCheck(this, Context);\n                _get(Object.getPrototypeOf(Context.prototype), \"constructor\", this).call(this);\n                var processThreads = options.processThreads;\n                var autoPending = options.autoPending;\n                var queueCapcity = options.queueCapcity;\n                var accept = options.accept;\n                var sizeLimit = options.sizeLimit;\n                var preventDuplicate = options.preventDuplicate;\n                var multiple = options.multiple;\n                this.stat = new Stat;\n                this.constraints = new Constraints;\n                this.filters = new Filters;\n                this.accept = (0, _util.normalizeAccept)(accept);\n                this.autoPending = autoPending;\n                this.multiple = multiple == null ? true : multiple;\n                this.pending = new Pending(processThreads);\n                if (queueCapcity && queueCapcity > 0) {\n                    this.addConstraint(function() {\n                        return _this.stat.getTotal() >= queueCapcity\n                    })\n                }\n                if (this.accept && this.accept.length > 0) {\n                    this.addFilter(function(file) {\n                        if (!_this.accept.some(function(item) {\n                                return item.extensions && item.extensions.indexOf(file.ext) > -1\n                            })) {\n                            return new _errors.FileExtensionError(file, 'extension \"' + file.ext + '\" is not allowed')\n                        }\n                    })\n                }\n                if (sizeLimit && (sizeLimit = (0, _util.parseSize)(sizeLimit)) > 0) {\n                    this.addFilter(function(file) {\n                        if (file.size > sizeLimit) {\n                            return new _errors.FileSizeError(file, \"filesize:\" + (0, _util.formatSize)(file.size) + \" is greater than limit:\" + (0, _util.formatSize)(sizeLimit))\n                        }\n                    })\n                }\n                if (preventDuplicate) {\n                    this.addFilter(function(file) {\n                        if (_this.stat.getFiles().some(function(item) {\n                                return item.name === file.name && item.size === file.size\n                            })) {\n                            return new _errors.DuplicateError(file, 'file \"' + file.name + '\" already in queue')\n                        }\n                    })\n                }\n                this.requestOptions = options.request || {}\n            }\n            _createClass(Context, [{\n                key: \"createFileRequest\",\n                value: function createFileRequest(file) {\n                    return new _filerequest2[\"default\"](file, this.requestOptions)\n                }\n            }, {\n                key: \"isLimit\",\n                value: function isLimit() {\n                    return this.constraints.some()\n                }\n            }, {\n                key: \"addConstraint\",\n                value: function addConstraint(constraint) {\n                    return this.constraints.add(constraint)\n                }\n            }, {\n                key: \"addFilter\",\n                value: function addFilter(filter) {\n                    return this.filters.add(filter)\n                }\n            }, {\n                key: \"add\",\n                value: function add(file) {\n                    var _this2 = this;\n                    if (this.isLimit()) {\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, new _errors.QueueLimitError);\n                        return -1\n                    }\n                    var error = this.filters.filter(file);\n                    if (!error && !this.stat.add(file)) {\n                        error = new _errors.DuplicateError(file, 'file \"' + file.name + '\" already in queue')\n                    }\n                    if (error) {\n                        this.emit(_events2[\"default\"].QUEUE_FILE_FILTERED, file, error);\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, error);\n                        return 0\n                    }\n                    file.setStatus(_status2[\"default\"].QUEUED);\n                    file.on(_events2[\"default\"].FILE_STATUS_CHANGE, function(status) {\n                        if (status === _status2[\"default\"].CANCELLED) {\n                            _this2.stat.remove(file)\n                        } else if (status === _status2[\"default\"].PENDING) {\n                            setTimeout(function() {\n                                if (_this2.pending.add(file) && _this2.pending.size() === 1) {\n                                    _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_START)\n                                }\n                            }, 1)\n                        }\n                        _this2.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, _this2.stat);\n                        if (_this2.stat.getFiles(_status2[\"default\"].PROCESS).length < 1) {\n                            _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_END)\n                        }\n                    });\n                    file.setContext(this);\n                    this.emit(_events2[\"default\"].QUEUE_FILE_ADDED, file);\n                    this.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, this.stat);\n                    if (this.autoPending) {\n                        file.pending()\n                    }\n                    return 1\n                }\n            }, {\n                key: \"isMultiple\",\n                value: function isMultiple() {\n                    return this.multiple\n                }\n            }, {\n                key: \"getAccept\",\n                value: function getAccept() {\n                    return this.accept\n                }\n            }, {\n                key: \"getStat\",\n                value: function getStat() {\n                    return this.stat\n                }\n            }, {\n                key: \"getPickerCollector\",\n                value: function getPickerCollector() {\n                    if (!this.picker) {\n                        this.picker = new _collectorPicker2[\"default\"](this)\n                    }\n                    return this.picker\n                }\n            }, {\n                key: \"getDndCollector\",\n                value: function getDndCollector() {\n                    if (!this.dnd) {\n                        this.dnd = new _collectorDnd2[\"default\"](this)\n                    }\n                    return this.dnd\n                }\n            }, {\n                key: \"getPasteCollector\",\n                value: function getPasteCollector() {\n                    if (!this.paster) {\n                        this.paster = new _collectorPaste2[\"default\"](this)\n                    }\n                    return this.paster\n                }\n            }], [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    _collectorPicker2[\"default\"].setSWF(url)\n                }\n            }]);\n            return Context\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Context;\n        var Set = function() {\n            function Set() {\n                _classCallCheck(this, Set);\n                this._set = []\n            }\n            _createClass(Set, [{\n                key: \"size\",\n                value: function size() {\n                    return this._set.length\n                }\n            }, {\n                key: \"shift\",\n                value: function shift() {\n                    return this._set.shift()\n                }\n            }, {\n                key: \"pop\",\n                value: function pop() {\n                    return this._set.pop()\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this._set.slice(0)\n                }\n            }, {\n                key: \"add\",\n                value: function add(item) {\n                    if (this.has(item)) {\n                        return false\n                    }\n                    this._set.push(item);\n                    return true\n                }\n            }, {\n                key: \"has\",\n                value: function has(item) {\n                    return this._set.indexOf(item) > -1\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(item) {\n                    var i = this._set.indexOf(item);\n                    if (i > -1) {\n                        this._set.splice(i, 1);\n                        return true\n                    }\n                    return false\n                }\n            }, {\n                key: \"clear\",\n                value: function clear() {\n                    this._set = []\n                }\n            }]);\n            return Set\n        }();\n        var Stat = function() {\n            function Stat() {\n                _classCallCheck(this, Stat);\n                this.files = new Set\n            }\n            _createClass(Stat, [{\n                key: \"add\",\n                value: function add(file) {\n                    return this.files.add(file)\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(file) {\n                    this.files.remove(file)\n                }\n            }, {\n                key: \"getTotal\",\n                value: function getTotal() {\n                    return this.files.size()\n                }\n            }, {\n                key: \"getFiles\",\n                value: function getFiles(flag) {\n                    var files = this.files.toArray();\n                    if (!flag) {\n                        return files\n                    }\n                    return files.filter(function(file) {\n                        return !!(file.getStatus() & flag)\n                    })\n                }\n            }, {\n                key: \"stat\",\n                value: function stat(flag) {\n                    var stat = {},\n                        files = this.getFiles(flag);\n                    files.forEach(function(file) {\n                        var status = file.getStatus();\n                        stat[status] = status in stat ? stat[status] + 1 : 1\n                    });\n                    stat[\"sum\"] = files.length;\n                    return stat\n                }\n            }]);\n            return Stat\n        }();\n        var Constraints = function() {\n            function Constraints() {\n                _classCallCheck(this, Constraints);\n                this.constraints = new Set\n            }\n            _createClass(Constraints, [{\n                key: \"add\",\n                value: function add(constraint) {\n                    this.constraints.add(constraint);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(constraint) {\n                    this.constraints.remove(constraint);\n                    return this\n                }\n            }, {\n                key: \"some\",\n                value: function some() {\n                    var _this3 = this;\n                    return this.constraints.toArray().some(function(fn) {\n                        return fn.call(_this3)\n                    })\n                }\n            }]);\n            return Constraints\n        }();\n        var Filters = function() {\n            function Filters() {\n                _classCallCheck(this, Filters);\n                this.filters = new Set\n            }\n            _createClass(Filters, [{\n                key: \"add\",\n                value: function add(filter) {\n                    this.filters.add(filter);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(filter) {\n                    this.filters.remove(filter);\n                    return this\n                }\n            }, {\n                key: \"filter\",\n                value: function filter(file) {\n                    var error = null;\n                    this.filters.toArray().every(function(filter) {\n                        var ret = undefined;\n                        try {\n                            ret = filter(file)\n                        } catch (e) {\n                            ret = e\n                        }\n                        if (typeof ret === \"string\") {\n                            error = new _errors.FilterError(file, ret);\n                            return false\n                        } else if (ret instanceof Error) {\n                            error = ret instanceof _errors.FilterError ? ret : new _errors.FilterError(file, ret.toString());\n                            return false\n                        }\n                        return true\n                    });\n                    return error\n                }\n            }]);\n            return Filters\n        }();\n        var Pending = function() {\n            function Pending(threads) {\n                _classCallCheck(this, Pending);\n                this.threads = threads || 2;\n                this.heading = new Set;\n                this.pending = new Set\n            }\n            _createClass(Pending, [{\n                key: \"add\",\n                value: function add(file) {\n                    var _this4 = this;\n                    if (!this.pending.add(file)) return false;\n                    file.session().always(function() {\n                        return _this4.pending.remove(file)\n                    });\n                    this.load();\n                    return true\n                }\n            }, {\n                key: \"size\",\n                value: function size() {\n                    return this.pending.size() + this.heading.size()\n                }\n            }, {\n                key: \"process\",\n                value: function process(file) {\n                    var _this5 = this;\n                    if (!this.heading.add(file)) return;\n                    file.session().always(function() {\n                        _this5.heading.remove(file);\n                        _this5.load()\n                    })\n                }\n            }, {\n                key: \"load\",\n                value: function load() {\n                    var file;\n                    while (this.heading.size() < this.threads && (file = this.pending.shift())) {\n                        if (file.prepare()) {\n                            this.process(file)\n                        }\n                    }\n                }\n            }]);\n            return Pending\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var Emitter = function() {\n            function Emitter() {\n                _classCallCheck(this, Emitter)\n            }\n            _createClass(Emitter, [{\n                key: \"on\",\n                value: function on(event, listener) {\n                    event = event.toLowerCase();\n                    if (!this._events) {\n                        this._events = {}\n                    }\n                    if (!this._events[event]) {\n                        this._events[event] = []\n                    }\n                    this._events[event].push(listener);\n                    return this\n                }\n            }, {\n                key: \"once\",\n                value: function once(event, listener) {\n                    event = event.toLowerCase();\n                    var that = this;\n\n                    function fn() {\n                        that.off(event, fn);\n                        listener.apply(this, arguments)\n                    }\n                    fn.listener = listener;\n                    this.on(event, fn);\n                    return this\n                }\n            }, {\n                key: \"off\",\n                value: function off(event, listener) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        return this\n                    }\n                    var i = listeners.length;\n                    while (i-- > 0) {\n                        if (listeners[i] === listener || listeners[i].listener === listener) {\n                            listeners.splice(i, 1);\n                            break\n                        }\n                    }\n                    if (listeners.length === 0) {\n                        delete this._events[event]\n                    }\n                    return this\n                }\n            }, {\n                key: \"removeAllListeners\",\n                value: function removeAllListeners(event) {\n                    if (!event) {\n                        this._events = []\n                    } else {\n                        delete this._events[event.toLowerCase()]\n                    }\n                    return this\n                }\n            }, {\n                key: \"setPropagationTarget\",\n                value: function setPropagationTarget(emitter) {\n                    if (emitter instanceof Emitter) {\n                        this.propagationTarget = emitter\n                    }\n                }\n            }, {\n                key: \"emit\",\n                value: function emit(event) {\n                    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                        args[_key - 1] = arguments[_key]\n                    }\n                    this.applyEmit(event, args);\n                    return this\n                }\n            }, {\n                key: \"applyEmit\",\n                value: function applyEmit(event, args) {\n                    var _this = this;\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (this._events && (listeners = this._events[event])) {\n                        listeners.slice(0).forEach(function(fn) {\n                            return fn.apply(_this, args)\n                        })\n                    }\n                    if (this.propagationTarget) {\n                        var pArgs = args.slice(0);\n                        pArgs.unshift(this);\n                        this.propagationTarget.applyEmit(event, pArgs)\n                    }\n                    return this\n                }\n            }, {\n                key: \"invoke\",\n                value: function invoke(event, data) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        listeners = []\n                    }\n                    return HookInvoker(listeners.slice(0), data, this)\n                }\n            }]);\n            return Emitter\n        }();\n        exports[\"default\"] = Emitter;\n\n        function HookInvoker(hooks, initialData, context) {\n            var _data = initialData;\n            var _error = null;\n            var _aborted = undefined;\n            var i = (0, _jquery.Deferred)();\n            var ret = i.promise();\n            ret.abort = function() {\n                _aborted = true\n            };\n            var fail = function fail(e) {\n                if (_aborted) return;\n                if (e) {\n                    _error = e instanceof Error ? e : new Error(e)\n                }\n                i.reject(_error || new Error(\"Unknown\"))\n            };\n            var done = function done() {\n                if (_aborted) return;\n                if (_error != null) {\n                    fail()\n                } else {\n                    i.resolve(_data)\n                }\n            };\n            var setData = function setData(data) {\n                if (data != null && (_data == null || data.constructor === _data.constructor)) {\n                    _data = data\n                }\n            };\n            var next = function next(data) {\n                if (_aborted) return;\n                if (data instanceof Error) {\n                    _error = data\n                }\n                if (_error != null) {\n                    return fail()\n                }\n                setData(data);\n                var hook = hooks.shift();\n                if (!hook) {\n                    return done()\n                }\n                var res = undefined;\n                try {\n                    res = hook.call(context, _data)\n                } catch (e) {\n                    return fail(e)\n                }\n                if (res && res.then) {\n                    res.then(next, fail)\n                } else {\n                    next(res)\n                }\n            };\n            setTimeout(next, 1);\n            return ret\n        }\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        module.exports = jQuery\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            QUEUE_UPLOAD_START: \"queueuploadstart\",\n            QUEUE_UPLOAD_END: \"queueuploadend\",\n            QUEUE_FILE_ADDED: \"queuefileadded\",\n            QUEUE_FILE_FILTERED: \"queuefilefiltered\",\n            QUEUE_ERROR: \"queueerror\",\n            QUEUE_STAT_CHANGE: \"statchange\",\n            FILE_UPLOAD_START: \"fileuploadstart\",\n            FILE_UPLOAD_PREPARING: \"fileuploadpreparing\",\n            FILE_UPLOAD_PREPARED: \"fileuploadprepared\",\n            CHUNK_UPLOAD_PREPARING: \"chunkuploadpreparing\",\n            CHUNK_UPLOAD_COMPLETING: \"chunkuploadcompleting\",\n            FILE_UPLOAD_PROGRESS: \"fileuploadprogress\",\n            FILE_UPLOAD_END: \"fileuploadend\",\n            FILE_UPLOAD_COMPLETING: \"fileuploadcompleting\",\n            FILE_UPLOAD_SUCCESS: \"fileuploadsuccess\",\n            FILE_UPLOAD_ERROR: \"fileuploaderror\",\n            FILE_UPLOAD_COMPLETED: \"fileuploadcompleted\",\n            FILE_CANCEL: \"filecancel\",\n            FILE_STATUS_CHANGE: \"filestatuschange\"\n        };\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            ALL: 255,\n            PROCESS: 31,\n            INITED: 1,\n            QUEUED: 2,\n            PENDING: 4,\n            PROGRESS: 8,\n            END: 16,\n            SUCCESS: 32,\n            ERROR: 64,\n            CANCELLED: 128\n        };\n        var StatusName = {\n            1: \"inited\",\n            2: \"queued\",\n            4: \"pending\",\n            8: \"progress\",\n            16: \"end\",\n            32: \"success\",\n            64: \"error\",\n            128: \"cancelled\"\n        };\n        exports.StatusName = StatusName\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _Error = function(_Error2) {\n            _inherits(_Error, _Error2);\n\n            function _Error(message) {\n                _classCallCheck(this, _Error);\n                _get(Object.getPrototypeOf(_Error.prototype), \"constructor\", this).call(this, message);\n                this.message = message\n            }\n            return _Error\n        }(Error);\n        var AbortError = function(_Error3) {\n            _inherits(AbortError, _Error3);\n\n            function AbortError(message) {\n                _classCallCheck(this, AbortError);\n                _get(Object.getPrototypeOf(AbortError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"AbortError\"\n            }\n            return AbortError\n        }(_Error);\n        exports.AbortError = AbortError;\n        var TimeoutError = function(_Error4) {\n            _inherits(TimeoutError, _Error4);\n\n            function TimeoutError(message) {\n                _classCallCheck(this, TimeoutError);\n                _get(Object.getPrototypeOf(TimeoutError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"TimeoutError\"\n            }\n            return TimeoutError\n        }(_Error);\n        exports.TimeoutError = TimeoutError;\n        var NetworkError = function(_Error5) {\n            _inherits(NetworkError, _Error5);\n\n            function NetworkError(status, message) {\n                _classCallCheck(this, NetworkError);\n                _get(Object.getPrototypeOf(NetworkError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"NetworkError\";\n                this.status = status\n            }\n            return NetworkError\n        }(_Error);\n        exports.NetworkError = NetworkError;\n        var QueueLimitError = function(_Error6) {\n            _inherits(QueueLimitError, _Error6);\n\n            function QueueLimitError() {\n                _classCallCheck(this, QueueLimitError);\n                _get(Object.getPrototypeOf(QueueLimitError.prototype), \"constructor\", this).call(this, \"queue limit\");\n                this.name = \"QueueLimitError\"\n            }\n            return QueueLimitError\n        }(_Error);\n        exports.QueueLimitError = QueueLimitError;\n        var FilterError = function(_Error7) {\n            _inherits(FilterError, _Error7);\n\n            function FilterError(file, message) {\n                _classCallCheck(this, FilterError);\n                _get(Object.getPrototypeOf(FilterError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"FilterError\";\n                this.file = file\n            }\n            return FilterError\n        }(_Error);\n        exports.FilterError = FilterError;\n        var DuplicateError = function(_FilterError) {\n            _inherits(DuplicateError, _FilterError);\n\n            function DuplicateError(file, message) {\n                _classCallCheck(this, DuplicateError);\n                _get(Object.getPrototypeOf(DuplicateError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"DuplicateError\"\n            }\n            return DuplicateError\n        }(FilterError);\n        exports.DuplicateError = DuplicateError;\n        var FileExtensionError = function(_FilterError2) {\n            _inherits(FileExtensionError, _FilterError2);\n\n            function FileExtensionError(file, message) {\n                _classCallCheck(this, FileExtensionError);\n                _get(Object.getPrototypeOf(FileExtensionError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileExtensionError\"\n            }\n            return FileExtensionError\n        }(FilterError);\n        exports.FileExtensionError = FileExtensionError;\n        var FileSizeError = function(_FilterError3) {\n            _inherits(FileSizeError, _FilterError3);\n\n            function FileSizeError(file, message) {\n                _classCallCheck(this, FileSizeError);\n                _get(Object.getPrototypeOf(FileSizeError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileSizeError\"\n            }\n            return FileSizeError\n        }(FilterError);\n        exports.FileSizeError = FileSizeError\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports.formatSize = formatSize;\n        exports.parseSize = parseSize;\n        exports.normalizeAccept = normalizeAccept;\n\n        function formatSize(size) {\n            size = parseFloat(size);\n            var prefixesSI = [\"\", \"K\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"],\n                base = 1024;\n            var index = size ? Math.floor(Math.log(size) / Math.log(base)) : 0;\n            index = Math.min(index, prefixesSI.length - 1);\n            var powedPrecision = Math.pow(10, index < 2 ? 0 : index > 2 ? 2 : 1);\n            size = size / Math.pow(base, index);\n            size = Math.round(size * powedPrecision) / powedPrecision;\n            return size + prefixesSI[index] + \"B\"\n        }\n\n        function parseSize(size) {\n            if (typeof size !== \"string\") {\n                return size\n            }\n            var units = {\n                t: 1099511627776,\n                g: 1073741824,\n                m: 1048576,\n                k: 1024\n            };\n            size = /^([0-9\\.]+)([tgmk]?)b?$/i.exec(size);\n            var u = size[2];\n            size = +size[1];\n            if (units.hasOwnProperty(u)) {\n                size *= units[u]\n            }\n            return size\n        }\n        var ACCEPTs = {\n            images: {\n                title: \"Images\",\n                extensions: [\"jpg\", \"jpeg\", \"gif\", \"png\", \"bmp\", \"svg\", \"tiff\", \"tif\", \"ico\", \"jpe\", \"svgz\", \"pct\", \"psp\", \"ai\", \"psd\", \"raw\", \"webp\"]\n            },\n            audios: {\n                title: \"Audios\",\n                extensions: [\"aac\", \"aif\", \"flac\", \"iff\", \"m4a\", \"m4b\", \"mid\", \"midi\", \"mp3\", \"mpa\", \"mpc\", \"oga\", \"ogg\", \"ra\", \"ram\", \"snd\", \"wav\", \"wma\"]\n            },\n            videos: {\n                title: \"Videos\",\n                extensions: [\"avi\", \"divx\", \"flv\", \"m4v\", \"mkv\", \"mov\", \"mp4\", \"mpeg\", \"mpg\", \"ogm\", \"ogv\", \"ogx\", \"rm\", \"rmvb\", \"smil\", \"webm\", \"wmv\", \"xvid\"]\n            }\n        };\n\n        function normalizeExtensions(extensions) {\n            if (typeof extensions !== \"string\") {\n                return \"\"\n            }\n            return extensions.toLowerCase().split(/ *[ ,;|+] */).map(function(ext) {\n                var m = /^\\*?\\.?(\\w+)$/.exec(ext);\n                return m ? m[1] : null\n            }).filter(function(ext) {\n                return ext !== null\n            })\n        }\n\n        function normalizeAccept(accepts) {\n            if (!accepts) return null;\n            if (!Array.isArray(accepts)) {\n                accepts = [accepts]\n            }\n            return accepts.map(function(accept) {\n                if (typeof accept === \"string\" && (accept = accept.toLowerCase()) && ACCEPTs.hasOwnProperty(accept)) {\n                    return ACCEPTs[accept]\n                } else {\n                    var extensions = normalizeExtensions(accept.extensions || accept);\n                    return extensions.length ? {\n                        title: accept.title || \"\",\n                        extensions: extensions,\n                        mimeTypes: accept.mimeTypes || \"\"\n                    } : null\n                }\n            }).filter(function(accept) {\n                return accept !== null\n            })\n        }\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _util = __webpack_require__(7);\n        var ChunkResponse = function() {\n            function ChunkResponse(rawResponse, chunkRequest) {\n                _classCallCheck(this, ChunkResponse);\n                this.rawResponse = rawResponse;\n                this.chunkRequest = chunkRequest\n            }\n            _createClass(ChunkResponse, [{\n                key: \"getChunkRequest\",\n                value: function getChunkRequest() {\n                    return this.chunkRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    return this.response || this.rawResponse\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return ChunkResponse\n        }();\n        var ChunkRequest = function() {\n            function ChunkRequest(index, blob, fileRequest) {\n                _classCallCheck(this, ChunkRequest);\n                this.index = index;\n                this.blob = blob;\n                this.fileRequest = fileRequest\n            }\n            _createClass(ChunkRequest, [{\n                key: \"getName\",\n                value: function getName() {\n                    return this.fileRequest.getName()\n                }\n            }, {\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.fileRequest.getFile()\n                }\n            }, {\n                key: \"getBlob\",\n                value: function getBlob() {\n                    return this.blob\n                }\n            }, {\n                key: \"getIndex\",\n                value: function getIndex() {\n                    return this.index\n                }\n            }, {\n                key: \"isMultiChunk\",\n                value: function isMultiChunk() {\n                    return this.getFile().source !== this.blob\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    if (!this.params) {\n                        this.params = this.fileRequest.getParams().clone()\n                    }\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.getParams().setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || this.fileRequest.getUrl()\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    if (!this.headers) {\n                        this.headers = this.fileRequest.getHeaders().slice(0)\n                    }\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    var headers = this.getHeaders();\n                    headers.push({\n                        name: name,\n                        value: value\n                    });\n                    return this\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.fileRequest.isWithCredentials()\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.fileRequest.getTimeout()\n                }\n            }, {\n                key: \"createChunkResponse\",\n                value: function createChunkResponse(response) {\n                    return new ChunkResponse(response, this)\n                }\n            }]);\n            return ChunkRequest\n        }();\n        var FileResponse = function() {\n            function FileResponse(rawResponse, fileRequest) {\n                _classCallCheck(this, FileResponse);\n                this.rawResponse = rawResponse;\n                this.fileRequest = fileRequest\n            }\n            _createClass(FileResponse, [{\n                key: \"isFromMultiChunkResponse\",\n                value: function isFromMultiChunkResponse() {\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getChunkRequest().isMultiChunk()\n                    }\n                    return false\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    if (this.response != null) {\n                        return this.response\n                    }\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getResponse()\n                    } else {\n                        return this.rawResponse\n                    }\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return FileResponse\n        }();\n        var Params = function() {\n            function Params(params) {\n                _classCallCheck(this, Params);\n                if (Array.isArray(params)) {\n                    this.params = params.slice(0)\n                } else if (typeof params === \"object\") {\n                    this.params = [];\n                    for (var _name in params) {\n                        if (params.hasOwnProperty(_name)) {\n                            this.params.push({\n                                name: _name,\n                                value: params[_name]\n                            })\n                        }\n                    }\n                } else {\n                    this.params = []\n                }\n            }\n            _createClass(Params, [{\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.removeParam(name);\n                    this.addParam(name, value)\n                }\n            }, {\n                key: \"addParam\",\n                value: function addParam(name, value) {\n                    this.params.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"removeParam\",\n                value: function removeParam(name) {\n                    this.params = this.params.filter(function(param) {\n                        return param.name !== name\n                    })\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name, single) {\n                    var ret = this.params.filter(function(param) {\n                        return param.name === name\n                    }).map(function(param) {\n                        return param.value\n                    });\n                    if (single) {\n                        return ret.shift()\n                    }\n                    return ret\n                }\n            }, {\n                key: \"clone\",\n                value: function clone() {\n                    return new Params(this.params)\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this.params\n                }\n            }, {\n                key: \"toString\",\n                value: function toString() {\n                    var params = this.params.map(function(param) {\n                        return encodeURIComponent(param.name) + \"=\" + (param.value == null ? \"\" : encodeURIComponent(param.value))\n                    });\n                    return params.join(\"&\")\n                }\n            }]);\n            return Params\n        }();\n        var MIN_CHUNK_SIZE = 256 * 1024;\n        var FileRequest = function() {\n            function FileRequest(file) {\n                var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n                _classCallCheck(this, FileRequest);\n                this.file = file;\n                this.name = options.name || \"file\";\n                this.url = options.url;\n                this.params = new Params(options.params);\n                this.headers = options.headers || [];\n                this.withCredentials = options.withCredentials;\n                this.timeout = options.timeout || 0;\n                this.chunkSize = options.chunkSize || 0;\n                this.chunkRetries = options.chunkRetries || 0;\n                this.chunkEnable = options.chunkEnable || false;\n                this.chunkProcessThreads = options.chunkProcessThreads || 0\n            }\n            _createClass(FileRequest, [{\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.file\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || \"\"\n                }\n            }, {\n                key: \"getName\",\n                value: function getName() {\n                    return this.name\n                }\n            }, {\n                key: \"setName\",\n                value: function setName(name) {\n                    this.name = name;\n                    return this\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.params.setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    this.headers.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.withCredentials\n                }\n            }, {\n                key: \"setWithCredentials\",\n                value: function setWithCredentials(flag) {\n                    this.withCredentials = flag;\n                    return this\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.timeout\n                }\n            }, {\n                key: \"setTimeout\",\n                value: function setTimeout(timeout) {\n                    this.timeout = timeout;\n                    return this\n                }\n            }, {\n                key: \"getChunkSize\",\n                value: function getChunkSize() {\n                    return (0, _util.parseSize)(this.chunkSize)\n                }\n            }, {\n                key: \"setChunkSize\",\n                value: function setChunkSize(chunkSize) {\n                    this.chunkSize = chunkSize;\n                    return this\n                }\n            }, {\n                key: \"getChunkRetries\",\n                value: function getChunkRetries() {\n                    return this.chunkRetries\n                }\n            }, {\n                key: \"setChunkRetries\",\n                value: function setChunkRetries(retries) {\n                    this.chunkRetries = retries;\n                    return 0\n                }\n            }, {\n                key: \"isChunkEnable\",\n                value: function isChunkEnable() {\n                    var chunkSize = this.getChunkSize();\n                    return this.chunkEnable && chunkSize > MIN_CHUNK_SIZE && this.file.getRuntime().canSlice() && this.file.size > chunkSize\n                }\n            }, {\n                key: \"setChunkEnable\",\n                value: function setChunkEnable(flag) {\n                    this.chunkEnable = flag;\n                    return this\n                }\n            }, {\n                key: \"getChunkProcessThreads\",\n                value: function getChunkProcessThreads() {\n                    return this.chunkProcessThreads\n                }\n            }, {\n                key: \"setChunkProcessThreads\",\n                value: function setChunkProcessThreads(threads) {\n                    this.chunkProcessThreads = threads;\n                    return this\n                }\n            }, {\n                key: \"createChunkRequest\",\n                value: function createChunkRequest(index, blob) {\n                    return new ChunkRequest(index, blob, this)\n                }\n            }, {\n                key: \"createFileResponse\",\n                value: function createFileResponse(response) {\n                    return new FileResponse(response, this)\n                }\n            }]);\n            return FileRequest\n        }();\n        exports[\"default\"] = FileRequest;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(10);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(13);\n        var _file2 = _interopRequireDefault(_file);\n\n        function createReader(collector) {\n            var _break = false;\n\n            function reader(dataTransfer, responders) {\n                var items = dataTransfer.items,\n                    files = dataTransfer.files,\n                    item;\n                for (var i = 0, l = files.length; i < l; i++) {\n                    if (_break) break;\n                    item = items && items[i];\n                    var entry = item && item.webkitGetAsEntry && item.webkitGetAsEntry();\n                    if (entry && entry.isDirectory) {\n                        readEntry(entry, responders)\n                    } else {\n                        if (!collector(files[i], responders)) {\n                            _break = true;\n                            break\n                        }\n                    }\n                }\n            }\n\n            function readEntry(entry, responders) {\n                if (_break) return;\n                if (entry.isFile) {\n                    entry.file(function(file) {\n                        if (_break) return;\n                        if (!collector(file, responders)) {\n                            _break = true\n                        }\n                    })\n                } else if (entry.isDirectory) {\n                    entry.createReader().readEntries(function(entries) {\n                        if (_break) return;\n                        for (var i = 0, l = entries.length; i < l; i++) {\n                            if (_break) break;\n                            readEntry(entries[i], responders)\n                        }\n                    })\n                }\n            }\n            return reader\n        }\n        var Area = function(_Emitter) {\n            _inherits(Area, _Emitter);\n\n            function Area(area) {\n                _classCallCheck(this, Area);\n                _get(Object.getPrototypeOf(Area.prototype), \"constructor\", this).call(this);\n                this.areaElement = area\n            }\n            _createClass(Area, [{\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areaElement.contains(target)\n                }\n            }, {\n                key: \"start\",\n                value: function start(e, allowed) {\n                    this.emit(\"start\", e, allowed)\n                }\n            }, {\n                key: \"response\",\n                value: function response(e, allowed) {\n                    allowed = allowed && this.contains(e.target);\n                    this.emit(\"response\", e, allowed);\n                    return allowed\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.emit(\"end\", e)\n                }\n            }]);\n            return Area\n        }(_emitter2[\"default\"]);\n        var Collectors = [];\n\n        function prepare() {\n            if (!(\"DataTransfer\" in window) || !(\"FileList\" in window)) {\n                return\n            }\n            var $doc = (0, _jquery2[\"default\"])(document),\n                runtime = _html5Runtime2[\"default\"].getInstance();\n            var started = 0,\n                enter = 0,\n                endTimer = undefined;\n            var dataTransferReader = createReader(function(file, responders) {\n                if (!responders || responders.length < 1) {\n                    return false\n                }\n                file = new _file2[\"default\"](runtime, file);\n                var total = responders.length;\n                return responders.some(function(responder) {\n                    var ret = responder.recieve(file);\n                    if (ret > 0) {\n                        return true\n                    }\n                    if (ret < 0) {\n                        total -= 1\n                    }\n                    return false\n                }) || total > 0\n            });\n            var start = function start(e) {\n                started = 1;\n                Collectors.forEach(function(responder) {\n                    return responder.start(e)\n                })\n            };\n            var move = function move(e) {\n                var has = Collectors.filter(function(responder) {\n                    return responder.response(e)\n                }).length > 0;\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                if (dataTransfer) {\n                    dataTransfer.dropEffect = has ? \"copy\" : \"none\"\n                }\n                e.preventDefault()\n            };\n            var end = function end(e) {\n                started = 0;\n                enter = 0;\n                Collectors.forEach(function(responder) {\n                    return responder.end(e)\n                })\n            };\n            var drag = function drag(e) {\n                clearTimeout(endTimer);\n                var isLeave = e.type === \"dragleave\";\n                if (!isLeave && !started) {\n                    start(e)\n                }\n                move(e);\n                if (isLeave) {\n                    endTimer = setTimeout(function() {\n                        return end(e)\n                    }, 100)\n                }\n            };\n            var drop = function drop(e) {\n                e.preventDefault();\n                clearTimeout(endTimer);\n                end(e);\n                var responders = Collectors.filter(function(responder) {\n                    return responder.contains(e.target)\n                });\n                if (responders.length < 1) {\n                    return\n                }\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                try {\n                    if (dataTransfer.getData(\"text/html\")) {\n                        return\n                    }\n                } catch (ex) {}\n                dataTransferReader(dataTransfer, responders)\n            };\n            $doc.on(\"dragenter dragover dragleave\", drag);\n            $doc.on(\"drop\", drop)\n        }\n        var DndCollector = function() {\n            function DndCollector(context) {\n                _classCallCheck(this, DndCollector);\n                if (Collectors.length < 1) {\n                    prepare()\n                }\n                Collectors.push(this);\n                this.context = context;\n                this.areas = []\n            }\n            _createClass(DndCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    var _this = this;\n                    area = new Area(area);\n                    this.areas.push(area);\n                    area.destroy = function() {\n                        area.removeAllListeners();\n                        var i = _this.areas.indexOf(area);\n                        if (i > -1) {\n                            _this.areas.splice(i, 1)\n                        }\n                    };\n                    return area\n                }\n            }, {\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areas.some(function(area) {\n                        return area.contains(target)\n                    })\n                }\n            }, {\n                key: \"start\",\n                value: function start(e) {\n                    this.areas.forEach(function(area) {\n                        return area.start(e)\n                    })\n                }\n            }, {\n                key: \"response\",\n                value: function response(e) {\n                    return this.areas.map(function(area) {\n                        return area.response(e)\n                    }).some(function(r) {\n                        return r !== false\n                    })\n                }\n            }, {\n                key: \"recieve\",\n                value: function recieve(file) {\n                    var ret = this.context.add(file);\n                    if (ret > 0 && !this.context.isMultiple()) {\n                        return -1\n                    } else {\n                        return ret\n                    }\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.areas.forEach(function(area) {\n                        return area.end(e)\n                    })\n                }\n            }]);\n            return DndCollector\n        }();\n        exports[\"default\"] = DndCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _runtime = __webpack_require__(11);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(12);\n        var _transport2 = _interopRequireDefault(_transport);\n        var instance = undefined;\n        var Html5Runtime = function(_Runtime) {\n            _inherits(Html5Runtime, _Runtime);\n\n            function Html5Runtime() {\n                _classCallCheck(this, Html5Runtime);\n                _get(Object.getPrototypeOf(Html5Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Html5Runtime, [{\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(blob, timeout) {\n                    var i = (0, _jquery.Deferred)(),\n                        fr = new FileReader,\n                        timer = undefined;\n                    fr.onloadend = function() {\n                        if (fr.readyState == FileReader.DONE) {\n                            i.resolve(fr.result)\n                        } else {\n                            i.reject()\n                        }\n                        clearTimeout(timer);\n                        fr.onloadend = null\n                    };\n                    fr.readAsDataURL(blob);\n                    var abort = function abort() {\n                        fr && fr.abort();\n                        fr = null\n                    };\n                    if (timeout) {\n                        timer = setTimeout(abort, timeout)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    if (!this.transport) {\n                        this.transport = new _transport2[\"default\"](this)\n                    }\n                    return this.transport\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return !!(Blob.prototype.slice || Blob.prototype.mozSlice || Blob.prototype.webkitSlice)\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob, start, end) {\n                    var blobSlice = blob.slice || blob.mozSlice || blob.webkitSlice;\n                    return blobSlice.call(blob, start, end)\n                }\n            }, {\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    if (!window.SparkMD5) {\n                        i.reject();\n                        return i.promise()\n                    }\n                    var chunkSize = 2 * 1024 * 1024,\n                        chunks = Math.ceil(blob.size / chunkSize),\n                        chunk = 0,\n                        spark = new SparkMD5.ArrayBuffer,\n                        blobSlice = blob.mozSlice || blob.webkitSlice || blob.slice;\n                    var fr = new FileReader;\n                    var _loadNext = function loadNext() {\n                        if (!fr) return;\n                        var start = undefined,\n                            end = undefined;\n                        start = chunk * chunkSize;\n                        end = Math.min(start + chunkSize, blob.size);\n                        fr.onload = function() {\n                            spark && spark.append(fr.result)\n                        };\n                        fr.onloadend = function() {\n                            if (!fr) return;\n                            if (fr.readyState == FileReader.DONE) {\n                                if (++chunk < chunks) {\n                                    setTimeout(_loadNext, 1)\n                                } else {\n                                    setTimeout(function() {\n                                        spark && i.resolve(spark.end());\n                                        _loadNext = blob = spark = null\n                                    }, 50)\n                                }\n                            } else {\n                                i.reject()\n                            }\n                            fr.onloadend = fr.onload = null\n                        };\n                        fr.readAsArrayBuffer(blobSlice.call(blob, start, end))\n                    };\n                    _loadNext();\n                    var ret = i.promise();\n                    ret.abort = function() {\n                        fr && fr.abort();\n                        spark = null;\n                        fr = null\n                    };\n                    return ret\n                }\n            }], [{\n                key: \"getInstance\",\n                value: function getInstance() {\n                    if (!instance) {\n                        instance = new Html5Runtime\n                    }\n                    return instance\n                }\n            }]);\n            return Html5Runtime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = Html5Runtime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Runtime = function(_Emitter) {\n            _inherits(Runtime, _Emitter);\n\n            function Runtime() {\n                _classCallCheck(this, Runtime);\n                _get(Object.getPrototypeOf(Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Runtime, [{\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(file, timeout) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    return null\n                }\n            }, {\n                key: \"getUploading\",\n                value: function getUploading() {\n                    if (!this.uploading) {\n                        this.uploading = new Uploading(this)\n                    }\n                    return this.uploading\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return false\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob) {\n                    throw new Error(\"this runtime current not support slice\")\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {}\n            }]);\n            return Runtime\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Runtime;\n        var Uploading = function() {\n            function Uploading(runtime) {\n                _classCallCheck(this, Uploading);\n                this.runtime = runtime\n            }\n            _createClass(Uploading, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var _this = this;\n                    var i = (0, _jquery.Deferred)(),\n                        file = request.getFile(),\n                        runtime = this.runtime;\n                    var source = file.getSource(),\n                        size = file.size,\n                        chunkSize = request.getChunkSize(),\n                        useChunk = request.isChunkEnable(),\n                        threads = request.getChunkProcessThreads(),\n                        start = 0,\n                        end = 0,\n                        slots = [];\n                    var getActives = function getActives() {\n                        return slots.reduce(function(sum, slot) {\n                            return sum + (slot.state() === \"pending\" ? 1 : 0)\n                        }, 0)\n                    };\n                    var readChunk = function readChunk() {\n                        var slot = undefined,\n                            req = undefined,\n                            blob = undefined;\n                        while (end < size && getActives() < threads) {\n                            start = end;\n                            end = Math.min(end + chunkSize, size);\n                            blob = runtime.slice(source, start, end);\n                            req = request.createChunkRequest(slots.length, blob);\n                            slot = _this.slot(req, request.getChunkRetries());\n                            slot.progress(progress).done(done).fail(fail);\n                            slots.push(slot)\n                        }\n                    };\n                    var progress = function progress() {\n                        var total = size - end,\n                            loaded = 0;\n                        slots.forEach(function(slot) {\n                            total += slot.total;\n                            loaded += slot.loaded\n                        });\n                        i.notify({\n                            total: total,\n                            loaded: loaded\n                        })\n                    };\n                    var done = function done(res) {\n                        useChunk && readChunk();\n                        if (end >= size && slots.every(function(slot) {\n                                return slot.state() === \"resolved\"\n                            })) {\n                            i.resolve(res)\n                        }\n                    };\n                    var abort = function abort() {\n                        slots.forEach(function(slot) {\n                            return slot.abort()\n                        })\n                    };\n                    var fail = function fail(error) {\n                        i.reject(error);\n                        abort()\n                    };\n                    if (useChunk) {\n                        readChunk()\n                    } else {\n                        end = size;\n                        var slot = this.slot(request.createChunkRequest(0, source), 0);\n                        slot.progress(progress).done(done).fail(fail);\n                        slots.push(slot)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"slot\",\n                value: function slot(request, retries) {\n                    var i = (0, _jquery.Deferred)(),\n                        runtime = this.runtime,\n                        context = request.getFile().getContext();\n                    var slot = i.promise();\n                    var progress = function progress(e) {\n                        if (e.total) {\n                            slot.total = e.total\n                        }\n                        if (e.loaded) {\n                            slot.loaded = e.loaded\n                        }\n                        i.notify(e)\n                    };\n                    var process = function process() {\n                        var prepare, transport, completion;\n                        slot.abort = function() {\n                            prepare && prepare.abort();\n                            transport && transport.abort();\n                            completion && completion.abort()\n                        };\n                        slot.total = request.getBlob().size;\n                        slot.loaded = 0;\n                        prepare = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_PREPARING, request);\n                        prepare.then(function(request) {\n                            transport = runtime.getTransport().generate(request);\n                            transport.progress(progress);\n                            return transport\n                        }).then(function(response) {\n                            completion = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_COMPLETING, request.createChunkResponse(response));\n                            return completion\n                        }).done(i.resolve).fail(error)\n                    };\n                    var error = function error(e) {\n                        if (e instanceof _errors.NetworkError && retries-- > 0) {\n                            setTimeout(process, 500)\n                        } else {\n                            i.reject(e)\n                        }\n                        slot.abort()\n                    };\n                    process();\n                    return slot\n                }\n            }]);\n            return Uploading\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Html5Transport = function() {\n            function Html5Transport() {\n                _classCallCheck(this, Html5Transport)\n            }\n            _createClass(Html5Transport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)();\n                    var timeoutTimer = undefined,\n                        withCredentials = false;\n                    var xhr = new XMLHttpRequest;\n                    if (request.isWithCredentials && !(\"withCredentials\" in xhr) && \"XDomainRequest\" in window) {\n                        xhr = new XDomainRequest;\n                        withCredentials = true\n                    }\n                    var clean = function clean() {\n                        xhr.onload = xhr.onerror = null;\n                        if (xhr.upload) {\n                            xhr.upload.onprogress = null\n                        }\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        try {\n                            xhr.abort()\n                        } catch (e) {}\n                    };\n                    var complete = function complete(e) {\n                        clean();\n                        if (!xhr.status && e.type === \"error\") {\n                            return i.reject(new _errors.AbortError(e.message))\n                        }\n                        if (xhr.status === 0 || xhr.status === 304 || xhr.status >= 200 && xhr.status < 300) {\n                            return i.resolve(xhr.responseText)\n                        }\n                        return i.reject(new _errors.NetworkError(xhr.status, xhr.statusText))\n                    };\n                    if (xhr.upload) {\n                        xhr.upload.onprogress = function(e) {\n                            return i.notify(e)\n                        }\n                    }\n                    xhr.onerror = complete;\n                    xhr.onload = complete;\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        (function() {\n                            if (withCredentials) {\n                                xhr.open(\"POST\", request.getUrl(), true);\n                                xhr.withCredentials = true\n                            } else {\n                                xhr.open(\"POST\", request.getUrl())\n                            }\n                            request.getHeaders().forEach(function(header) {\n                                return xhr.setRequestHeader(header.name, header.value)\n                            });\n                            var formData = new FormData,\n                                blob = request.getBlob();\n                            request.getParams().toArray().forEach(function(param) {\n                                return formData.append(param.name, param.value)\n                            });\n                            formData.append(request.getName(), blob, blob.name || \"blob\");\n                            xhr.send(formData)\n                        })()\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return Html5Transport\n        }();\n        exports[\"default\"] = Html5Transport;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _jquery = __webpack_require__(3);\n        var uid = 0;\n\n        function guid() {\n            return \"FILE-\" + (uid++).toString(16).toUpperCase()\n        }\n        var RE_EXT = /\\.([^.]+)$/,\n            RE_IMAGE = /\\/(jpg|jpeg|png|gif|bmp|webp)$/i;\n\n        function guessExt(blob) {\n            var m = blob.name && RE_EXT.exec(blob.name);\n            if (m) {\n                return m[1]\n            }\n            m = blob.type && RE_IMAGE.exec(blob.type);\n            if (m) {\n                return m[1]\n            }\n            return \"\"\n        }\n\n        function guessType(ext) {\n            if ([\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\", \"webp\"].indexOf(ext.toLowerCase())) {\n                return \"image/\" + (ext === \"jpg\" ? \"jpeg\" : ext)\n            }\n            return null\n        }\n        var Progress = function() {\n            function Progress(total, loaded) {\n                _classCallCheck(this, Progress);\n                this.change(total, loaded)\n            }\n            _createClass(Progress, [{\n                key: \"change\",\n                value: function change(total, loaded) {\n                    this.total = total;\n                    this.loaded = loaded || 0;\n                    this.percentage = this.loaded === this.total ? 100 : Math.ceil(this.loaded / this.total * 100)\n                }\n            }, {\n                key: \"done\",\n                value: function done() {\n                    this.change(this.total, this.total)\n                }\n            }]);\n            return Progress\n        }();\n        exports[\"default\"] = Progress;\n        var File = function(_Emitter) {\n            _inherits(File, _Emitter);\n\n            function File(runtime, source, filename) {\n                _classCallCheck(this, File);\n                _get(Object.getPrototypeOf(File.prototype), \"constructor\", this).call(this);\n                this.id = guid();\n                this.name = source.name || filename || this.id;\n                var ext = guessExt(source).toLowerCase();\n                if (ext && !RE_EXT.test(this.name)) {\n                    this.name += \".\" + ext\n                }\n                this.ext = ext;\n                this.type = source.type || guessType(this.ext) || \"application/octet-stream\";\n                this.lastModified = source.lastModified || +new Date;\n                this.size = source.size || 0;\n                this.runtime = runtime;\n                this.source = source;\n                this.status = _status2[\"default\"].INITED;\n                this.progress = new Progress(this.size, 0)\n            }\n            _createClass(File, [{\n                key: \"getContext\",\n                value: function getContext() {\n                    return this.context\n                }\n            }, {\n                key: \"setContext\",\n                value: function setContext(context) {\n                    this.context = context;\n                    this.setPropagationTarget(context)\n                }\n            }, {\n                key: \"getRuntime\",\n                value: function getRuntime() {\n                    return this.runtime\n                }\n            }, {\n                key: \"isImage\",\n                value: function isImage() {\n                    return RE_IMAGE.test(this.type)\n                }\n            }, {\n                key: \"setStatus\",\n                value: function setStatus(status) {\n                    var prevStatus = this.status;\n                    if (prevStatus !== _status2[\"default\"].CANCELLED && status !== prevStatus) {\n                        this.status = status;\n                        this.emit(_events2[\"default\"].FILE_STATUS_CHANGE, status, prevStatus)\n                    }\n                }\n            }, {\n                key: \"getStatus\",\n                value: function getStatus() {\n                    return this.status\n                }\n            }, {\n                key: \"getStatusName\",\n                value: function getStatusName() {\n                    if (this.status in _status.StatusName) {\n                        return _status.StatusName[this.status]\n                    } else {\n                        return \"unknow\"\n                    }\n                }\n            }, {\n                key: \"getSource\",\n                value: function getSource() {\n                    return this.source\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(timeout) {\n                    if (!this._dataUrlPromise) {\n                        this._dataUrlPromise = this.runtime.getAsDataUrl(this.source, timeout)\n                    }\n                    return this._dataUrlPromise\n                }\n            }, {\n                key: \"md5\",\n                value: function md5() {\n                    if (!this._md5Promise) {\n                        this._md5Promise = this.runtime.md5(this.source)\n                    }\n                    return this._md5Promise\n                }\n            }, {\n                key: \"session\",\n                value: function session() {\n                    var _this = this;\n                    if (this._sessionPromise) {\n                        return this._sessionPromise\n                    }\n                    var session = (0, _jquery.Deferred)();\n                    session.progress(function(progress) {\n                        _this.setStatus(_status2[\"default\"].PROGRESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_PROGRESS, progress)\n                    }).done(function(response) {\n                        _this.response = response;\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        _this._flows = [];\n                        _this.setStatus(_status2[\"default\"].SUCCESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_SUCCESS, response)\n                    }).fail(function(error) {\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        var flow = undefined;\n                        while (flow = _this._flows.shift()) {\n                            flow.abort()\n                        }\n                        if (error instanceof Error) {\n                            _this.setStatus(_status2[\"default\"].ERROR);\n                            _this.emit(_events2[\"default\"].FILE_UPLOAD_ERROR, error)\n                        }\n                    }).always(function() {\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_COMPLETED, _this.getStatus())\n                    });\n                    this._flows = [];\n                    this._session = session;\n                    this._sessionPromise = session.promise();\n                    return this._sessionPromise\n                }\n            }, {\n                key: \"prepare\",\n                value: function prepare() {\n                    var _this2 = this;\n                    if (this.status !== _status2[\"default\"].PENDING || !this.context) {\n                        return false\n                    }\n                    this.session();\n                    this.setStatus(_status2[\"default\"].PROGRESS);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_START);\n                    this.request = this.context.createFileRequest(this);\n                    var prepare = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_PREPARING, this.request);\n                    this._flows.push(prepare);\n                    prepare.then(function(request) {\n                        _this2.emit(_events2[\"default\"].FILE_UPLOAD_PREPARED, request);\n                        var upload = _this2.runtime.getUploading().generate(request);\n                        _this2._flows.push(upload);\n                        upload.progress(function(e) {\n                            _this2.progress.change(e.total, e.loaded);\n                            _this2._session.notify(_this2.progress)\n                        });\n                        return upload\n                    }).then(function(response) {\n                        return _this2.complete(response)\n                    }, this._session.reject);\n                    return true\n                }\n            }, {\n                key: \"complete\",\n                value: function complete(response) {\n                    if (this.status !== _status2[\"default\"].PROGRESS) return;\n                    var flow = undefined;\n                    while (flow = this._flows.shift()) {\n                        flow.abort()\n                    }\n                    this.progress.done();\n                    this._session.notify(this.progress);\n                    response = this.request.createFileResponse(response);\n                    this.setStatus(_status2[\"default\"].END);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_END);\n                    var complete = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_COMPLETING, response);\n                    this._flows.push(complete);\n                    complete.then(this._session.resolve, this._session.reject)\n                }\n            }, {\n                key: \"pending\",\n                value: function pending() {\n                    if (this.status === _status2[\"default\"].ERROR || this.status === _status2[\"default\"].QUEUED) {\n                        this.progress.change(this.size, 0);\n                        this.setStatus(_status2[\"default\"].PENDING)\n                    }\n                }\n            }, {\n                key: \"abort\",\n                value: function abort() {\n                    this._session && this._session.reject();\n                    this._session = null;\n                    this._sessionPromise = null\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel() {\n                    this.setStatus(_status2[\"default\"].CANCELLED);\n                    this.emit(_events2[\"default\"].FILE_CANCEL);\n                    this.abort();\n                    this.runtime.cancel(this.source);\n                    this._dataUrlPromise && this._dataUrlPromise.abort();\n                    this._md5Promise && this._md5Promise.abort && this._md5Promise.abort();\n                    this.removeAllListeners()\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    this.cancel()\n                }\n            }]);\n            return File\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = File;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(10);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(13);\n        var _file2 = _interopRequireDefault(_file);\n        var PasteCollector = function() {\n            function PasteCollector(context) {\n                _classCallCheck(this, PasteCollector);\n                this.context = context;\n                this.runtime = _html5Runtime2[\"default\"].getInstance()\n            }\n            _createClass(PasteCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    area = area.on ? area : (0, _jquery2[\"default\"])(area);\n                    var context = this.context,\n                        runtime = this.runtime,\n                        emitter = new _emitter2[\"default\"];\n                    var paste = function paste(e) {\n                        if (e.isDefaultPrevented()) {\n                            return\n                        }\n                        var clipboardData = (e.originalEvent || e).clipboardData || window.clipboardData,\n                            items = clipboardData.items,\n                            files = clipboardData.files;\n                        if (!files && !items) {\n                            return\n                        }\n                        var prevent = undefined,\n                            i = undefined,\n                            l = undefined,\n                            file = undefined,\n                            item = undefined,\n                            addRet = undefined;\n                        if (files && files.length) {\n                            prevent = files.length > 0;\n                            for (i = 0, l = files.length; i < l; i++) {\n                                file = new _file2[\"default\"](runtime, files[i]);\n                                prevent = 1;\n                                addRet = context.add(file);\n                                if (addRet < 0 || addRet > 0 && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        } else if (items && items.length) {\n                            var filename = clipboardData.getData(\"text/plain\");\n                            for (i = 0, l = items.length; i < l && !context.isLimit(); i++) {\n                                item = items[i];\n                                if (item.kind !== \"file\" || !(file = item.getAsFile())) {\n                                    continue\n                                }\n                                file = new _file2[\"default\"](runtime, file, filename);\n                                filename = null;\n                                prevent = 1;\n                                addRet = context.add(file);\n                                if (addRet < 0 || addRet > 0 && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        }\n                        if (prevent) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            emitter.emit(\"paste\", clipboardData)\n                        }\n                    };\n                    if (\"DataTransfer\" in window && \"FileList\" in window) {\n                        area.on(\"paste\", paste)\n                    }\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        area.off(\"paste\", paste)\n                    };\n                    return emitter\n                }\n            }]);\n            return PasteCollector\n        }();\n        exports[\"default\"] = PasteCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(10);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _flashRuntime = __webpack_require__(16);\n        var _flashRuntime2 = _interopRequireDefault(_flashRuntime);\n        var _file = __webpack_require__(13);\n        var _file2 = _interopRequireDefault(_file);\n        var SWF_URL = \"\";\n        var FlashTriggerCollection = function() {\n            function FlashTriggerCollection(context, onFiles) {\n                var _this = this;\n                _classCallCheck(this, FlashTriggerCollection);\n                var overlay = (0, _jquery2[\"default\"])(\"<label></label>\");\n                overlay.css({\n                    position: \"fixed\",\n                    opacity: 0,\n                    left: -100,\n                    top: -100,\n                    width: 50,\n                    height: 50,\n                    display: \"block\",\n                    cursor: \"pointer\",\n                    background: \"black\",\n                    overflow: \"hidden\",\n                    zIndex: 99999\n                });\n                var runtime = new _flashRuntime2[\"default\"](overlay, SWF_URL, function() {\n                    return {\n                        accept: context.getAccept(),\n                        multiple: context.isMultiple()\n                    }\n                });\n                runtime.on(\"select\", function(e) {\n                    onFiles(e.files, runtime);\n                    _this.current && _this.current.emit(\"files\", e.files, runtime)\n                });\n                runtime.on(\"rollOut\", function() {\n                    return _this.hideOverlay()\n                });\n                this.overlay = overlay.appendTo(document.body)\n            }\n            _createClass(FlashTriggerCollection, [{\n                key: \"hideOverlay\",\n                value: function hideOverlay() {\n                    this.overlay.css({\n                        left: -100,\n                        top: -100,\n                        width: 50,\n                        height: 50\n                    });\n                    if (this.current) {\n                        this.current.emit(\"rollOut\");\n                        this.current = null\n                    }\n                }\n            }, {\n                key: \"add\",\n                value: function add(trigger) {\n                    var _this2 = this;\n                    var overlay = this.overlay,\n                        emitter = new _emitter2[\"default\"];\n                    trigger = trigger.on ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.on(\"mouseover.flashpicker\", function(e) {\n                        var rect = e.currentTarget.getBoundingClientRect();\n                        overlay.css({\n                            left: rect.left,\n                            top: rect.top,\n                            width: rect.right - rect.left,\n                            height: rect.bottom - rect.top\n                        });\n                        emitter.emit(\"rollOver\");\n                        if (_this2.current && _this2.current !== emitter) {\n                            _this2.current.emit(\"rollOut\")\n                        }\n                        _this2.current = emitter\n                    });\n                    emitter.destroy = function() {\n                        if (_this2.current === emitter) {\n                            _this2.hideOverlay()\n                        }\n                        emitter.removeAllListeners();\n                        trigger.off(\"mouseover.flashpicker\")\n                    };\n                    return emitter\n                }\n            }]);\n            return FlashTriggerCollection\n        }();\n        var Html5TriggerCollection = function() {\n            function Html5TriggerCollection(context, onFiles) {\n                var _this3 = this;\n                _classCallCheck(this, Html5TriggerCollection);\n                var runtime = _html5Runtime2[\"default\"].getInstance();\n                this._createInput = function(label) {\n                    var input = (0, _jquery2[\"default\"])(document.createElement(\"input\"));\n                    input.attr(\"type\", \"file\");\n                    input.css({\n                        position: \"absolute\",\n                        clip: \"rect(1px 1px 1px 1px)\"\n                    });\n                    var accept = context.getAccept();\n                    if (accept && accept.length > 0) {\n                        accept = accept.map(function(item) {\n                            return item.mimeTypes || \".\" + item.extensions.join(\",.\")\n                        });\n                        input.attr(\"accept\", accept.join(\",\"))\n                    }\n                    if (context.isMultiple()) {\n                        input.attr(\"multiple\", \"multiple\")\n                    }\n                    input.on(\"change\", function(e) {\n                        onFiles(e.target.files, runtime);\n                        input.remove();\n                        _this3._createInput(label)\n                    });\n                    label.html(input)\n                }\n            }\n            _createClass(Html5TriggerCollection, [{\n                key: \"add\",\n                value: function add(trigger) {\n                    var label = (0, _jquery2[\"default\"])(\"<label></label>\"),\n                        emitter = new _emitter2[\"default\"];\n                    label.css({\n                        position: \"absolute\",\n                        opacity: 0,\n                        top: 0,\n                        left: 0,\n                        width: \"100%\",\n                        height: \"100%\",\n                        display: \"inline-block\",\n                        cursor: \"pointer\",\n                        background: \"#fff\",\n                        overflow: \"hidden\"\n                    });\n                    this._createInput(label);\n                    trigger = trigger.append ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.append(label);\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        label.remove()\n                    };\n                    return emitter\n                }\n            }]);\n            return Html5TriggerCollection\n        }();\n        var PickerCollector = function() {\n            _createClass(PickerCollector, null, [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    SWF_URL = url\n                }\n            }]);\n\n            function PickerCollector(context) {\n                _classCallCheck(this, PickerCollector);\n                var onFiles = function onFiles(files, runtime) {\n                    for (var i = 0, l = files.length; i < l; i++) {\n                        if (context.add(new _file2[\"default\"](runtime, files[i])) < 0) {\n                            break\n                        }\n                    }\n                };\n                if (\"DataTransfer\" in window && \"FileList\" in window) {\n                    this.triggerCollection = new Html5TriggerCollection(context, onFiles)\n                } else {\n                    this.triggerCollection = new FlashTriggerCollection(context, onFiles)\n                }\n            }\n            _createClass(PickerCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    return this.triggerCollection.add(area)\n                }\n            }]);\n            return PickerCollector\n        }();\n        exports[\"default\"] = PickerCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _runtime = __webpack_require__(11);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(17);\n        var _transport2 = _interopRequireDefault(_transport);\n\n        function getFlashVersion() {\n            var version = undefined;\n            try {\n                version = navigator.plugins[\"Shockwave Flash\"];\n                version = version.description\n            } catch (e1) {\n                try {\n                    version = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\")\n                } catch (e2) {\n                    version = \"0.0\"\n                }\n            }\n            version = version.match(/\\d+/g);\n            return parseFloat(version[0] + \".\" + version[1])\n        }\n\n        function callFlash(movie, functionName, argumentArray) {\n            try {\n                movie.CallFunction('<invoke name=\"' + functionName + '\" returntype=\"javascript\">' + __flash__argumentsToXML(argumentArray || [], 0) + \"</invoke>\")\n            } catch (ex) {\n                throw \"Call to \" + functionName + \" failed\"\n            }\n        }\n\n        function createFlash(swf, callInterface) {\n            if (getFlashVersion() < 11.4) {\n                throw \"flash player is not available\"\n            }\n            var div = document.createElement(\"div\");\n            var url = swf + (swf.indexOf(\"?\") > 0 ? \"&\" : \"?\") + \"callInterface=\" + encodeURIComponent(callInterface);\n            var attrs = ['id=\"' + callInterface + '-Picker\"', 'type=\"application/x-shockwave-flash\"', 'data=\"' + url + '\"', 'width=\"100%\" height=\"100%\"', 'style=\"position:absolute;left:0;top:0;display:block;z-index:1;outline:0\"'];\n            if (window.ActiveXObject) {\n                attrs.push('classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"')\n            }\n            div.innerHTML = \"<object \" + attrs.join(\" \") + \">\" + '<param name=\"movie\" value=\"' + url + '\" />' + '<param name=\"wmode\" value=\"transparent\" />' + '<param name=\"allowscriptaccess\" value=\"always\" />' + \"</object>\";\n            return div.firstChild\n        }\n        var _guid = +new Date;\n\n        function guid(_x4) {\n            var _again2 = true;\n            _function2: while (_again2) {\n                var prefix = _x4;\n                ret = undefined;\n                _again2 = false;\n                var ret = prefix + (_guid++).toString(16);\n                if (ret in window) {\n                    _x4 = prefix;\n                    _again2 = true;\n                    continue _function2\n                }\n                return ret\n            }\n        }\n        var FlashRuntime = function(_Runtime) {\n            _inherits(FlashRuntime, _Runtime);\n\n            function FlashRuntime(trigger, swf, options) {\n                _classCallCheck(this, FlashRuntime);\n                _get(Object.getPrototypeOf(FlashRuntime.prototype), \"constructor\", this).call(this);\n                var callInterface = guid(\"FlashRuntime\");\n                this.callInterface = callInterface;\n                window[callInterface] = this;\n                this.options = options;\n                var _this = this;\n\n                function display() {\n                    var w = trigger[0].offsetWidth,\n                        h = trigger[0].offsetHeight,\n                        flash = undefined;\n                    if (!w || !h || !(flash = createFlash(swf, callInterface))) {\n                        setTimeout(display, 1e3);\n                        return\n                    }\n                    trigger.append(_this.flash = flash)\n                }\n                display()\n            }\n            _createClass(FlashRuntime, [{\n                key: \"getOptions\",\n                value: function getOptions() {\n                    var options = this.options;\n                    if (typeof options === \"function\") {\n                        options = options()\n                    }\n                    return options\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport(name, blob, options) {\n                    return new _transport2[\"default\"](this, name, blob, options)\n                }\n            }, {\n                key: \"send\",\n                value: function send(name, blob, url, params) {\n                    callFlash(this.flash, \"exec\", [\"send\", name, blob.id, url, params])\n                }\n            }, {\n                key: \"abort\",\n                value: function abort(blob) {\n                    try {\n                        callFlash(this.flash, \"exec\", [\"abort\", blob.id])\n                    } catch (e) {}\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {\n                    callFlash(this.flash, \"exec\", [\"cancel\", blob.id])\n                }\n            }, {\n                key: \"ping\",\n                value: function ping() {\n                    callFlash(this.flash, \"exec\", [\"pang\"])\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    delete window[this.callInterface]\n                }\n            }]);\n            return FlashRuntime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = FlashRuntime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var FlashTransport = function() {\n            function FlashTransport(flashRuntime) {\n                _classCallCheck(this, FlashTransport);\n                this.flashRuntime = flashRuntime\n            }\n            _createClass(FlashTransport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)(),\n                        flashRuntime = this.flashRuntime,\n                        blob = request.getBlob();\n                    var timeoutTimer = undefined;\n                    var clean = function clean() {\n                        flashRuntime.off(\"uploadprogress\", progress);\n                        flashRuntime.off(\"uploadcomplete\", complete);\n                        flashRuntime.off(\"uploaderror\", error);\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        flashRuntime.abort(blob.id)\n                    };\n                    var progress = function progress(e) {\n                        if (e.id !== blob.id) return;\n                        i.notify(e)\n                    };\n                    var complete = function complete(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        if (e.status === 304 || e.status >= 200 && e.status < 300) {\n                            flashRuntime.cancel(blob);\n                            return i.resolve(e.response)\n                        }\n                        return i.reject(new _errors.NetworkError(e.status, e.response))\n                    };\n                    var error = function error(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        i.reject(new _errors.AbortError(e.message))\n                    };\n                    flashRuntime.on(\"uploadprogress\", progress);\n                    flashRuntime.on(\"uploadcomplete\", complete);\n                    flashRuntime.on(\"uploaderror\", error);\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        flashRuntime.send(request.getName(), blob, request.getUrl(), request.getParams().toString())\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return FlashTransport\n        }();\n        exports[\"default\"] = FlashTransport;\n        module.exports = exports[\"default\"]\n    }]);\n    UXUploader[\"default\"].setSWF(require.resolve(\"./flashpicker.swf#\"));\n    UXUploader[\"default\"].Status = UXUploader.Status;\n    UXUploader[\"default\"].Events = UXUploader.Events;\n    module.exports = UXUploader[\"default\"]\n});"],"sourceRoot":"/source/"}