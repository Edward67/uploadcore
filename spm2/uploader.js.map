{"version":3,"sources":["uploader.js"],"names":["define","require","exports","module","jQuery","SparkMD5","UXUploader","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_srcContext","_srcContext2","_srcEvents","_srcEvents2","_srcStatus","_srcStatus2","Uploader","Events","Status","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","formatSize","size","parseFloat","prefixesSI","base","index","Math","floor","log","min","length","powedPrecision","pow","round","parseSize","units","t","g","k","exec","u","hasOwnProperty","_createClass","defineProperties","target","props","i","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_emitter","_emitter2","_events","_events2","_status","_status2","_errors","_filerequest","_filerequest2","_collectorDnd","_collectorDnd2","_collectorPaste","_collectorPaste2","_collectorPicker","_collectorPicker2","Context","_Emitter","options","_this","this","processThreads","autoPending","queueCapcity","accept","sizeLimit","preventDuplicate","multiple","stat","Stat","constraints","Constraints","filters","Filters","pending","Pending","addConstraint","getTotal","addFilter","file","some","item","extensions","split","indexOf","ext","FileExtensionError","FileSizeError","getFiles","name","DuplicateError","requestOptions","request","constraint","add","filter","_this2","isLimit","emit","QUEUE_ERROR","QueueLimitError","error","QUEUE_FILE_FILTERED","setStatus","QUEUED","on","FILE_STATUS_CHANGE","status","CANCELLED","remove","PENDING","setTimeout","QUEUE_UPLOAD_START","QUEUE_STAT_CHANGE","PROCESS","QUEUE_UPLOAD_END","setContext","QUEUE_FILE_ADDED","picker","dnd","paster","url","setSWF","Set","_set","shift","pop","slice","has","push","splice","files","flag","toArray","getStatus","forEach","_this3","fn","every","ret","e","FilterError","Error","toString","threads","heading","_this4","session","always","load","_this5","prepare","process","HookInvoker","hooks","initialData","context","_data","_error","_aborted","_jquery","Deferred","promise","abort","fail","reject","done","resolve","setData","data","next","hook","res","then","Emitter","event","listener","toLowerCase","that","off","apply","arguments","listeners","emitter","propagationTarget","_len","args","Array","_key","applyEmit","pArgs","unshift","FILE_UPLOAD_START","FILE_UPLOAD_PREPARING","FILE_UPLOAD_PREPARED","CHUNK_UPLOAD_PREPARING","CHUNK_UPLOAD_COMPLETING","FILE_UPLOAD_PROGRESS","FILE_UPLOAD_END","FILE_UPLOAD_COMPLETING","FILE_UPLOAD_SUCCESS","FILE_UPLOAD_ERROR","FILE_UPLOAD_COMPLETED","FILE_CANCEL","ALL","INITED","PROGRESS","END","SUCCESS","ERROR","StatusName",1,2,4,8,16,32,64,128,"_Error","_Error2","message","AbortError","_Error3","TimeoutError","_Error4","NetworkError","_Error5","_Error6","_Error7","_FilterError","_FilterError2","_FilterError3","ChunkResponse","rawResponse","chunkRequest","response","getResponse","getJson","JSON","parse","ChunkRequest","blob","fileRequest","getName","getFile","source","params","getParams","clone","getParam","setParam","getUrl","headers","getHeaders","isWithCredentials","getTimeout","FileResponse","getChunkRequest","isMultiChunk","Params","isArray","_name","removeParam","addParam","param","single","map","encodeURIComponent","join","MIN_CHUNK_SIZE","FileRequest","withCredentials","timeout","chunkSize","chunkRetries","chunkEnable","chunkProcessThreads","retries","getChunkSize","getRuntime","canSlice","createReader","collector","reader","dataTransfer","responders","items","l","_break","entry","webkitGetAsEntry","isDirectory","readEntry","isFile","readEntries","entries","window","$doc","_jquery2","document","runtime","_html5Runtime2","getInstance","started","enter","endTimer","dataTransferReader","_file2","total","responder","recieve","start","Collectors","move","originalEvent","dropEffect","preventDefault","end","drag","clearTimeout","isLeave","type","drop","contains","getData","ex","_html5Runtime","_file","Area","area","areaElement","allowed","DndCollector","areas","destroy","removeAllListeners","r","isMultiple","_runtime","_runtime2","_transport","_transport2","Html5Runtime","_Runtime","fr","FileReader","timer","onloadend","readyState","DONE","result","readAsDataURL","transport","Blob","mozSlice","webkitSlice","blobSlice","chunks","ceil","chunk","spark","ArrayBuffer","_loadNext","onload","append","readAsArrayBuffer","Runtime","uploading","Uploading","getSource","useChunk","isChunkEnable","getChunkProcessThreads","slots","getActives","reduce","sum","slot","state","readChunk","req","createChunkRequest","getChunkRetries","progress","notify","getContext","completion","getBlob","invoke","getTransport","generate","createChunkResponse","Html5Transport","timeoutTimer","xhr","XMLHttpRequest","XDomainRequest","clean","onerror","upload","onprogress","complete","responseText","statusText","open","header","setRequestHeader","formData","FormData","send","guid","uid","toUpperCase","guessExt","RE_EXT","RE_IMAGE","guessType","Progress","change","percentage","File","filename","test","lastModified","Date","setPropagationTarget","prevStatus","_dataUrlPromise","getAsDataUrl","_md5Promise","md5","_sessionPromise","_session","_flows","flow","createFileRequest","getUploading","createFileResponse","cancel","PasteCollector","paste","isDefaultPrevented","clipboardData","prevent","addRet","kind","getAsFile","stopPropagation","_flashRuntime","_flashRuntime2","SWF_URL","FlashTriggerCollection","onFiles","overlay","css","position","opacity","left","top","width","height","display","cursor","background","overflow","zIndex","getAccept","current","hideOverlay","appendTo","body","trigger","rect","getBoundingClientRect","right","bottom","Html5TriggerCollection","_createInput","label","input","createElement","attr","clip","mimeTypes","html","PickerCollector","triggerCollection","getFlashVersion","version","navigator","plugins","description","e1","ActiveXObject","GetVariable","e2","match","callFlash","movie","functionName","argumentArray","CallFunction","__flash__argumentsToXML","createFlash","swf","callInterface","div","attrs","innerHTML","firstChild","_x4","_again2","prefix","_guid","FlashRuntime","w","offsetWidth","h","offsetHeight","flash","FlashTransport","flashRuntime"],"mappings":"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","file":"uploader.js","sourcesContent":["define(\"alinw/uxuploader/2.0.0/uploader\", [\"jquery\", \"spark-md5\"], function(require, exports, module) {\n    var jQuery = require(\"jquery\");\n    var SparkMD5 = require(\"spark-md5\");\n    var UXUploader = function(modules) {\n        var installedModules = {};\n\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                exports: {},\n                id: moduleId,\n                loaded: false\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.loaded = true;\n            return module.exports\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.p = \"\";\n        return __webpack_require__(0)\n    }([function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n        var _srcContext = __webpack_require__(1);\n        var _srcContext2 = _interopRequireDefault(_srcContext);\n        var _srcEvents = __webpack_require__(4);\n        var _srcEvents2 = _interopRequireDefault(_srcEvents);\n        var _srcStatus = __webpack_require__(5);\n        var _srcStatus2 = _interopRequireDefault(_srcStatus);\n        exports[\"default\"] = _srcContext2[\"default\"];\n        exports.Uploader = _srcContext2[\"default\"];\n        exports.Events = _srcEvents2[\"default\"];\n        exports.Status = _srcStatus2[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _errors = __webpack_require__(6);\n        var _filerequest = __webpack_require__(7);\n        var _filerequest2 = _interopRequireDefault(_filerequest);\n        var _collectorDnd = __webpack_require__(8);\n        var _collectorDnd2 = _interopRequireDefault(_collectorDnd);\n        var _collectorPaste = __webpack_require__(13);\n        var _collectorPaste2 = _interopRequireDefault(_collectorPaste);\n        var _collectorPicker = __webpack_require__(14);\n        var _collectorPicker2 = _interopRequireDefault(_collectorPicker);\n\n        function formatSize(size) {\n            size = parseFloat(size);\n            var prefixesSI = [\"\", \"K\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"],\n                base = 1024;\n            var index = size ? Math.floor(Math.log(size) / Math.log(base)) : 0;\n            index = Math.min(index, prefixesSI.length - 1);\n            var powedPrecision = Math.pow(10, index < 2 ? 0 : index > 2 ? 2 : 1);\n            size = size / Math.pow(base, index);\n            size = Math.round(size * powedPrecision) / powedPrecision;\n            return size + prefixesSI[index] + \"B\"\n        }\n\n        function parseSize(size) {\n            if (typeof size !== \"string\") {\n                return size\n            }\n            var units = {\n                t: 1099511627776,\n                g: 1073741824,\n                m: 1048576,\n                k: 1024\n            };\n            size = /^([0-9\\.]+)([tgmk]?)b?$/i.exec(size);\n            var u = size[2];\n            size = +size[1];\n            if (units.hasOwnProperty(u)) {\n                size *= units[u]\n            }\n            return size\n        }\n        var Context = function(_Emitter) {\n            _inherits(Context, _Emitter);\n\n            function Context(options) {\n                var _this = this;\n                _classCallCheck(this, Context);\n                _get(Object.getPrototypeOf(Context.prototype), \"constructor\", this).call(this);\n                var processThreads = options.processThreads;\n                var autoPending = options.autoPending;\n                var queueCapcity = options.queueCapcity;\n                var accept = options.accept;\n                var sizeLimit = options.sizeLimit;\n                var preventDuplicate = options.preventDuplicate;\n                var multiple = options.multiple;\n                this.stat = new Stat;\n                this.constraints = new Constraints;\n                this.filters = new Filters;\n                this.accept = accept;\n                this.autoPending = autoPending;\n                this.multiple = multiple == null ? true : multiple;\n                this.pending = new Pending(processThreads);\n                if (queueCapcity && queueCapcity > 0) {\n                    this.addConstraint(function() {\n                        return _this.stat.getTotal() >= queueCapcity\n                    })\n                }\n                if (accept && accept.length > 0) {\n                    this.addFilter(function(file) {\n                        if (!accept) {\n                            return\n                        }\n                        if (accept.some(function(item) {\n                                return item.extensions && item.extensions.split(\",\").indexOf(file.ext) > -1\n                            })) {\n                            return\n                        }\n                        return new _errors.FileExtensionError(file, 'extension \"' + file.ext + '\" is not allowed')\n                    })\n                }\n                if (sizeLimit && (sizeLimit = parseSize(sizeLimit)) > 0) {\n                    this.addFilter(function(file) {\n                        if (file.size > sizeLimit) {\n                            return new _errors.FileSizeError(file, \"filesize:\" + formatSize(file.size) + \" is greater than limit:\" + formatSize(sizeLimit))\n                        }\n                    })\n                }\n                if (preventDuplicate) {\n                    this.addFilter(function(file) {\n                        if (_this.stat.getFiles().some(function(item) {\n                                return item.name === file.name && item.size === file.size\n                            })) {\n                            return new _errors.DuplicateError(file, 'file \"' + file.name + '\" already in queue')\n                        }\n                    })\n                }\n                this.requestOptions = options.request || {}\n            }\n            _createClass(Context, [{\n                key: \"createFileRequest\",\n                value: function createFileRequest(file) {\n                    return new _filerequest2[\"default\"](file, this.requestOptions)\n                }\n            }, {\n                key: \"isLimit\",\n                value: function isLimit() {\n                    return this.constraints.some()\n                }\n            }, {\n                key: \"addConstraint\",\n                value: function addConstraint(constraint) {\n                    return this.constraints.add(constraint)\n                }\n            }, {\n                key: \"addFilter\",\n                value: function addFilter(filter) {\n                    return this.filters.add(filter)\n                }\n            }, {\n                key: \"add\",\n                value: function add(file) {\n                    var _this2 = this;\n                    if (this.isLimit()) {\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, new _errors.QueueLimitError);\n                        return -1\n                    }\n                    var error = this.filters.filter(file);\n                    if (!error && !this.stat.add(file)) {\n                        error = new _errors.DuplicateError(file, 'file \"' + file.name + '\" already in queue')\n                    }\n                    if (error) {\n                        this.emit(_events2[\"default\"].QUEUE_FILE_FILTERED, file, error);\n                        this.emit(_events2[\"default\"].QUEUE_ERROR, error);\n                        return 0\n                    }\n                    file.setStatus(_status2[\"default\"].QUEUED);\n                    file.on(_events2[\"default\"].FILE_STATUS_CHANGE, function(status) {\n                        if (status === _status2[\"default\"].CANCELLED) {\n                            _this2.stat.remove(file)\n                        } else if (status === _status2[\"default\"].PENDING) {\n                            setTimeout(function() {\n                                if (_this2.pending.add(file) && _this2.pending.size() === 1) {\n                                    _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_START)\n                                }\n                            }, 1)\n                        }\n                        _this2.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, _this2.stat);\n                        if (_this2.stat.getFiles(_status2[\"default\"].PROCESS).length < 1) {\n                            _this2.emit(_events2[\"default\"].QUEUE_UPLOAD_END)\n                        }\n                    });\n                    file.setContext(this);\n                    this.emit(_events2[\"default\"].QUEUE_FILE_ADDED, file);\n                    this.emit(_events2[\"default\"].QUEUE_STAT_CHANGE, this.stat);\n                    if (this.autoPending) {\n                        file.pending()\n                    }\n                    return 1\n                }\n            }, {\n                key: \"isMultiple\",\n                value: function isMultiple() {\n                    return this.multiple\n                }\n            }, {\n                key: \"getAccept\",\n                value: function getAccept() {\n                    return this.accept\n                }\n            }, {\n                key: \"getStat\",\n                value: function getStat() {\n                    return this.stat\n                }\n            }, {\n                key: \"getPickerCollector\",\n                value: function getPickerCollector() {\n                    if (!this.picker) {\n                        this.picker = new _collectorPicker2[\"default\"](this)\n                    }\n                    return this.picker\n                }\n            }, {\n                key: \"getDndCollector\",\n                value: function getDndCollector() {\n                    if (!this.dnd) {\n                        this.dnd = new _collectorDnd2[\"default\"](this)\n                    }\n                    return this.dnd\n                }\n            }, {\n                key: \"getPasteCollector\",\n                value: function getPasteCollector() {\n                    if (!this.paster) {\n                        this.paster = new _collectorPaste2[\"default\"](this)\n                    }\n                    return this.paster\n                }\n            }], [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    _collectorPicker2[\"default\"].setSWF(url)\n                }\n            }]);\n            return Context\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Context;\n        var Set = function() {\n            function Set() {\n                _classCallCheck(this, Set);\n                this._set = []\n            }\n            _createClass(Set, [{\n                key: \"size\",\n                value: function size() {\n                    return this._set.length\n                }\n            }, {\n                key: \"shift\",\n                value: function shift() {\n                    return this._set.shift()\n                }\n            }, {\n                key: \"pop\",\n                value: function pop() {\n                    return this._set.pop()\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this._set.slice(0)\n                }\n            }, {\n                key: \"add\",\n                value: function add(item) {\n                    if (this.has(item)) {\n                        return false\n                    }\n                    this._set.push(item);\n                    return true\n                }\n            }, {\n                key: \"has\",\n                value: function has(item) {\n                    return this._set.indexOf(item) > -1\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(item) {\n                    var i = this._set.indexOf(item);\n                    if (i > -1) {\n                        this._set.splice(i, 1);\n                        return true\n                    }\n                    return false\n                }\n            }, {\n                key: \"clear\",\n                value: function clear() {\n                    this._set = []\n                }\n            }]);\n            return Set\n        }();\n        var Stat = function() {\n            function Stat() {\n                _classCallCheck(this, Stat);\n                this.files = new Set\n            }\n            _createClass(Stat, [{\n                key: \"add\",\n                value: function add(file) {\n                    return this.files.add(file)\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(file) {\n                    this.files.remove(file)\n                }\n            }, {\n                key: \"getTotal\",\n                value: function getTotal() {\n                    return this.files.size()\n                }\n            }, {\n                key: \"getFiles\",\n                value: function getFiles(flag) {\n                    var files = this.files.toArray();\n                    if (!flag) {\n                        return files\n                    }\n                    return files.filter(function(file) {\n                        return !!(file.getStatus() & flag)\n                    })\n                }\n            }, {\n                key: \"stat\",\n                value: function stat(flag) {\n                    var stat = {},\n                        files = this.getFiles(flag);\n                    files.forEach(function(file) {\n                        var status = file.getStatus();\n                        stat[status] = status in stat ? stat[status] + 1 : 1\n                    });\n                    stat[\"sum\"] = files.length;\n                    return stat\n                }\n            }]);\n            return Stat\n        }();\n        var Constraints = function() {\n            function Constraints() {\n                _classCallCheck(this, Constraints);\n                this.constraints = new Set\n            }\n            _createClass(Constraints, [{\n                key: \"add\",\n                value: function add(constraint) {\n                    this.constraints.add(constraint);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(constraint) {\n                    this.constraints.remove(constraint);\n                    return this\n                }\n            }, {\n                key: \"some\",\n                value: function some() {\n                    var _this3 = this;\n                    return this.constraints.toArray().some(function(fn) {\n                        return fn.call(_this3)\n                    })\n                }\n            }]);\n            return Constraints\n        }();\n        var Filters = function() {\n            function Filters() {\n                _classCallCheck(this, Filters);\n                this.filters = new Set\n            }\n            _createClass(Filters, [{\n                key: \"add\",\n                value: function add(filter) {\n                    this.filters.add(filter);\n                    return this\n                }\n            }, {\n                key: \"remove\",\n                value: function remove(filter) {\n                    this.filters.remove(filter);\n                    return this\n                }\n            }, {\n                key: \"filter\",\n                value: function filter(file) {\n                    var error = null;\n                    this.filters.toArray().every(function(filter) {\n                        var ret = undefined;\n                        try {\n                            ret = filter(file)\n                        } catch (e) {\n                            ret = e\n                        }\n                        if (typeof ret === \"string\") {\n                            error = new _errors.FilterError(file, ret);\n                            return false\n                        } else if (ret instanceof Error) {\n                            error = ret instanceof _errors.FilterError ? ret : new _errors.FilterError(file, ret.toString());\n                            return false\n                        }\n                        return true\n                    });\n                    return error\n                }\n            }]);\n            return Filters\n        }();\n        var Pending = function() {\n            function Pending(threads) {\n                _classCallCheck(this, Pending);\n                this.threads = threads || 2;\n                this.heading = new Set;\n                this.pending = new Set\n            }\n            _createClass(Pending, [{\n                key: \"add\",\n                value: function add(file) {\n                    var _this4 = this;\n                    if (!this.pending.add(file)) return false;\n                    file.session().always(function() {\n                        return _this4.pending.remove(file)\n                    });\n                    this.load();\n                    return true\n                }\n            }, {\n                key: \"size\",\n                value: function size() {\n                    return this.pending.size() + this.heading.size()\n                }\n            }, {\n                key: \"process\",\n                value: function process(file) {\n                    var _this5 = this;\n                    if (!this.heading.add(file)) return;\n                    file.session().always(function() {\n                        _this5.heading.remove(file);\n                        _this5.load()\n                    })\n                }\n            }, {\n                key: \"load\",\n                value: function load() {\n                    var file;\n                    while (this.heading.size() < this.threads && (file = this.pending.shift())) {\n                        if (file.prepare()) {\n                            this.process(file)\n                        }\n                    }\n                }\n            }]);\n            return Pending\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var Emitter = function() {\n            function Emitter() {\n                _classCallCheck(this, Emitter)\n            }\n            _createClass(Emitter, [{\n                key: \"on\",\n                value: function on(event, listener) {\n                    event = event.toLowerCase();\n                    if (!this._events) {\n                        this._events = {}\n                    }\n                    if (!this._events[event]) {\n                        this._events[event] = []\n                    }\n                    this._events[event].push(listener);\n                    return this\n                }\n            }, {\n                key: \"once\",\n                value: function once(event, listener) {\n                    event = event.toLowerCase();\n                    var that = this;\n\n                    function fn() {\n                        that.off(event, fn);\n                        listener.apply(this, arguments)\n                    }\n                    fn.listener = listener;\n                    this.on(event, fn);\n                    return this\n                }\n            }, {\n                key: \"off\",\n                value: function off(event, listener) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        return this\n                    }\n                    var i = listeners.length;\n                    while (i-- > 0) {\n                        if (listeners[i] === listener || listeners[i].listener === listener) {\n                            listeners.splice(i, 1);\n                            break\n                        }\n                    }\n                    if (listeners.length === 0) {\n                        delete this._events[event]\n                    }\n                    return this\n                }\n            }, {\n                key: \"removeAllListeners\",\n                value: function removeAllListeners(event) {\n                    if (!event) {\n                        this._events = []\n                    } else {\n                        delete this._events[event.toLowerCase()]\n                    }\n                    return this\n                }\n            }, {\n                key: \"setPropagationTarget\",\n                value: function setPropagationTarget(emitter) {\n                    if (emitter instanceof Emitter) {\n                        this.propagationTarget = emitter\n                    }\n                }\n            }, {\n                key: \"emit\",\n                value: function emit(event) {\n                    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                        args[_key - 1] = arguments[_key]\n                    }\n                    this.applyEmit(event, args);\n                    return this\n                }\n            }, {\n                key: \"applyEmit\",\n                value: function applyEmit(event, args) {\n                    var _this = this;\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (this._events && (listeners = this._events[event])) {\n                        listeners.slice(0).forEach(function(fn) {\n                            return fn.apply(_this, args)\n                        })\n                    }\n                    if (this.propagationTarget) {\n                        var pArgs = args.slice(0);\n                        pArgs.unshift(this);\n                        this.propagationTarget.applyEmit(event, pArgs)\n                    }\n                    return this\n                }\n            }, {\n                key: \"invoke\",\n                value: function invoke(event, data) {\n                    event = event.toLowerCase();\n                    var listeners = undefined;\n                    if (!this._events || !(listeners = this._events[event])) {\n                        listeners = []\n                    }\n                    return HookInvoker(listeners.slice(0), data, this)\n                }\n            }]);\n            return Emitter\n        }();\n        exports[\"default\"] = Emitter;\n\n        function HookInvoker(hooks, initialData, context) {\n            var _data = initialData;\n            var _error = null;\n            var _aborted = undefined;\n            var i = (0, _jquery.Deferred)();\n            var ret = i.promise();\n            ret.abort = function() {\n                _aborted = true\n            };\n            var fail = function fail(e) {\n                if (_aborted) return;\n                if (e) {\n                    _error = e instanceof Error ? e : new Error(e)\n                }\n                i.reject(_error || new Error(\"Unknown\"))\n            };\n            var done = function done() {\n                if (_aborted) return;\n                if (_error != null) {\n                    fail()\n                } else {\n                    i.resolve(_data)\n                }\n            };\n            var setData = function setData(data) {\n                if (data != null && (_data == null || data.constructor === _data.constructor)) {\n                    _data = data\n                }\n            };\n            var next = function next(data) {\n                if (_aborted) return;\n                if (data instanceof Error) {\n                    _error = data\n                }\n                if (_error != null) {\n                    return fail()\n                }\n                setData(data);\n                var hook = hooks.shift();\n                if (!hook) {\n                    return done()\n                }\n                var res = undefined;\n                try {\n                    res = hook.call(context, _data)\n                } catch (e) {\n                    return fail(e)\n                }\n                if (res && res.then) {\n                    res.then(next, fail)\n                } else {\n                    next(res)\n                }\n            };\n            setTimeout(next, 1);\n            return ret\n        }\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        module.exports = jQuery\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            QUEUE_UPLOAD_START: \"queueuploadstart\",\n            QUEUE_UPLOAD_END: \"queueuploadend\",\n            QUEUE_FILE_ADDED: \"queuefileadded\",\n            QUEUE_FILE_FILTERED: \"queuefilefiltered\",\n            QUEUE_ERROR: \"queueerror\",\n            QUEUE_STAT_CHANGE: \"statchange\",\n            FILE_UPLOAD_START: \"fileuploadstart\",\n            FILE_UPLOAD_PREPARING: \"fileuploadpreparing\",\n            FILE_UPLOAD_PREPARED: \"fileuploadprepared\",\n            CHUNK_UPLOAD_PREPARING: \"chunkuploadpreparing\",\n            CHUNK_UPLOAD_COMPLETING: \"chunkuploadcompleting\",\n            FILE_UPLOAD_PROGRESS: \"fileuploadprogress\",\n            FILE_UPLOAD_END: \"fileuploadend\",\n            FILE_UPLOAD_COMPLETING: \"fileuploadcompleting\",\n            FILE_UPLOAD_SUCCESS: \"fileuploadsuccess\",\n            FILE_UPLOAD_ERROR: \"fileuploaderror\",\n            FILE_UPLOAD_COMPLETED: \"fileuploadcompleted\",\n            FILE_CANCEL: \"filecancel\",\n            FILE_STATUS_CHANGE: \"filestatuschange\"\n        };\n        module.exports = exports[\"default\"]\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports[\"default\"] = {\n            ALL: 255,\n            PROCESS: 31,\n            INITED: 1,\n            QUEUED: 2,\n            PENDING: 4,\n            PROGRESS: 8,\n            END: 16,\n            SUCCESS: 32,\n            ERROR: 64,\n            CANCELLED: 128\n        };\n        var StatusName = {\n            1: \"inited\",\n            2: \"queued\",\n            4: \"pending\",\n            8: \"progress\",\n            16: \"end\",\n            32: \"success\",\n            64: \"error\",\n            128: \"cancelled\"\n        };\n        exports.StatusName = StatusName\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _Error = function(_Error2) {\n            _inherits(_Error, _Error2);\n\n            function _Error(message) {\n                _classCallCheck(this, _Error);\n                _get(Object.getPrototypeOf(_Error.prototype), \"constructor\", this).call(this, message);\n                this.message = message\n            }\n            return _Error\n        }(Error);\n        var AbortError = function(_Error3) {\n            _inherits(AbortError, _Error3);\n\n            function AbortError(message) {\n                _classCallCheck(this, AbortError);\n                _get(Object.getPrototypeOf(AbortError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"AbortError\"\n            }\n            return AbortError\n        }(_Error);\n        exports.AbortError = AbortError;\n        var TimeoutError = function(_Error4) {\n            _inherits(TimeoutError, _Error4);\n\n            function TimeoutError(message) {\n                _classCallCheck(this, TimeoutError);\n                _get(Object.getPrototypeOf(TimeoutError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"TimeoutError\"\n            }\n            return TimeoutError\n        }(_Error);\n        exports.TimeoutError = TimeoutError;\n        var NetworkError = function(_Error5) {\n            _inherits(NetworkError, _Error5);\n\n            function NetworkError(status, message) {\n                _classCallCheck(this, NetworkError);\n                _get(Object.getPrototypeOf(NetworkError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"NetworkError\";\n                this.status = status\n            }\n            return NetworkError\n        }(_Error);\n        exports.NetworkError = NetworkError;\n        var QueueLimitError = function(_Error6) {\n            _inherits(QueueLimitError, _Error6);\n\n            function QueueLimitError() {\n                _classCallCheck(this, QueueLimitError);\n                _get(Object.getPrototypeOf(QueueLimitError.prototype), \"constructor\", this).call(this, \"queue limit\");\n                this.name = \"QueueLimitError\"\n            }\n            return QueueLimitError\n        }(_Error);\n        exports.QueueLimitError = QueueLimitError;\n        var FilterError = function(_Error7) {\n            _inherits(FilterError, _Error7);\n\n            function FilterError(file, message) {\n                _classCallCheck(this, FilterError);\n                _get(Object.getPrototypeOf(FilterError.prototype), \"constructor\", this).call(this, message);\n                this.name = \"FilterError\";\n                this.file = file\n            }\n            return FilterError\n        }(_Error);\n        exports.FilterError = FilterError;\n        var DuplicateError = function(_FilterError) {\n            _inherits(DuplicateError, _FilterError);\n\n            function DuplicateError(file, message) {\n                _classCallCheck(this, DuplicateError);\n                _get(Object.getPrototypeOf(DuplicateError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"DuplicateError\"\n            }\n            return DuplicateError\n        }(FilterError);\n        exports.DuplicateError = DuplicateError;\n        var FileExtensionError = function(_FilterError2) {\n            _inherits(FileExtensionError, _FilterError2);\n\n            function FileExtensionError(file, message) {\n                _classCallCheck(this, FileExtensionError);\n                _get(Object.getPrototypeOf(FileExtensionError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileExtensionError\"\n            }\n            return FileExtensionError\n        }(FilterError);\n        exports.FileExtensionError = FileExtensionError;\n        var FileSizeError = function(_FilterError3) {\n            _inherits(FileSizeError, _FilterError3);\n\n            function FileSizeError(file, message) {\n                _classCallCheck(this, FileSizeError);\n                _get(Object.getPrototypeOf(FileSizeError.prototype), \"constructor\", this).call(this, file, message);\n                this.name = \"FileSizeError\"\n            }\n            return FileSizeError\n        }(FilterError);\n        exports.FileSizeError = FileSizeError\n    }, function(module, exports) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var ChunkResponse = function() {\n            function ChunkResponse(rawResponse, chunkRequest) {\n                _classCallCheck(this, ChunkResponse);\n                this.rawResponse = rawResponse;\n                this.chunkRequest = chunkRequest\n            }\n            _createClass(ChunkResponse, [{\n                key: \"getChunkRequest\",\n                value: function getChunkRequest() {\n                    return this.chunkRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    return this.response || this.rawResponse\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return ChunkResponse\n        }();\n        var ChunkRequest = function() {\n            function ChunkRequest(index, blob, fileRequest) {\n                _classCallCheck(this, ChunkRequest);\n                this.index = index;\n                this.blob = blob;\n                this.fileRequest = fileRequest\n            }\n            _createClass(ChunkRequest, [{\n                key: \"getName\",\n                value: function getName() {\n                    return this.fileRequest.getName()\n                }\n            }, {\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.fileRequest.getFile()\n                }\n            }, {\n                key: \"getBlob\",\n                value: function getBlob() {\n                    return this.blob\n                }\n            }, {\n                key: \"getIndex\",\n                value: function getIndex() {\n                    return this.index\n                }\n            }, {\n                key: \"isMultiChunk\",\n                value: function isMultiChunk() {\n                    return this.getFile().source !== this.blob\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    if (!this.params) {\n                        this.params = this.fileRequest.getParams().clone()\n                    }\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.getParams().setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || this.fileRequest.getUrl()\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    if (!this.headers) {\n                        this.headers = this.fileRequest.getHeaders().slice(0)\n                    }\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    var headers = this.getHeaders();\n                    headers.push({\n                        name: name,\n                        value: value\n                    });\n                    return this\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.fileRequest.isWithCredentials()\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.fileRequest.getTimeout()\n                }\n            }, {\n                key: \"createChunkResponse\",\n                value: function createChunkResponse(response) {\n                    return new ChunkResponse(response, this)\n                }\n            }]);\n            return ChunkRequest\n        }();\n        var FileResponse = function() {\n            function FileResponse(rawResponse, fileRequest) {\n                _classCallCheck(this, FileResponse);\n                this.rawResponse = rawResponse;\n                this.fileRequest = fileRequest\n            }\n            _createClass(FileResponse, [{\n                key: \"isFromMultiChunkResponse\",\n                value: function isFromMultiChunkResponse() {\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getChunkRequest().isMultiChunk()\n                    }\n                    return false\n                }\n            }, {\n                key: \"getFileRequest\",\n                value: function getFileRequest() {\n                    return this.fileRequest\n                }\n            }, {\n                key: \"getRawResponse\",\n                value: function getRawResponse() {\n                    return this.rawResponse\n                }\n            }, {\n                key: \"getResponse\",\n                value: function getResponse() {\n                    if (this.response != null) {\n                        return this.response\n                    }\n                    if (this.rawResponse instanceof ChunkResponse) {\n                        return this.rawResponse.getResponse()\n                    } else {\n                        return this.rawResponse\n                    }\n                }\n            }, {\n                key: \"getJson\",\n                value: function getJson() {\n                    var response = this.getResponse();\n                    if (response == null) {\n                        return null\n                    }\n                    if (typeof response.getJson === \"function\") {\n                        return response.getJson()\n                    }\n                    if (typeof response === \"string\") {\n                        return response === \"\" ? null : JSON.parse(response)\n                    }\n                    return response\n                }\n            }, {\n                key: \"setResponse\",\n                value: function setResponse(response) {\n                    this.response = response;\n                    return this\n                }\n            }]);\n            return FileResponse\n        }();\n        var Params = function() {\n            function Params(params) {\n                _classCallCheck(this, Params);\n                if (Array.isArray(params)) {\n                    this.params = params.slice(0)\n                } else if (typeof params === \"object\") {\n                    this.params = [];\n                    for (var _name in params) {\n                        if (params.hasOwnProperty(_name)) {\n                            this.params.push({\n                                name: _name,\n                                value: params[_name]\n                            })\n                        }\n                    }\n                } else {\n                    this.params = []\n                }\n            }\n            _createClass(Params, [{\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.removeParam(name);\n                    this.addParam(name, value)\n                }\n            }, {\n                key: \"addParam\",\n                value: function addParam(name, value) {\n                    this.params.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"removeParam\",\n                value: function removeParam(name) {\n                    this.params = this.params.filter(function(param) {\n                        return param.name !== name\n                    })\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name, single) {\n                    var ret = this.params.filter(function(param) {\n                        return param.name === name\n                    }).map(function(param) {\n                        return param.value\n                    });\n                    if (single) {\n                        return ret.shift()\n                    }\n                    return ret\n                }\n            }, {\n                key: \"clone\",\n                value: function clone() {\n                    return new Params(this.params)\n                }\n            }, {\n                key: \"toArray\",\n                value: function toArray() {\n                    return this.params\n                }\n            }, {\n                key: \"toString\",\n                value: function toString() {\n                    var params = this.params.map(function(param) {\n                        return encodeURIComponent(param.name) + \"=\" + (param.value == null ? \"\" : encodeURIComponent(param.value))\n                    });\n                    return params.join(\"&\")\n                }\n            }]);\n            return Params\n        }();\n        var MIN_CHUNK_SIZE = 256 * 1024;\n\n        function parseSize(size) {\n            if (typeof size !== \"string\") {\n                return size\n            }\n            var units = {\n                t: 1099511627776,\n                g: 1073741824,\n                m: 1048576,\n                k: 1024\n            };\n            size = /^([0-9\\.]+)([tgmk]?)b?$/i.exec(size);\n            size = +size[1];\n            var u = size[2];\n            if (units.hasOwnProperty(u)) {\n                size *= units[u]\n            }\n            return size\n        }\n        var FileRequest = function() {\n            function FileRequest(file) {\n                var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n                _classCallCheck(this, FileRequest);\n                this.file = file;\n                this.name = options.name || \"file\";\n                this.url = options.url;\n                this.params = new Params(options.params);\n                this.headers = options.headers || [];\n                this.withCredentials = options.withCredentials;\n                this.timeout = options.timeout || 0;\n                this.chunkSize = options.chunkSize || 0;\n                this.chunkRetries = options.chunkRetries || 0;\n                this.chunkEnable = options.chunkEnable || false;\n                this.chunkProcessThreads = options.chunkProcessThreads || 0\n            }\n            _createClass(FileRequest, [{\n                key: \"getFile\",\n                value: function getFile() {\n                    return this.file\n                }\n            }, {\n                key: \"getUrl\",\n                value: function getUrl() {\n                    return this.url || \"\"\n                }\n            }, {\n                key: \"getName\",\n                value: function getName() {\n                    return this.name\n                }\n            }, {\n                key: \"setName\",\n                value: function setName(name) {\n                    this.name = name;\n                    return this\n                }\n            }, {\n                key: \"setUrl\",\n                value: function setUrl(url) {\n                    this.url = url;\n                    return this\n                }\n            }, {\n                key: \"getParams\",\n                value: function getParams() {\n                    return this.params\n                }\n            }, {\n                key: \"getParam\",\n                value: function getParam(name) {\n                    return this.getParams().getParam(name)\n                }\n            }, {\n                key: \"setParam\",\n                value: function setParam(name, value) {\n                    this.params.setParam(name, value);\n                    return this\n                }\n            }, {\n                key: \"getHeaders\",\n                value: function getHeaders() {\n                    return this.headers\n                }\n            }, {\n                key: \"setHeader\",\n                value: function setHeader(name, value) {\n                    this.headers.push({\n                        name: name,\n                        value: value\n                    })\n                }\n            }, {\n                key: \"isWithCredentials\",\n                value: function isWithCredentials() {\n                    return this.withCredentials\n                }\n            }, {\n                key: \"setWithCredentials\",\n                value: function setWithCredentials(flag) {\n                    this.withCredentials = flag;\n                    return this\n                }\n            }, {\n                key: \"getTimeout\",\n                value: function getTimeout() {\n                    return this.timeout\n                }\n            }, {\n                key: \"setTimeout\",\n                value: function setTimeout(timeout) {\n                    this.timeout = timeout;\n                    return this\n                }\n            }, {\n                key: \"getChunkSize\",\n                value: function getChunkSize() {\n                    return parseSize(this.chunkSize)\n                }\n            }, {\n                key: \"setChunkSize\",\n                value: function setChunkSize(chunkSize) {\n                    this.chunkSize = chunkSize;\n                    return this\n                }\n            }, {\n                key: \"getChunkRetries\",\n                value: function getChunkRetries() {\n                    return this.chunkRetries\n                }\n            }, {\n                key: \"setChunkRetries\",\n                value: function setChunkRetries(retries) {\n                    this.chunkRetries = retries;\n                    return 0\n                }\n            }, {\n                key: \"isChunkEnable\",\n                value: function isChunkEnable() {\n                    var chunkSize = this.getChunkSize();\n                    return this.chunkEnable && chunkSize > MIN_CHUNK_SIZE && this.file.getRuntime().canSlice() && this.file.size > chunkSize\n                }\n            }, {\n                key: \"setChunkEnable\",\n                value: function setChunkEnable(flag) {\n                    this.chunkEnable = flag;\n                    return this\n                }\n            }, {\n                key: \"getChunkProcessThreads\",\n                value: function getChunkProcessThreads() {\n                    return this.chunkProcessThreads\n                }\n            }, {\n                key: \"setChunkProcessThreads\",\n                value: function setChunkProcessThreads(threads) {\n                    this.chunkProcessThreads = threads;\n                    return this\n                }\n            }, {\n                key: \"createChunkRequest\",\n                value: function createChunkRequest(index, blob) {\n                    return new ChunkRequest(index, blob, this)\n                }\n            }, {\n                key: \"createFileResponse\",\n                value: function createFileResponse(response) {\n                    return new FileResponse(response, this)\n                }\n            }]);\n            return FileRequest\n        }();\n        exports[\"default\"] = FileRequest;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n\n        function createReader(collector) {\n            var _break = false;\n\n            function reader(dataTransfer, responders) {\n                var items = dataTransfer.items,\n                    files = dataTransfer.files,\n                    item;\n                for (var i = 0, l = files.length; i < l; i++) {\n                    if (_break) break;\n                    item = items && items[i];\n                    var entry = item && item.webkitGetAsEntry && item.webkitGetAsEntry();\n                    if (entry && entry.isDirectory) {\n                        readEntry(entry, responders)\n                    } else {\n                        if (!collector(files[i], responders)) {\n                            _break = true;\n                            break\n                        }\n                    }\n                }\n            }\n\n            function readEntry(entry, responders) {\n                if (_break) return;\n                if (entry.isFile) {\n                    entry.file(function(file) {\n                        if (_break) return;\n                        if (!collector(file, responders)) {\n                            _break = true\n                        }\n                    })\n                } else if (entry.isDirectory) {\n                    entry.createReader().readEntries(function(entries) {\n                        if (_break) return;\n                        for (var i = 0, l = entries.length; i < l; i++) {\n                            if (_break) break;\n                            readEntry(entries[i], responders)\n                        }\n                    })\n                }\n            }\n            return reader\n        }\n        var Area = function(_Emitter) {\n            _inherits(Area, _Emitter);\n\n            function Area(area) {\n                _classCallCheck(this, Area);\n                _get(Object.getPrototypeOf(Area.prototype), \"constructor\", this).call(this);\n                this.areaElement = area\n            }\n            _createClass(Area, [{\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areaElement.contains(target)\n                }\n            }, {\n                key: \"start\",\n                value: function start(e, allowed) {\n                    this.emit(\"start\", e, allowed)\n                }\n            }, {\n                key: \"response\",\n                value: function response(e, allowed) {\n                    allowed = allowed && this.contains(e.target);\n                    this.emit(\"response\", e, allowed);\n                    return allowed\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.emit(\"end\", e)\n                }\n            }]);\n            return Area\n        }(_emitter2[\"default\"]);\n        var Collectors = [];\n\n        function prepare() {\n            if (!(\"DataTransfer\" in window) || !(\"FileList\" in window)) {\n                return\n            }\n            var $doc = (0, _jquery2[\"default\"])(document),\n                runtime = _html5Runtime2[\"default\"].getInstance();\n            var started = 0,\n                enter = 0,\n                endTimer = undefined;\n            var dataTransferReader = createReader(function(file, responders) {\n                if (!responders || responders.length < 1) {\n                    return false\n                }\n                file = new _file2[\"default\"](runtime, file);\n                var total = responders.length;\n                return responders.some(function(responder) {\n                    var ret = responder.recieve(file);\n                    if (ret > 0) {\n                        return true\n                    }\n                    if (ret < 0) {\n                        total -= 1\n                    }\n                    return false\n                }) || total > 0\n            });\n            var start = function start(e) {\n                started = 1;\n                Collectors.forEach(function(responder) {\n                    return responder.start(e)\n                })\n            };\n            var move = function move(e) {\n                var has = Collectors.filter(function(responder) {\n                    return responder.response(e)\n                }).length > 0;\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                if (dataTransfer) {\n                    dataTransfer.dropEffect = has ? \"copy\" : \"none\"\n                }\n                e.preventDefault()\n            };\n            var end = function end(e) {\n                started = 0;\n                enter = 0;\n                Collectors.forEach(function(responder) {\n                    return responder.end(e)\n                })\n            };\n            var drag = function drag(e) {\n                clearTimeout(endTimer);\n                var isLeave = e.type === \"dragleave\";\n                if (!isLeave && !started) {\n                    start(e)\n                }\n                move(e);\n                if (isLeave) {\n                    endTimer = setTimeout(function() {\n                        return end(e)\n                    }, 100)\n                }\n            };\n            var drop = function drop(e) {\n                e.preventDefault();\n                clearTimeout(endTimer);\n                end(e);\n                var responders = Collectors.filter(function(responder) {\n                    return responder.contains(e.target)\n                });\n                if (responders.length < 1) {\n                    return\n                }\n                var dataTransfer = (e.originalEvent || e).dataTransfer;\n                try {\n                    if (dataTransfer.getData(\"text/html\")) {\n                        return\n                    }\n                } catch (ex) {}\n                dataTransferReader(dataTransfer, responders)\n            };\n            $doc.on(\"dragenter dragover dragleave\", drag);\n            $doc.on(\"drop\", drop)\n        }\n        var DndCollector = function() {\n            function DndCollector(context) {\n                _classCallCheck(this, DndCollector);\n                if (Collectors.length < 1) {\n                    prepare()\n                }\n                Collectors.push(this);\n                this.context = context;\n                this.areas = []\n            }\n            _createClass(DndCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    var _this = this;\n                    area = new Area(area);\n                    this.areas.push(area);\n                    area.destroy = function() {\n                        area.removeAllListeners();\n                        var i = _this.areas.indexOf(area);\n                        if (i > -1) {\n                            _this.areas.splice(i, 1)\n                        }\n                    };\n                    return area\n                }\n            }, {\n                key: \"contains\",\n                value: function contains(target) {\n                    return this.areas.some(function(area) {\n                        return area.contains(target)\n                    })\n                }\n            }, {\n                key: \"start\",\n                value: function start(e) {\n                    this.areas.forEach(function(area) {\n                        return area.start(e)\n                    })\n                }\n            }, {\n                key: \"response\",\n                value: function response(e) {\n                    return this.areas.map(function(area) {\n                        return area.response(e)\n                    }).some(function(r) {\n                        return r !== false\n                    })\n                }\n            }, {\n                key: \"recieve\",\n                value: function recieve(file) {\n                    var ret = this.context.add(file);\n                    if (ret > 0 && !this.context.isMultiple()) {\n                        return -1\n                    } else {\n                        return ret\n                    }\n                }\n            }, {\n                key: \"end\",\n                value: function end(e) {\n                    this.areas.forEach(function(area) {\n                        return area.end(e)\n                    })\n                }\n            }]);\n            return DndCollector\n        }();\n        exports[\"default\"] = DndCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _jquery = __webpack_require__(3);\n        var _runtime = __webpack_require__(10);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(11);\n        var _transport2 = _interopRequireDefault(_transport);\n        var instance = undefined;\n        var Html5Runtime = function(_Runtime) {\n            _inherits(Html5Runtime, _Runtime);\n\n            function Html5Runtime() {\n                _classCallCheck(this, Html5Runtime);\n                _get(Object.getPrototypeOf(Html5Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Html5Runtime, [{\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(blob, timeout) {\n                    var i = (0, _jquery.Deferred)(),\n                        fr = new FileReader,\n                        timer = undefined;\n                    fr.onloadend = function() {\n                        if (fr.readyState == FileReader.DONE) {\n                            i.resolve(fr.result)\n                        } else {\n                            i.reject()\n                        }\n                        clearTimeout(timer);\n                        fr.onloadend = null\n                    };\n                    fr.readAsDataURL(blob);\n                    var abort = function abort() {\n                        fr && fr.abort();\n                        fr = null\n                    };\n                    if (timeout) {\n                        timer = setTimeout(abort, timeout)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    if (!this.transport) {\n                        this.transport = new _transport2[\"default\"](this)\n                    }\n                    return this.transport\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return !!(Blob.prototype.slice || Blob.prototype.mozSlice || Blob.prototype.webkitSlice)\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob, start, end) {\n                    var blobSlice = blob.slice || blob.mozSlice || blob.webkitSlice;\n                    return blobSlice.call(blob, start, end)\n                }\n            }, {\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    if (!window.SparkMD5) {\n                        i.reject();\n                        return i.promise()\n                    }\n                    var chunkSize = 2 * 1024 * 1024,\n                        chunks = Math.ceil(blob.size / chunkSize),\n                        chunk = 0,\n                        spark = new SparkMD5.ArrayBuffer,\n                        blobSlice = blob.mozSlice || blob.webkitSlice || blob.slice;\n                    var fr = new FileReader;\n                    var _loadNext = function loadNext() {\n                        if (!fr) return;\n                        var start = undefined,\n                            end = undefined;\n                        start = chunk * chunkSize;\n                        end = Math.min(start + chunkSize, blob.size);\n                        fr.onload = function() {\n                            spark && spark.append(fr.result)\n                        };\n                        fr.onloadend = function() {\n                            if (!fr) return;\n                            if (fr.readyState == FileReader.DONE) {\n                                if (++chunk < chunks) {\n                                    setTimeout(_loadNext, 1)\n                                } else {\n                                    setTimeout(function() {\n                                        spark && i.resolve(spark.end());\n                                        _loadNext = blob = spark = null\n                                    }, 50)\n                                }\n                            } else {\n                                i.reject()\n                            }\n                            fr.onloadend = fr.onload = null\n                        };\n                        fr.readAsArrayBuffer(blobSlice.call(blob, start, end))\n                    };\n                    _loadNext();\n                    var ret = i.promise();\n                    ret.abort = function() {\n                        fr && fr.abort();\n                        spark = null;\n                        fr = null\n                    };\n                    return ret\n                }\n            }], [{\n                key: \"getInstance\",\n                value: function getInstance() {\n                    if (!instance) {\n                        instance = new Html5Runtime\n                    }\n                    return instance\n                }\n            }]);\n            return Html5Runtime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = Html5Runtime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Runtime = function(_Emitter) {\n            _inherits(Runtime, _Emitter);\n\n            function Runtime() {\n                _classCallCheck(this, Runtime);\n                _get(Object.getPrototypeOf(Runtime.prototype), \"constructor\", this).apply(this, arguments)\n            }\n            _createClass(Runtime, [{\n                key: \"md5\",\n                value: function md5(blob) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(file, timeout) {\n                    var i = (0, _jquery.Deferred)();\n                    i.reject();\n                    return i.promise()\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport() {\n                    return null\n                }\n            }, {\n                key: \"getUploading\",\n                value: function getUploading() {\n                    if (!this.uploading) {\n                        this.uploading = new Uploading(this)\n                    }\n                    return this.uploading\n                }\n            }, {\n                key: \"canSlice\",\n                value: function canSlice() {\n                    return false\n                }\n            }, {\n                key: \"slice\",\n                value: function slice(blob) {\n                    throw new Error(\"this runtime current not support slice\")\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {}\n            }]);\n            return Runtime\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = Runtime;\n        var Uploading = function() {\n            function Uploading(runtime) {\n                _classCallCheck(this, Uploading);\n                this.runtime = runtime\n            }\n            _createClass(Uploading, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var _this = this;\n                    var i = (0, _jquery.Deferred)(),\n                        file = request.getFile(),\n                        runtime = this.runtime;\n                    var source = file.getSource(),\n                        size = file.size,\n                        chunkSize = request.getChunkSize(),\n                        useChunk = request.isChunkEnable(),\n                        threads = request.getChunkProcessThreads(),\n                        start = 0,\n                        end = 0,\n                        slots = [];\n                    var getActives = function getActives() {\n                        return slots.reduce(function(sum, slot) {\n                            return sum + (slot.state() === \"pending\" ? 1 : 0)\n                        }, 0)\n                    };\n                    var readChunk = function readChunk() {\n                        var slot = undefined,\n                            req = undefined,\n                            blob = undefined;\n                        while (end < size && getActives() < threads) {\n                            start = end;\n                            end = Math.min(end + chunkSize, size);\n                            blob = runtime.slice(source, start, end);\n                            req = request.createChunkRequest(slots.length, blob);\n                            slot = _this.slot(req, request.getChunkRetries());\n                            slot.progress(progress).done(done).fail(fail);\n                            slots.push(slot)\n                        }\n                    };\n                    var progress = function progress() {\n                        var total = size - end,\n                            loaded = 0;\n                        slots.forEach(function(slot) {\n                            total += slot.total;\n                            loaded += slot.loaded\n                        });\n                        i.notify({\n                            total: total,\n                            loaded: loaded\n                        })\n                    };\n                    var done = function done(res) {\n                        useChunk && readChunk();\n                        if (end >= size && slots.every(function(slot) {\n                                return slot.state() === \"resolved\"\n                            })) {\n                            i.resolve(res)\n                        }\n                    };\n                    var abort = function abort() {\n                        slots.forEach(function(slot) {\n                            return slot.abort()\n                        })\n                    };\n                    var fail = function fail(error) {\n                        i.reject(error);\n                        abort()\n                    };\n                    if (useChunk) {\n                        readChunk()\n                    } else {\n                        end = size;\n                        var slot = this.slot(request.createChunkRequest(0, source), 0);\n                        slot.progress(progress).done(done).fail(fail);\n                        slots.push(slot)\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }, {\n                key: \"slot\",\n                value: function slot(request, retries) {\n                    var i = (0, _jquery.Deferred)(),\n                        runtime = this.runtime,\n                        context = request.getFile().getContext();\n                    var slot = i.promise();\n                    var progress = function progress(e) {\n                        if (e.total) {\n                            slot.total = e.total\n                        }\n                        if (e.loaded) {\n                            slot.loaded = e.loaded\n                        }\n                        i.notify(e)\n                    };\n                    var process = function process() {\n                        var prepare, transport, completion;\n                        slot.abort = function() {\n                            prepare && prepare.abort();\n                            transport && transport.abort();\n                            completion && completion.abort()\n                        };\n                        slot.total = request.getBlob().size;\n                        slot.loaded = 0;\n                        prepare = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_PREPARING, request);\n                        prepare.then(function(request) {\n                            transport = runtime.getTransport().generate(request);\n                            transport.progress(progress);\n                            return transport\n                        }).then(function(response) {\n                            completion = context.invoke(_events2[\"default\"].CHUNK_UPLOAD_COMPLETING, request.createChunkResponse(response));\n                            return completion\n                        }).done(i.resolve).fail(error)\n                    };\n                    var error = function error(e) {\n                        if (e instanceof _errors.NetworkError && retries-- > 0) {\n                            setTimeout(process, 500)\n                        } else {\n                            i.reject(e)\n                        }\n                        slot.abort()\n                    };\n                    process();\n                    return slot\n                }\n            }]);\n            return Uploading\n        }();\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var Html5Transport = function() {\n            function Html5Transport() {\n                _classCallCheck(this, Html5Transport)\n            }\n            _createClass(Html5Transport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)();\n                    var timeoutTimer = undefined,\n                        withCredentials = false;\n                    var xhr = new XMLHttpRequest;\n                    if (request.isWithCredentials && !(\"withCredentials\" in xhr) && \"XDomainRequest\" in window) {\n                        xhr = new XDomainRequest;\n                        withCredentials = true\n                    }\n                    var clean = function clean() {\n                        xhr.onload = xhr.onerror = null;\n                        if (xhr.upload) {\n                            xhr.upload.onprogress = null\n                        }\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        try {\n                            xhr.abort()\n                        } catch (e) {}\n                    };\n                    var complete = function complete(e) {\n                        clean();\n                        if (!xhr.status && e.type === \"error\") {\n                            return i.reject(new _errors.AbortError(e.message))\n                        }\n                        if (xhr.status === 0 || xhr.status === 304 || xhr.status >= 200 && xhr.status < 300) {\n                            return i.resolve(xhr.responseText)\n                        }\n                        return i.reject(new _errors.NetworkError(xhr.status, xhr.statusText))\n                    };\n                    if (xhr.upload) {\n                        xhr.upload.onprogress = function(e) {\n                            return i.notify(e)\n                        }\n                    }\n                    xhr.onerror = complete;\n                    xhr.onload = complete;\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        (function() {\n                            if (withCredentials) {\n                                xhr.open(\"POST\", request.getUrl(), true);\n                                xhr.withCredentials = true\n                            } else {\n                                xhr.open(\"POST\", request.getUrl())\n                            }\n                            request.getHeaders().forEach(function(header) {\n                                return xhr.setRequestHeader(header.name, header.value)\n                            });\n                            var formData = new FormData,\n                                blob = request.getBlob();\n                            request.getParams().toArray().forEach(function(param) {\n                                return formData.append(param.name, param.value)\n                            });\n                            formData.append(request.getName(), blob, blob.name || \"blob\");\n                            xhr.send(formData)\n                        })()\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return Html5Transport\n        }();\n        exports[\"default\"] = Html5Transport;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _events = __webpack_require__(4);\n        var _events2 = _interopRequireDefault(_events);\n        var _status = __webpack_require__(5);\n        var _status2 = _interopRequireDefault(_status);\n        var _jquery = __webpack_require__(3);\n        var uid = 0;\n\n        function guid() {\n            return \"FILE-\" + (uid++).toString(16).toUpperCase()\n        }\n        var RE_EXT = /\\.([^.]+)$/,\n            RE_IMAGE = /\\/(jpg|jpeg|png|gif|bmp)$/i;\n\n        function guessExt(blob) {\n            var m = blob.name && RE_EXT.exec(blob.name);\n            if (m) {\n                return m[1]\n            }\n            m = blob.type && RE_IMAGE.exec(blob.type);\n            if (m) {\n                return m[1]\n            }\n            return \"\"\n        }\n\n        function guessType(ext) {\n            if ([\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\"].indexOf(ext.toLowerCase())) {\n                return \"image/\" + (ext === \"jpg\" ? \"jpeg\" : ext)\n            }\n            return null\n        }\n        var Progress = function() {\n            function Progress(total, loaded) {\n                _classCallCheck(this, Progress);\n                this.change(total, loaded)\n            }\n            _createClass(Progress, [{\n                key: \"change\",\n                value: function change(total, loaded) {\n                    this.total = total;\n                    this.loaded = loaded || 0;\n                    this.percentage = this.loaded === this.total ? 100 : Math.ceil(this.loaded / this.total * 100)\n                }\n            }, {\n                key: \"done\",\n                value: function done() {\n                    this.change(this.total, this.total)\n                }\n            }]);\n            return Progress\n        }();\n        exports[\"default\"] = Progress;\n        var File = function(_Emitter) {\n            _inherits(File, _Emitter);\n\n            function File(runtime, source, filename) {\n                _classCallCheck(this, File);\n                _get(Object.getPrototypeOf(File.prototype), \"constructor\", this).call(this);\n                this.id = guid();\n                this.name = source.name || filename || this.id;\n                var ext = guessExt(source).toLowerCase();\n                if (ext && !RE_EXT.test(this.name)) {\n                    this.name += \".\" + ext\n                }\n                this.ext = ext;\n                this.type = source.type || guessType(this.ext) || \"application/octet-stream\";\n                this.lastModified = source.lastModified || +new Date;\n                this.size = source.size || 0;\n                this.runtime = runtime;\n                this.source = source;\n                this.status = _status2[\"default\"].INITED;\n                this.progress = new Progress(this.size, 0)\n            }\n            _createClass(File, [{\n                key: \"getContext\",\n                value: function getContext() {\n                    return this.context\n                }\n            }, {\n                key: \"setContext\",\n                value: function setContext(context) {\n                    this.context = context;\n                    this.setPropagationTarget(context)\n                }\n            }, {\n                key: \"getRuntime\",\n                value: function getRuntime() {\n                    return this.runtime\n                }\n            }, {\n                key: \"isImage\",\n                value: function isImage() {\n                    return RE_IMAGE.test(this.type)\n                }\n            }, {\n                key: \"setStatus\",\n                value: function setStatus(status) {\n                    var prevStatus = this.status;\n                    if (prevStatus !== _status2[\"default\"].CANCELLED && status !== prevStatus) {\n                        this.status = status;\n                        this.emit(_events2[\"default\"].FILE_STATUS_CHANGE, status, prevStatus)\n                    }\n                }\n            }, {\n                key: \"getStatus\",\n                value: function getStatus() {\n                    return this.status\n                }\n            }, {\n                key: \"getStatusName\",\n                value: function getStatusName() {\n                    if (this.status in _status.StatusName) {\n                        return _status.StatusName[this.status]\n                    } else {\n                        return \"unknow\"\n                    }\n                }\n            }, {\n                key: \"getSource\",\n                value: function getSource() {\n                    return this.source\n                }\n            }, {\n                key: \"getAsDataUrl\",\n                value: function getAsDataUrl(timeout) {\n                    if (!this._dataUrlPromise) {\n                        this._dataUrlPromise = this.runtime.getAsDataUrl(this.source, timeout)\n                    }\n                    return this._dataUrlPromise\n                }\n            }, {\n                key: \"md5\",\n                value: function md5() {\n                    if (!this._md5Promise) {\n                        this._md5Promise = this.runtime.md5(this.source)\n                    }\n                    return this._md5Promise\n                }\n            }, {\n                key: \"session\",\n                value: function session() {\n                    var _this = this;\n                    if (this._sessionPromise) {\n                        return this._sessionPromise\n                    }\n                    var session = (0, _jquery.Deferred)();\n                    session.progress(function(progress) {\n                        _this.setStatus(_status2[\"default\"].PROGRESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_PROGRESS, progress)\n                    }).done(function(response) {\n                        _this.response = response;\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        _this._flows = [];\n                        _this.setStatus(_status2[\"default\"].SUCCESS);\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_SUCCESS, response)\n                    }).fail(function(error) {\n                        _this._session = null;\n                        _this._sessionPromise = null;\n                        var flow = undefined;\n                        while (flow = _this._flows.shift()) {\n                            flow.abort()\n                        }\n                        if (error instanceof Error) {\n                            _this.setStatus(_status2[\"default\"].ERROR);\n                            _this.emit(_events2[\"default\"].FILE_UPLOAD_ERROR, error)\n                        }\n                    }).always(function() {\n                        _this.emit(_events2[\"default\"].FILE_UPLOAD_COMPLETED, _this.getStatus())\n                    });\n                    this._flows = [];\n                    this._session = session;\n                    this._sessionPromise = session.promise();\n                    return this._sessionPromise\n                }\n            }, {\n                key: \"prepare\",\n                value: function prepare() {\n                    var _this2 = this;\n                    if (this.status !== _status2[\"default\"].PENDING || !this.context) {\n                        return false\n                    }\n                    this.session();\n                    this.setStatus(_status2[\"default\"].PROGRESS);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_START);\n                    this.request = this.context.createFileRequest(this);\n                    var prepare = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_PREPARING, this.request);\n                    this._flows.push(prepare);\n                    prepare.then(function(request) {\n                        _this2.emit(_events2[\"default\"].FILE_UPLOAD_PREPARED, request);\n                        var upload = _this2.runtime.getUploading().generate(request);\n                        _this2._flows.push(upload);\n                        upload.progress(function(e) {\n                            _this2.progress.change(e.total, e.loaded);\n                            _this2._session.notify(_this2.progress)\n                        });\n                        return upload\n                    }).then(function(response) {\n                        return _this2.complete(response)\n                    }, this._session.reject);\n                    return true\n                }\n            }, {\n                key: \"complete\",\n                value: function complete(response) {\n                    if (this.status !== _status2[\"default\"].PROGRESS) return;\n                    var flow = undefined;\n                    while (flow = this._flows.shift()) {\n                        flow.abort()\n                    }\n                    this.progress.done();\n                    this._session.notify(this.progress);\n                    response = this.request.createFileResponse(response);\n                    this.setStatus(_status2[\"default\"].END);\n                    this.emit(_events2[\"default\"].FILE_UPLOAD_END);\n                    var complete = this.context.invoke(_events2[\"default\"].FILE_UPLOAD_COMPLETING, response);\n                    this._flows.push(complete);\n                    complete.then(this._session.resolve, this._session.reject)\n                }\n            }, {\n                key: \"pending\",\n                value: function pending() {\n                    if (this.status === _status2[\"default\"].ERROR || this.status === _status2[\"default\"].QUEUED) {\n                        this.progress.change(this.size, 0);\n                        this.setStatus(_status2[\"default\"].PENDING)\n                    }\n                }\n            }, {\n                key: \"abort\",\n                value: function abort() {\n                    this._session && this._session.reject();\n                    this._session = null;\n                    this._sessionPromise = null\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel() {\n                    this.setStatus(_status2[\"default\"].CANCELLED);\n                    this.emit(_events2[\"default\"].FILE_CANCEL);\n                    this.abort();\n                    this.runtime.cancel(this.source);\n                    this._dataUrlPromise && this._dataUrlPromise.abort();\n                    this._md5Promise && this._md5Promise.abort && this._md5Promise.abort();\n                    this.removeAllListeners()\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    this.cancel()\n                }\n            }]);\n            return File\n        }(_emitter2[\"default\"]);\n        exports[\"default\"] = File;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n        var PasteCollector = function() {\n            function PasteCollector(context) {\n                _classCallCheck(this, PasteCollector);\n                this.context = context;\n                this.runtime = _html5Runtime2[\"default\"].getInstance()\n            }\n            _createClass(PasteCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    area = area.on ? area : (0, _jquery2[\"default\"])(area);\n                    var context = this.context,\n                        runtime = this.runtime,\n                        emitter = new _emitter2[\"default\"];\n                    var paste = function paste(e) {\n                        if (e.isDefaultPrevented()) {\n                            return\n                        }\n                        var clipboardData = (e.originalEvent || e).clipboardData || window.clipboardData,\n                            items = clipboardData.items,\n                            files = clipboardData.files;\n                        if (!files) {\n                            try {\n                                if (!items || clipboardData.getData(\"text/html\")) {\n                                    return\n                                }\n                            } catch (ex) {}\n                        }\n                        var prevent = undefined,\n                            i = undefined,\n                            l = undefined,\n                            file = undefined,\n                            item = undefined,\n                            addRet = undefined;\n                        if (files && files.length) {\n                            prevent = files.length > 0;\n                            for (i = 0, l = files.length; i < l; i++) {\n                                file = new _file2[\"default\"](runtime, files[i]);\n                                prevent = 1;\n                                addRet = context.add(file);\n                                if (addRet < 0 || addRet > 0 && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        } else if (items && items.length) {\n                            var filename = clipboardData.getData(\"text/plain\");\n                            for (i = 0, l = items.length; i < l && !context.isLimit(); i++) {\n                                item = items[i];\n                                if (item.kind !== \"file\" || !(file = item.getAsFile())) {\n                                    continue\n                                }\n                                file = new _file2[\"default\"](runtime, file, filename);\n                                filename = null;\n                                prevent = 1;\n                                addRet = context.add(file);\n                                if (addRet < 0 || addRet > 0 && !context.isMultiple()) {\n                                    break\n                                }\n                            }\n                        }\n                        if (prevent) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            emitter.emit(\"paste\", clipboardData)\n                        }\n                    };\n                    if (\"DataTransfer\" in window && \"FileList\" in window) {\n                        area.on(\"paste\", paste)\n                    }\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        area.off(\"paste\", paste)\n                    };\n                    return emitter\n                }\n            }]);\n            return PasteCollector\n        }();\n        exports[\"default\"] = PasteCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _jquery = __webpack_require__(3);\n        var _jquery2 = _interopRequireDefault(_jquery);\n        var _emitter = __webpack_require__(2);\n        var _emitter2 = _interopRequireDefault(_emitter);\n        var _html5Runtime = __webpack_require__(9);\n        var _html5Runtime2 = _interopRequireDefault(_html5Runtime);\n        var _flashRuntime = __webpack_require__(15);\n        var _flashRuntime2 = _interopRequireDefault(_flashRuntime);\n        var _file = __webpack_require__(12);\n        var _file2 = _interopRequireDefault(_file);\n        var SWF_URL = \"\";\n        var FlashTriggerCollection = function() {\n            function FlashTriggerCollection(context, onFiles) {\n                var _this = this;\n                _classCallCheck(this, FlashTriggerCollection);\n                var overlay = (0, _jquery2[\"default\"])(\"<label></label>\");\n                overlay.css({\n                    position: \"fixed\",\n                    opacity: 0,\n                    left: -100,\n                    top: -100,\n                    width: 50,\n                    height: 50,\n                    display: \"block\",\n                    cursor: \"pointer\",\n                    background: \"black\",\n                    overflow: \"hidden\",\n                    zIndex: 99999\n                });\n                var runtime = new _flashRuntime2[\"default\"](overlay, SWF_URL, function() {\n                    return {\n                        accept: context.getAccept(),\n                        multiple: context.isMultiple()\n                    }\n                });\n                runtime.on(\"select\", function(e) {\n                    onFiles(e.files, runtime);\n                    _this.current && _this.current.emit(\"files\", e.files, runtime)\n                });\n                runtime.on(\"rollOut\", function() {\n                    return _this.hideOverlay()\n                });\n                this.overlay = overlay.appendTo(document.body)\n            }\n            _createClass(FlashTriggerCollection, [{\n                key: \"hideOverlay\",\n                value: function hideOverlay() {\n                    this.overlay.css({\n                        left: -100,\n                        top: -100,\n                        width: 50,\n                        height: 50\n                    });\n                    if (this.current) {\n                        this.current.emit(\"rollOut\");\n                        this.current = null\n                    }\n                }\n            }, {\n                key: \"add\",\n                value: function add(trigger) {\n                    var _this2 = this;\n                    var overlay = this.overlay,\n                        emitter = new _emitter2[\"default\"];\n                    trigger = trigger.on ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.on(\"mouseover.flashpicker\", function() {\n                        var rect = this.getBoundingClientRect();\n                        overlay.css({\n                            left: rect.left,\n                            top: rect.top,\n                            width: rect.right - rect.left,\n                            height: rect.bottom - rect.top\n                        });\n                        emitter.emit(\"rollOver\");\n                        if (this.current && this.current !== emitter) {\n                            this.current.emit(\"rollOut\")\n                        }\n                        this.current = emitter\n                    });\n                    emitter.destroy = function() {\n                        if (_this2.current === emitter) {\n                            _this2.hideOverlay()\n                        }\n                        emitter.removeAllListeners();\n                        trigger.off(\"mouseover.flashpicker\")\n                    };\n                    return emitter\n                }\n            }]);\n            return FlashTriggerCollection\n        }();\n        var Html5TriggerCollection = function() {\n            function Html5TriggerCollection(context, onFiles) {\n                var _this3 = this;\n                _classCallCheck(this, Html5TriggerCollection);\n                var runtime = _html5Runtime2[\"default\"].getInstance();\n                this._createInput = function(label) {\n                    var input = (0, _jquery2[\"default\"])(document.createElement(\"input\"));\n                    input.attr(\"type\", \"file\");\n                    input.css({\n                        position: \"absolute\",\n                        clip: \"rect(1px 1px 1px 1px)\"\n                    });\n                    var accept = context.getAccept();\n                    if (accept && accept.length > 0) {\n                        accept = accept.map(function(item) {\n                            return item.mimeTypes\n                        });\n                        input.attr(\"accept\", accept.join(\",\"))\n                    }\n                    if (context.isMultiple()) {\n                        input.attr(\"multiple\", \"multiple\")\n                    }\n                    input.on(\"change\", function(e) {\n                        onFiles(e.target.files, runtime);\n                        input.remove();\n                        _this3._createInput(label)\n                    });\n                    label.html(input)\n                }\n            }\n            _createClass(Html5TriggerCollection, [{\n                key: \"add\",\n                value: function add(trigger) {\n                    var label = (0, _jquery2[\"default\"])(\"<label></label>\"),\n                        emitter = new _emitter2[\"default\"];\n                    label.css({\n                        position: \"absolute\",\n                        opacity: 0,\n                        top: 0,\n                        left: 0,\n                        width: \"100%\",\n                        height: \"100%\",\n                        display: \"inline-block\",\n                        cursor: \"pointer\",\n                        background: \"#fff\",\n                        overflow: \"hidden\"\n                    });\n                    this._createInput(label);\n                    trigger = trigger.append ? trigger : (0, _jquery2[\"default\"])(trigger);\n                    trigger.append(label);\n                    emitter.destroy = function() {\n                        emitter.removeAllListeners();\n                        label.remove()\n                    };\n                    return emitter\n                }\n            }]);\n            return Html5TriggerCollection\n        }();\n        var PickerCollector = function() {\n            _createClass(PickerCollector, null, [{\n                key: \"setSWF\",\n                value: function setSWF(url) {\n                    SWF_URL = url\n                }\n            }]);\n\n            function PickerCollector(context) {\n                _classCallCheck(this, PickerCollector);\n                var onFiles = function onFiles(files, runtime) {\n                    for (var i = 0, l = files.length; i < l; i++) {\n                        if (context.add(new _file2[\"default\"](runtime, files[i])) < 0) {\n                            break\n                        }\n                    }\n                };\n                if (\"DataTransfer\" in window && \"FileList\" in window) {\n                    this.triggerCollection = new Html5TriggerCollection(context, onFiles)\n                } else {\n                    this.triggerCollection = new FlashTriggerCollection(context, onFiles)\n                }\n            }\n            _createClass(PickerCollector, [{\n                key: \"addArea\",\n                value: function addArea(area) {\n                    return this.triggerCollection.add(area)\n                }\n            }]);\n            return PickerCollector\n        }();\n        exports[\"default\"] = PickerCollector;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n        var _get = function get(_x, _x2, _x3) {\n            var _again = true;\n            _function: while (_again) {\n                var object = _x,\n                    property = _x2,\n                    receiver = _x3;\n                desc = parent = getter = undefined;\n                _again = false;\n                if (object === null) object = Function.prototype;\n                var desc = Object.getOwnPropertyDescriptor(object, property);\n                if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);\n                    if (parent === null) {\n                        return undefined\n                    } else {\n                        _x = parent;\n                        _x2 = property;\n                        _x3 = receiver;\n                        _again = true;\n                        continue _function\n                    }\n                } else if (\"value\" in desc) {\n                    return desc.value\n                } else {\n                    var getter = desc.get;\n                    if (getter === undefined) {\n                        return undefined\n                    }\n                    return getter.call(receiver)\n                }\n            }\n        };\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                \"default\": obj\n            }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n\n        function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n                throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass)\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass\n        }\n        var _runtime = __webpack_require__(10);\n        var _runtime2 = _interopRequireDefault(_runtime);\n        var _transport = __webpack_require__(16);\n        var _transport2 = _interopRequireDefault(_transport);\n\n        function getFlashVersion() {\n            var version = undefined;\n            try {\n                version = navigator.plugins[\"Shockwave Flash\"];\n                version = version.description\n            } catch (e1) {\n                try {\n                    version = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\")\n                } catch (e2) {\n                    version = \"0.0\"\n                }\n            }\n            version = version.match(/\\d+/g);\n            return parseFloat(version[0] + \".\" + version[1])\n        }\n\n        function callFlash(movie, functionName, argumentArray) {\n            try {\n                movie.CallFunction('<invoke name=\"' + functionName + '\" returntype=\"javascript\">' + __flash__argumentsToXML(argumentArray || [], 0) + \"</invoke>\")\n            } catch (ex) {\n                throw \"Call to \" + functionName + \" failed\"\n            }\n        }\n\n        function createFlash(swf, callInterface) {\n            if (getFlashVersion() < 11.4) {\n                throw \"flash player is not available\"\n            }\n            var div = document.createElement(\"div\");\n            var url = swf + (swf.indexOf(\"?\") > 0 ? \"&\" : \"?\") + \"callInterface=\" + encodeURIComponent(callInterface);\n            var attrs = ['id=\"' + callInterface + '-Picker\"', 'type=\"application/x-shockwave-flash\"', 'data=\"' + url + '\"', 'width=\"100%\" height=\"100%\"', 'style=\"position:absolute;left:0;top:0;display:block;z-index:1;outline:0\"'];\n            if (window.ActiveXObject) {\n                attrs.push('classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"')\n            }\n            div.innerHTML = \"<object \" + attrs.join(\" \") + \">\" + '<param name=\"movie\" value=\"' + url + '\" />' + '<param name=\"wmode\" value=\"transparent\" />' + '<param name=\"allowscriptaccess\" value=\"always\" />' + \"</object>\";\n            return div.firstChild\n        }\n        var _guid = +new Date;\n\n        function guid(_x4) {\n            var _again2 = true;\n            _function2: while (_again2) {\n                var prefix = _x4;\n                ret = undefined;\n                _again2 = false;\n                var ret = prefix + (_guid++).toString(16);\n                if (ret in window) {\n                    _x4 = prefix;\n                    _again2 = true;\n                    continue _function2\n                }\n                return ret\n            }\n        }\n        var FlashRuntime = function(_Runtime) {\n            _inherits(FlashRuntime, _Runtime);\n\n            function FlashRuntime(trigger, swf, options) {\n                _classCallCheck(this, FlashRuntime);\n                _get(Object.getPrototypeOf(FlashRuntime.prototype), \"constructor\", this).call(this);\n                var callInterface = guid(\"FlashRuntime\");\n                this.callInterface = callInterface;\n                window[callInterface] = this;\n                this.options = options;\n                var _this = this;\n\n                function display() {\n                    var w = trigger[0].offsetWidth,\n                        h = trigger[0].offsetHeight,\n                        flash = undefined;\n                    if (!w || !h || !(flash = createFlash(swf, callInterface))) {\n                        setTimeout(display, 1e3);\n                        return\n                    }\n                    trigger.append(_this.flash = flash)\n                }\n                display()\n            }\n            _createClass(FlashRuntime, [{\n                key: \"getOptions\",\n                value: function getOptions() {\n                    var options = this.options;\n                    if (typeof options === \"function\") {\n                        options = options()\n                    }\n                    return options\n                }\n            }, {\n                key: \"getTransport\",\n                value: function getTransport(name, blob, options) {\n                    return new _transport2[\"default\"](this, name, blob, options)\n                }\n            }, {\n                key: \"send\",\n                value: function send(name, blob, url, params) {\n                    callFlash(this.flash, \"exec\", [\"send\", name, blob.id, url, params])\n                }\n            }, {\n                key: \"abort\",\n                value: function abort(blob) {\n                    try {\n                        callFlash(this.flash, \"exec\", [\"abort\", blob.id])\n                    } catch (e) {}\n                }\n            }, {\n                key: \"cancel\",\n                value: function cancel(blob) {\n                    callFlash(this.flash, \"exec\", [\"cancel\", blob.id])\n                }\n            }, {\n                key: \"ping\",\n                value: function ping() {\n                    callFlash(this.flash, \"exec\", [\"pang\"])\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    delete window[this.callInterface]\n                }\n            }]);\n            return FlashRuntime\n        }(_runtime2[\"default\"]);\n        exports[\"default\"] = FlashRuntime;\n        module.exports = exports[\"default\"]\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if (\"value\" in descriptor) descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor)\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                if (staticProps) defineProperties(Constructor, staticProps);\n                return Constructor\n            }\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\")\n            }\n        }\n        var _errors = __webpack_require__(6);\n        var _jquery = __webpack_require__(3);\n        var FlashTransport = function() {\n            function FlashTransport(flashRuntime) {\n                _classCallCheck(this, FlashTransport);\n                this.flashRuntime = flashRuntime\n            }\n            _createClass(FlashTransport, [{\n                key: \"generate\",\n                value: function generate(request) {\n                    var i = (0, _jquery.Deferred)(),\n                        flashRuntime = this.flashRuntime,\n                        blob = request.getBlob();\n                    var timeoutTimer = undefined;\n                    var clean = function clean() {\n                        flashRuntime.off(\"uploadprogress\", progress);\n                        flashRuntime.off(\"uploadcomplete\", complete);\n                        flashRuntime.off(\"uploaderror\", error);\n                        if (timeoutTimer) {\n                            clearTimeout(timeoutTimer)\n                        }\n                    };\n                    var abort = function abort() {\n                        clean();\n                        flashRuntime.abort(blob.id)\n                    };\n                    var progress = function progress(e) {\n                        if (e.id !== blob.id) return;\n                        i.notify(e)\n                    };\n                    var complete = function complete(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        if (e.status === 304 || e.status >= 200 && e.status < 300) {\n                            flashRuntime.cancel(blob);\n                            return i.resolve(e.response)\n                        }\n                        return i.reject(new _errors.NetworkError(e.status, e.response))\n                    };\n                    var error = function error(e) {\n                        if (e.id !== blob.id) return;\n                        clean();\n                        i.reject(new _errors.AbortError(e.message))\n                    };\n                    flashRuntime.on(\"uploadprogress\", progress);\n                    flashRuntime.on(\"uploadcomplete\", complete);\n                    flashRuntime.on(\"uploaderror\", error);\n                    var timeout = request.getTimeout();\n                    if (timeout > 0) {\n                        timeoutTimer = setTimeout(function() {\n                            abort();\n                            i.reject(new _errors.TimeoutError(\"timeout:\" + timeout))\n                        }, timeout)\n                    }\n                    try {\n                        flashRuntime.send(request.getName(), blob, request.getUrl(), request.getParams().toString())\n                    } catch (e) {\n                        abort();\n                        i.reject(new _errors.AbortError(e.message))\n                    }\n                    var ret = i.promise();\n                    ret.abort = abort;\n                    return ret\n                }\n            }]);\n            return FlashTransport\n        }();\n        exports[\"default\"] = FlashTransport;\n        module.exports = exports[\"default\"]\n    }]);\n    UXUploader[\"default\"].setSWF(require.resolve(\"./flashpicker.swf#\"));\n    UXUploader[\"default\"].Status = UXUploader.Status;\n    UXUploader[\"default\"].Events = UXUploader.Events;\n    module.exports = UXUploader[\"default\"]\n});"],"sourceRoot":"/source/"}